(function(){var __webpack_modules__={5618:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3948),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_1__),_plugins_mixin_utilsMixin__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(434);__webpack_exports__.Z={name:"UserAccountDropdown",mixins:[_plugins_mixin_utilsMixin__WEBPACK_IMPORTED_MODULE_2__.Z],props:{color:String,extraClasses:String,denseActivator:Boolean,denseMenu:{type:Boolean,default:!0},username:String,icon:String,showPreferencesMenu:Boolean},created:function(){this.showPreferencesMenu&&this.entries.unshift({i18n_string:"userAccountDropdown.changePreferences",action:"this.openAccountSettings",prepend_icon:"mdi-cog",append_icon:""})},data:function(){return{menu_expanded:!1,entries:[{i18n_string:"userAccountDropdown.logout",action:"this.emitLogout",prepend_icon:"mdi-logout",append_icon:""}]}},computed:{minWidth:function(){return String(this.username.length+4)+"ch"}},methods:{emitLogout:function(){this.$emit("logout")},openAccountSettings:function(){this.$emit("openSettings")},doFn:function doFn(f){eval(f+"()")}}}},8386:function(e,t,r){"use strict";r.d(t,{B:function(){return Ti}});r(6992),r(8674),r(9601),r(7727);var s=r(144),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[r("title",[e._v(e._s(e.$t("indexTitle")))]),r("router-view")],1)},o=[],i={mounted:function(){var e=document.documentElement;e.setAttribute("lang",this.$i18n.locale)}},n=i,l=r(1001),c=r(3453),d=r.n(c),u=r(7524),p=(0,l.Z)(n,a,o,!1,null,null,null),m=p.exports;d()(p,{VApp:u.Z});var v=r(9132);s.Z.use(v.Z);var g=new v.Z({options:{customProperties:!0},icons:{iconfont:"mdi"},theme:{dark:!1,themes:{light:{primary:"#528dcc",primary_strong:"#2077d3",text_normal:"#000000",text_inverted:"#FFFFFF",accent:"#ffc389",accent_alt:"#Efb379",secondary:"#32363a",secondary_alt:"#4e535c",valid:"#21ae67",background:"#FFFFFF",background_alt:"#f7fbff",error:"#E01111",cancel:"#ff1616"},dark:{text_normal:"#FFFFFF",text_inverted:"#000000",primary:"#528dcc",primary_strong:"#5895d6",accent:"#ffc389",accent_alt:"#Efb379",secondary:"#32363a",secondary_alt:"#4e535c",valid:"#21ae67",background:"#32363a",background_alt:"#42474d",error:"#E01111",cancel:"#ff1616"}}}}),h=(r(1539),r(4747),r(3948),r(4916),r(4723),r(7152));function f(){var e=r(3631),t={};return e.keys().forEach((function(r){var s=r.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var a=s[1];t[a]=e(r)}})),t}s.Z.use(h.Z);var b,_=new h.Z({locale:"en",fallbackLocale:"en",messages:f()}),y=r(8345),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("v-row",{class:"ma-0 pa-0 px-4 text-normal transition-speed-fix "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),attrs:{align:"center",justify:"space-between"}},[r("v-img",{staticClass:"my-3",attrs:{"max-width":"30ch","max-height":"5em",contain:"","aspect-ratio":32/9,src:e.isThemeDark(e.$vuetify)?e.logoDark:e.logoLight}}),r("h2",{staticClass:"ma-2 my-4 font-weight-medium"},[e._v(e._s(e.domain.toUpperCase()))])],1),r("v-row",{class:"ma-0 pa-2 transition-speed-fix "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),staticStyle:{height:"fit-content"},attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify),align:"center",justify:"space-between"}},[r("v-col",{attrs:{cols:"12",md:"auto"}},[r("LanguageSelector",{attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)},on:{updateTabSliders:e.refreshOnLanguageChange}})],1),this.$vuetify.breakpoint.lgAndUp?r("v-divider",{staticClass:"ma-6",staticStyle:{"border-color":"var(--clr-primary)"}}):e._e(),!this.$vuetify.breakpoint.mdAndUp&&e.realm&&""!=e.realm?r("v-col",{staticClass:"ma-0 pa-0 my-3"},[e.last_name&&""!=e.last_name&&e.first_name&&""!=e.first_name?r("span",{staticClass:"text-normal"},[e._v(" "+e._s(e.last_name+", "+e.first_name+" | "+e.realm.toUpperCase()+"@"+e.username)+" ")]):r("span",{staticClass:"text-normal"},[e._v(" "+e._s(e.realm.toUpperCase()+"@"+e.username)+" ")])]):e._e(),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"auto"}},[r("div",{staticClass:"mt-2 mr-4"},[r("UserAccountDropdown",{attrs:{extraClasses:"mr-3 px-2",icon:"mdi-account-cog",color:"primary",showPreferencesMenu:"",username:e.activeUserName},on:{logout:e.logoutAction,openSettings:e.openSettings}}),r("ThemeChanger",{attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify),buttonIsSmall:!0}}),e._e()],1)])],1),this.$vuetify.breakpoint.mdAndUp?r("v-toolbar",{class:"sticky-top transition-speed-fix "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),staticStyle:{"z-index":"1"},attrs:{dense:"",id:"tabs-nav-bar",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},[r("v-fade-transition",[e.showNavTabs?r("v-tabs",{attrs:{color:"primary","slider-size":"4","center-active":"",centered:"","show-arrows":""},model:{value:e.active_tab,callback:function(t){e.active_tab=t},expression:"active_tab"}},e._l(e.navTabs,(function(t){return r("v-tab",{key:t.index,staticClass:"px-4",attrs:{disabled:!t.enabled},on:{click:function(r){return e.updateSelectedTab(t.index)}}},[r("v-icon",{staticClass:"hidden-md-and-down mr-2"},[e._v(e._s(t.icon))]),e.$vuetify.breakpoint.lg&&1==t.enableShortName?r("span",[e._v(" "+e._s(e.$t("category."+t.title+"_short"))+" ")]):r("span",[e._v(" "+e._s(e.$t("category."+t.title))+" ")])],1)})),1):e._e()],1)],1):r("v-toolbar",{class:"sticky-top "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),staticStyle:{"z-index":"1"},attrs:{dense:"",id:"tabs-nav-bar",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},[r("v-row",{staticClass:"mx-12",attrs:{justify:"space-between",align:"center"}},[r("v-btn",{attrs:{text:"",color:"primary",disabled:0==e.active_tab},on:{click:e.goToPrevTab}},[r("v-icon",[e._v(" mdi-chevron-double-left ")]),r("span",[e._v(" "+e._s(e.$t("actions.back_short"))+" ")])],1),r("span",[1==e.navTabs[e.active_tab].enableShortName?r("span",{staticClass:"font-weight-medium clr-primary"},[e._v(" "+e._s(e.$t("category."+e.navTabs[e.active_tab].title+"_short").toUpperCase())+" ")]):r("span",{staticClass:"font-weight-medium clr-primary"},[e._v(" "+e._s(e.$t("category."+e.navTabs[e.active_tab].title).toUpperCase())+" ")])]),r("v-btn",{attrs:{text:"",color:"primary",disabled:e.active_tab==e.navTabs.length-1},on:{click:e.goToNextTab}},[r("span",[e._v(" "+e._s(e.$t("actions.next"))+" ")]),r("v-icon",[e._v(" mdi-chevron-double-right ")])],1)],1)],1),r("v-tabs-items",{staticClass:"transparent-body",model:{value:e.active_tab,callback:function(t){e.active_tab=t},expression:"active_tab"}},e._l(e.navTabs,(function(t){return r("v-tab-item",{key:t.index},[r("ModularViewContainer",{ref:"ModularViewContainerRef",refInFor:!0,attrs:{initLoad:e.initLoad,viewTitle:t.title,viewIndex:t.index,langChanged:e.langChanged,requestRefresh:e.requestRefresh},on:{refresh:function(t){return e.loadDomainData()},goToUser:e.goToUser,goToGroup:e.goToGroup}})],1)})),1),r("NotificationBusContainer"),r("v-dialog",{attrs:{"max-width":"48rem"},model:{value:e.showAboutDialog,callback:function(t){e.showAboutDialog=t},expression:"showAboutDialog"}},[r("AboutDialog",{on:{close:e.closeAbout}})],1),r("v-dialog",{attrs:{"max-width":"48rem"},model:{value:e.showSettingsDialog,callback:function(t){e.showSettingsDialog=t},expression:"showSettingsDialog"}},[r("UserSettings",{ref:"UserSettings",attrs:{username:e.username,first_name:e.first_name,last_name:e.last_name,domain:e.domain,realm:e.realm},on:{close:function(t){e.showSettingsDialog=!e.showSettingsDialog}}})],1),r("v-dialog",{attrs:{persistent:"","content-class":"","max-width":"40rem"},model:{value:e.showLogoutDialog,callback:function(t){e.showLogoutDialog=t},expression:"showLogoutDialog"}},[r("LogoutDialog",{on:{logoutAction:function(t){return e.logoutAction(!0)}}})],1),r("v-dialog",{attrs:{persistent:"",eager:"","content-class":"","max-width":"40rem"},model:{value:e.showRefreshTokenDialog,callback:function(t){e.showRefreshTokenDialog=t},expression:"showRefreshTokenDialog"}},[r("RefreshTokenDialog",{ref:"RefreshTokenDialog",attrs:{countdown:e.showRefreshTokenDialog},on:{closeDialog:e.closeRefreshDialog,logoutAction:function(t){return e.logoutAction()}}})],1),r("v-footer",{staticClass:"py-1",attrs:{padless:"",id:"home-footer",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},[r("v-row",{class:"mx-4 my-1 "+(e.$vuetify.breakpoint.mdAndDown?"":"text-caption"),attrs:{align:"center",justify:"center"}},[e._v(" "+e._s(e.$t("footer.copyright"))+" "),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"mx-2 mr-1 px-3",attrs:{color:"primary",small:"",id:"donateBtn",outlined:"",href:"https://www.paypal.com/donate/?hosted_button_id=FFR7CG7X477NL",target:"_blank",dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify)}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-heart-outline ")]),e._v(" "+e._s(e.$t("footer.donate"))+" ")],1),r("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"ma-0 mx-2",attrs:{small:"",color:"primary",icon:""},on:{click:function(t){e.showAboutDialog=!0}}},"v-btn",a,!1),s),[r("v-icon",[e._v(" mdi-information ")])],1)]}}])},[r("span",[e._v(e._s(e.$t("footer.about").toUpperCase()))])])],1)],1)],1)},w=[],k=r(7906),x=r(6198),D=(r(7601),r(8309),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"my-4 max-width-change"},[r("v-row",{staticClass:"ma-2",attrs:{justify:"center",align:"center"}},[r("v-divider",{staticClass:"mx-6"}),r("h1",[e._v(e._s(e.$t("category.header."+e.viewTitle)))]),r("v-divider",{staticClass:"mx-6"})],1),"home"==e.viewTitle&&1==e.initLoad?r("v-container",{staticClass:"max-width-change"},[r("DirtreeView",{ref:"DirtreeView",attrs:{requestRefresh:this.refreshUserDataTable,viewTitle:e.viewTitle,snackbarTimeout:this.snackbarTimeout},on:{refresh:e.refreshAction,goToUser:e.goToUser,goToGroup:e.goToGroup}})],1):e._e(),"users"==e.viewTitle?r("v-container",{staticClass:"max-width-change"},[r("UserView",{ref:"UserView",attrs:{requestRefresh:this.refreshUserDataTable,viewTitle:e.viewTitle,snackbarTimeout:this.snackbarTimeout},on:{refresh:e.refreshAction,goToGroup:e.goToGroup}})],1):e._e(),"groups"==e.viewTitle?r("v-container",{staticClass:"max-width-change"},[r("GroupView",{ref:"GroupView",attrs:{requestRefresh:this.refreshGroupDataTable,viewTitle:e.viewTitle,snackbarTimeout:this.snackbarTimeout},on:{refresh:e.refreshAction}})],1):e._e(),"dns"==e.viewTitle?r("v-container",{staticClass:"max-width-change"},[r("dnsView",{ref:"dnsView",attrs:{requestRefresh:this.refreshDNSData,viewTitle:e.viewTitle,snackbarTimeout:this.snackbarTimeout},on:{refresh:e.refreshAction}})],1):e._e(),"gpo"==e.viewTitle?r("v-container",{staticClass:"max-width-change"}):e._e(),"settings"==e.viewTitle?r("v-container",{staticClass:"max-width-change"},[r("SettingsCard",{ref:"SettingsView",staticClass:"my-2 mb-4",attrs:{viewTitle:e.viewTitle}})],1):e._e(),"logs"==e.viewTitle?r("v-container",{staticClass:"max-width-change"},[r("LogView",{ref:"LogView",staticClass:"my-2 mb-4",attrs:{viewTitle:e.viewTitle}})],1):e._e()],1)}),T=[],S=(r(9653),r(7941),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"py-3 px-2 mt-2 mb-2",attrs:{headers:e.tableData.headers,"show-select":!0,"item-key":"distinguishedName",items:e.tableData.items,"custom-sort":e.sortNullLast,loading:e.loading,search:e.searchString,"footer-props":{"items-per-page-options":[10,25,50,100,-1]},"sort-by":"sn"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",label:e.$t("actions.search")},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),r("v-row",{staticClass:"pa-0 px-4",staticStyle:{"max-width":"fit-content"},attrs:{justify:"end"}},[r("v-btn",{staticClass:"mx-2 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:e.listUserItems},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{disabled:e.loading,color:"primary"},on:{click:function(t){return e.openDialog("userCreate")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("classes.user.single"))+" ")],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 px-4",attrs:{justify:"center"}},[r("v-btn",{staticClass:"pa-2 mx-2",attrs:{small:"",dark:!e.loading&&!e.isThemeDark(e.$vuetify),light:!e.loading&&e.isThemeDark(e.$vuetify),disabled:e.loading},on:{click:function(t){return e.openDialog("userImport")}}},[r("v-icon",{staticClass:"ma-0 pa-0 mr-1",attrs:{small:""}},[e._v("mdi-file-import")]),e._v(" "+e._s(e.$t("actions.import"))+" ")],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{small:"",dark:!e.actionButtonsDisabled&&!e.isThemeDark(e.$vuetify),light:!e.actionButtonsDisabled&&e.isThemeDark(e.$vuetify),color:"green",disabled:e.loading||e.tableData.selected.length<1},on:{click:function(t){return e.massAccountStatusChange(!1)}}},[r("v-icon",{staticClass:"ma-0 pa-0 mr-1",attrs:{small:""}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("actions.enable"))+" ")],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{small:"",dark:!e.actionButtonsDisabled&&!e.isThemeDark(e.$vuetify),light:!e.actionButtonsDisabled&&e.isThemeDark(e.$vuetify),disabled:e.loading||e.tableData.selected.length<1},on:{click:function(t){return e.massAccountStatusChange(!0)}}},[r("v-icon",{class:(e.actionButtonsDisabled?"":"clr-red")+" clr-slig-70 ma-0 pa-0 mr-1",attrs:{small:""}},[e._v("mdi-close")]),r("span",{class:e.actionButtonsDisabled?"":"clr-red clr-slig-70"},[e._v(" "+e._s(e.$t("actions.disable"))+" ")])],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{small:"",dark:!e.actionButtonsDisabled&&!e.isThemeDark(e.$vuetify),light:!e.actionButtonsDisabled&&e.isThemeDark(e.$vuetify),disabled:e.actionButtonsDisabled},on:{click:function(t){return e.massUnlock()}}},[r("span",[r("v-icon",{staticClass:"ma-0 pa-0 mr-1",attrs:{small:""}},[e._v("mdi-lock-open")]),e._v(" "+e._s(e.$t("actions.unlock"))+" ")],1)]),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{small:"",dark:!e.actionButtonsDisabled&&!e.isThemeDark(e.$vuetify),light:!e.actionButtonsDisabled&&e.isThemeDark(e.$vuetify),color:"red",disabled:e.actionButtonsDisabled},on:{click:function(t){return e.openDeleteDialog()}}},[r("v-icon",{class:(e.actionButtonsDisabled?"":"clr-white")+" ma-0 pa-0 mr-1",attrs:{small:""}},[e._v("mdi-delete")]),r("span",{class:e.actionButtonsDisabled?"":"text-white"},[e._v(" "+e._s(e.$t("actions.delete"))+" ")])],1),e._e()],1)]},proxy:!0},{key:"item.is_enabled",fn:function(t){var s=t.item;return[e.isLoggedInUser(s.username)?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({staticClass:"clr-primary"},"v-icon",a,!1),s),[e._v(" mdi-account ")])]}}],null,!0)},[r("span",[e._v(e._s(e.$t("section.users.youAreHere"))+" "),r("v-icon",{staticClass:"clr-white"},[e._v("mdi-emoticon")])],1)]):s.is_enabled?r("v-tooltip",{attrs:{color:"red",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",disabled:e.loading||e.isLoggedInUser(s.username)},on:{click:function(t){return e.disableUser(s)}}},"v-btn",o,!1),a),[r("v-icon",{class:e.isLoggedInUser(s.username)?"":"clr-valid clr-lig-40"},[e._v(" mdi-check ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.clickTo")+" "+e.$t("actions.disable")+" "+s.username))])]):s.is_enabled?e._e():r("v-tooltip",{attrs:{color:"green",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",disabled:e.loading||e.isLoggedInUser(s.username)},on:{click:function(t){return e.enableUser(s)}}},"v-btn",o,!1),a),[r("v-icon",{class:e.isLoggedInUser(s.username)?"":"clr-error clr-lig-40"},[e._v(" mdi-close ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.clickTo")+" "+e.$t("actions.enable")+" "+s.username))])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading},on:{click:function(t){return e.fetchUser(s,!1)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-eye ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.view")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading},on:{click:function(t){return e.fetchUser(s,!0)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-pencil ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.edit")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading},on:{click:function(t){return e.changeUserPassword(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-key-variant ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.changePassword")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"clr-secondary clr-lig-20",attrs:{icon:"",rounded:"",small:"",disabled:e.loading},on:{click:function(t){return e.unlockUser(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-lock-open ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.unlock")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[e.isLoggedInUser(s.username)?r("v-btn",{attrs:{disabled:"",elevation:"0",icon:"",small:""}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])],1):r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading},on:{click:function(t){return e.openDeleteDialog(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"red"}},[e._v(" mdi-delete ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.delete")))])])]}}],null,!0),model:{value:e.tableData.selected,callback:function(t){e.$set(e.tableData,"selected",t)},expression:"tableData.selected"}}),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["userDialog"],callback:function(t){e.$set(e.dialogs,"userDialog",t)},expression:"dialogs['userDialog']"}},[r("UserDialog",{ref:"UserDialog",attrs:{user:e.data.userdata,editFlag:this.editableForm,viewKey:"userDialog",refreshLoading:e.loading,fetchingData:e.fetchingData},on:{closeDialog:e.closeDialog,save:e.userSaved,goToGroup:e.goToGroup,editToggle:e.setViewToEdit,refreshUser:e.refreshUser}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["userDelete"],callback:function(t){e.$set(e.dialogs,"userDelete",t)},expression:"dialogs['userDelete']"}},[r("UserDelete",{ref:"UserDelete",attrs:{userObject:this.data.selectedUser,userMassDeleteArray:e.tableData.selected,viewKey:"userDelete"},on:{closeDialog:e.closeDialog,refresh:e.listUserItems}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["userResetPassword"],callback:function(t){e.$set(e.dialogs,"userResetPassword",t)},expression:"dialogs['userResetPassword']"}},[r("UserResetPassword",{ref:"UserResetPassword",attrs:{userObject:this.data.selectedUser,viewKey:"userResetPassword"},on:{closeDialog:e.closeDialog}})],1),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["userCreate"],callback:function(t){e.$set(e.dialogs,"userCreate",t)},expression:"dialogs['userCreate']"}},[r("UserCreate",{ref:"UserCreate",attrs:{viewKey:"userCreate"},on:{closeDialog:e.closeDialog}})],1),r("v-dialog",{attrs:{eager:"",persistent:"","max-width":"1600px"},model:{value:e.dialogs["userImport"],callback:function(t){e.$set(e.dialogs,"userImport",t)},expression:"dialogs['userImport']"}},[r("UserImport",{ref:"UserImport",attrs:{viewKey:"userImport"},on:{closeDialog:e.closeDialog}})],1),r("v-dialog",{attrs:{eager:"","max-width":"1600px"},model:{value:e.dialogs["bulkUserPermissions"],callback:function(t){e.$set(e.dialogs,"bulkUserPermissions",t)},expression:"dialogs['bulkUserPermissions']"}},[r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" bulkUserPermissionsView ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:function(t){return e.closeDialog("bulkUserPermissions")}}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("UserPermissionList",{ref:"BulkUserPermissions",attrs:{viewKey:"bulkUserPermissions",editFlag:!0},on:{closeDialog:e.closeDialog}})],1)],1)],1)}),A=[],Z=(r(9826),r(6133)),P=r(2751),R=r(3263),$=r(796),O=r(6035),E=r(3796),U=(r(1703),r(3123),r(7042),r(9669)),L=r.n(U),N={backend_url:"127.0.0.1:8000",ssl:!1,ilckSec:!0},I=N;L().defaults.headers.common["content-type"]="application/json;charset=utf-8",b=1==I.ssl?"https://":"http://";var V,j=b+I.backend_url+"/";V=1!=I.ilckSec?L().create({baseURL:j,rejectUnauthorized:!1}):L().create({baseURL:j});var F=localStorage.getItem("token");null!=F&&void 0!=F&&F.length>0&&(V.defaults.headers.common.Authorization=F);var M={auth:{token:"api/token/",tokenRefresh:"api/token/refresh/",logout:"api/users/logout/"},user:{base:"api/users/",list:"api/users/",fetch:"api/users/fetch/",fetchme:"api/users/fetchme/",insert:"api/users/insert/",bulkInsert:"api/users/bulkInsert/",bulkDelete:"api/users/bulkDelete/",bulkAccountStatusChange:"api/users/bulkAccountStatusChange/",bulkUnlock:"api/users/bulkUnlock/",update:"api/users/update/",updateSelf:"api/users/updateSelf/",delete:"api/users/delete/",enable:"api/users/enable/",disable:"api/users/disable/",lock:"api/users/lock/",unlock:"api/users/unlock/",changePassword:"api/users/changePassword/",changePasswordSelf:"api/users/changePasswordSelf/"},group:{base:"api/groups/",list:"api/groups/",fetch:"api/groups/fetch/",save:"api/groups/save/",insert:"api/groups/insert/",update:"api/groups/update/",delete:"api/groups/delete/"},log:{base:"api/logs/",list:"api/logs/",reset:"api/logs/reset/",truncate:"api/logs/truncate/"},domain:{base:"api/domain/",details:"api/domain/details/",zones:"api/domain/zones/",insert:"api/domain/insert/",delete:"api/domain/delete/"},dnsr:{insert:"api/record/insert/",update:"api/record/update/",delete:"api/record/delete/"},settings:{base:"api/settings/",list:"api/settings/",save:"api/settings/save/",reset:"api/settings/reset/",test:"api/settings/test/"},ou:{base:"api/ou/",list:"api/ou/",insert:"api/ou/insert/",delete:"api/ou/delete/",filter:"api/ou/filter/",dirtree:"api/ou/dirtree/",move:"api/ou/move/",rename:"api/ou/rename/"},totp:{list:"api/totp/",create:"api/totp/create_device/",validate:"api/totp/validate_device/",delete:"api/totp/delete_device/"},test:{get:"api/test/",post:"api/test/post/",put:"api/test/put/",delete:"api/test/delete/",options:"api/test/options/"}};V.interceptors.response.use((function(e){return e}),function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){var r,s;return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.config,403!==t.response.status&&(401!==t.response.status||r._retry)){e.next=16;break}if(s=localStorage.getItem("refresh"),null!=s&&void 0!=s){e.next=12;break}return localStorage.removeItem("token"),localStorage.removeItem("refresh"),localStorage.removeItem("user_initials"),localStorage.removeItem("user_fullname"),"/login"!=Di.app._route.path&&Di.push("/login"),e.abrupt("return",t.response);case 12:return r._retry=!0,e.abrupt("return",L().post(j+M.auth.tokenRefresh,{refresh:s.slice(7)}).then((function(e){if(e.data.access){var t=new Date;return localStorage.setItem("token","Bearer "+e.data.access),localStorage.setItem("refresh","Bearer "+e.data.refresh),localStorage.setItem("refreshClock",t.toISOString()),r.headers.Authorization="Bearer "+e.data.access,V.defaults.headers.common["Authorization"]="Bearer "+e.data.access,L()(r)}throw"No token recieved."})).catch((function(e){return console.log(e),401==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("refresh"),localStorage.removeItem("user_initials"),localStorage.removeItem("user_fullname"),"/login"!=Di.app.$route.path&&Di.push("/login")),t.response})));case 14:e.next=17;break;case 16:return e.abrupt("return",Promise.reject(t));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var G={urls:M,request:V},B={login:function(e){return new Promise((function(t,r){G.request.post(G.urls.auth.token,e).then((function(e){e&&e.data.access&&401!=e.status||(r(e),console.log("Authentication Rejected")),G.request.defaults.headers.common.Authorization="Bearer "+e.data.access;var s=new Date;localStorage.setItem("token","Bearer "+e.data.access),localStorage.setItem("refresh","Bearer "+e.data.refresh),localStorage.setItem("refreshClock",s.toISOString()),localStorage.setItem("username",e.data.username),localStorage.setItem("admin_allowed",e.data.admin_allowed),t(e)})).catch((function(e){localStorage.removeItem("token"),localStorage.removeItem("refresh"),localStorage.removeItem("admin_allowed"),console.log("Authentication Error"),r(e)}))}))},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=["token","refresh","username","first_name","last_name","email","admin_allowed"];if(!e)return new Promise((function(e){G.request.get(G.urls.auth.logout).then((function(){t.forEach((function(e){localStorage.removeItem(e)})),e()})).catch((function(r){console.log(r),t.forEach((function(e){localStorage.removeItem(e)})),e()}))}));t.forEach((function(e){localStorage.removeItem(e)}))}},H=B,q={insert:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.insert,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},bulkInsert:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.bulkInsert,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},bulkDelete:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.bulkDelete,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},bulkAccountStatusChange:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.bulkAccountStatusChange,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},bulkUnlock:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.bulkUnlock,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},enable:function(e){var t={};return t["username"]=e,new Promise((function(e,r){G.request.post(G.urls.user.enable,t).then((function(t){e(t)})).catch((function(e){r(e)}))}))},disable:function(e){var t={};return t["username"]=e,new Promise((function(e,r){G.request.post(G.urls.user.disable,t).then((function(t){e(t)})).catch((function(e){r(e)}))}))},lock:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.lock,{username:e}).then((function(e){t(e)})).catch((function(e){r(e)}))}))},unlock:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.unlock,{username:e}).then((function(e){t(e)})).catch((function(e){r(e)}))}))},getCurrentUserData:function(){return new Promise((function(e,t){G.request.get(G.urls.user.base+"me/").then((function(t){for(var r in e(t),t.data.user)localStorage.setItem(r,t.data.user[r])})).catch((function(e){return t(e)}))}))},update:function(e){return new Promise((function(t,r){G.request.put(G.urls.user.update,e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},updateSelf:function(e){return new Promise((function(t,r){G.request.put(G.urls.user.updateSelf,e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request.post(G.urls.user["delete"],e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},changePassword:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.changePassword,e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},changePasswordSelf:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.changePasswordSelf,e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},list:function(){return new Promise((function(e,t){G.request.get(G.urls.user.list).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},fetch:function(e){return new Promise((function(t,r){G.request.post(G.urls.user.fetch,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},fetchme:function(){return new Promise((function(e,t){G.request.get(G.urls.user.fetchme).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))}},z=q,W={insert:function(e){return new Promise((function(t,r){G.request.post(G.urls.group.insert,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},update:function(e){return new Promise((function(t,r){G.request.put(G.urls.group.update,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request.post(G.urls.group["delete"],e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))},list:function(){return new Promise((function(e,t){G.request.get(G.urls.group.list).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},fetch:function(e){return new Promise((function(t,r){G.request.post(G.urls.group.fetch,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))}},K=W,Y=(r(7327),{list:function(){return new Promise((function(e,t){G.request.get(G.urls.ou.list).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},filter:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou.filter,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},dirtree:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou.dirtree,{filter:e}).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},move:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou.move,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},rename:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou.rename,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},insert:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou.insert,e).then((function(e){t(e)})).catch((function(e){r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request.post(G.urls.ou["delete"],e).then((function(e){t(e)})).catch((function(e){r(e)}))}))}}),Q=Y,X={details:function(){return new Promise((function(e,t){G.request.get(G.urls.domain.details).then((function(t){e(t),localStorage.setItem("domain",t.data.details.name),localStorage.setItem("realm",t.data.details.realm),localStorage.setItem("basedn",t.data.details.basedn)})).catch((function(e){return t(e)}))}))},zones:function(e){return new Promise((function(t,r){G.request.post(G.urls.domain.zones,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},insert:function(e){return new Promise((function(t,r){G.request.post(G.urls.domain.insert,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request.post(G.urls.domain["delete"],e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))}},J=X,ee={insert:function(e){return new Promise((function(t,r){G.request.post(G.urls.dnsr.insert,{record:e}).then((function(e){t(e)})).catch((function(e){r(e)}))}))},update:function(e){return new Promise((function(t,r){G.request.put(G.urls.dnsr.update,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request.post(G.urls.dnsr["delete"],e).then((function(e){t(e.data)})).catch((function(e){return r(e)}))}))}},te=ee,re={list:function(){return new Promise((function(e,t){G.request.get(G.urls.settings.list).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},reset:function(){return new Promise((function(e,t){G.request.get(G.urls.settings.reset).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},test:function(e){return new Promise((function(t,r){G.request.post(G.urls.settings.test,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))},save:function(e){return new Promise((function(t,r){G.request.post(G.urls.settings.save,e).then((function(e){t(e)})).catch((function(e){return r(e)}))}))}},se=re,ae={list:function(){return new Promise((function(e,t){G.request.get(G.urls.log.list).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},reset:function(){return new Promise((function(e,t){G.request.get(G.urls.log.reset).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},truncate:function(e){return new Promise((function(t,r){G.request.post(G.urls.log.truncate,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))}},oe=ae,ie={list:function(){return new Promise((function(e,t){G.request.get(G.urls.totp.list).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},create:function(){return new Promise((function(e,t){G.request.get(G.urls.totp.create).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},validate:function(e){return new Promise((function(t,r){G.request.put(G.urls.totp.validate,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},delete:function(){return new Promise((function(e,t){G.request["delete"](G.urls.totp["delete"]).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))}},ne=ie,le={get:function(){return new Promise((function(e,t){G.request.get(G.urls.test.get).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},post:function(e){return new Promise((function(t,r){G.request.post(G.urls.test.post,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},put:function(e){return new Promise((function(t,r){G.request.put(G.urls.test.put,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},delete:function(e){return new Promise((function(t,r){G.request["delete"](G.urls.test["delete"],e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))},options:function(e){return new Promise((function(t,r){G.request.options(G.urls.test.options,e).then((function(e){t(e.data)})).catch((function(e){r(e)}))}))}},ce=le,de={auth:H,user:z,group:K,ou:Q,settings:se,log:oe,domain:J,dnsr:te,totp:ne,test:ce},ue={call:function(e,t){if(!e)throw Error("Missing Link String Parameters. Linking String provided is undefined.");var r=e.split("/");if(1==r.length)throw Error("Missing Link String Parameters. Linking String Example 'module/call'.");if(r[0]in de){if(r[1]in de[r[0]])return de[r[0]][r[1]](t);throw Error("Function `"+r[1]+"` was not found in `"+r[0]+"` module.")}throw Error("Module `"+r[0]+"` not registered in provider modules.")}},pe=ue,me=function(){function e(){if((0,Z.Z)(this,e),this.constructor===e)throw new TypeError('Abstract class "ApiModel" cannot be instantiated directly.')}return(0,P.Z)(e,[{key:"validate",value:function(){throw new TypeError("The method `validate` inherited by ApiModel must be overridden.")}},{key:"getById",value:function(){throw new TypeError("The method `getById` inherited by ApiModel must be overridden.")}},{key:"list",value:function(){throw new TypeError("The method `list` inherited by ApiModel must be overridden.")}}]),e}(),ve=me;r(9714);function ge(e){if(!e)return console.log("No date provided for dateFromFiletime");if(0==e)return e;var t=new Date(e/1e4-116444736e5);return t}function he(e){if(!e)return console.log("No date provided for dateFromFiletime");"Z"!=e.slice(-1).toUpperCase()&&(console.log(e),console.log("Invalid timezone, must be Timezone Z (Zulu Time Zone, UTC/GMT)"));var t=e.toString(),r=t.substring(0,4),s=t.substring(4,6),a=t.substring(6,8),o=t.substring(8,10),i=t.substring(10,12),n=t.substring(12,14),l=r+"-"+s+"-"+a+" "+o+":"+i+":"+n;return l}function fe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return t==e.id?void 0!=e[r]?(a=e[r],a):(a=e,a):(void 0!==e[s]&&null!==e[s]&&0!=e[s].length&&e[s].forEach((function(e){if(!a&&(a=fe(e,t,r,s,a),a&&0!=a&&void 0!=a))return a})),a)}function be(){var e={};return e.domain=localStorage.getItem("domain"),e.realm=localStorage.getItem("realm"),e.basedn=localStorage.getItem("basedn"),e}var _e=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"first_name",void 0),(0,E.Z)((0,R.Z)(s),"last_name",void 0),(0,E.Z)((0,R.Z)(s),"username",void 0),(0,E.Z)((0,R.Z)(s),"password",void 0),(0,E.Z)((0,R.Z)(s),"last_login",void 0),(0,E.Z)((0,R.Z)(s),"role",void 0),(0,E.Z)((0,R.Z)(s),"is_staff",void 0),(0,E.Z)((0,R.Z)(s),"givenName",void 0),(0,E.Z)((0,R.Z)(s),"sn",void 0),(0,E.Z)((0,R.Z)(s),"displayName",void 0),(0,E.Z)((0,R.Z)(s),"mail",void 0),(0,E.Z)((0,R.Z)(s),"telephoneNumber",void 0),(0,E.Z)((0,R.Z)(s),"streetAddress",void 0),(0,E.Z)((0,R.Z)(s),"postalCode",void 0),(0,E.Z)((0,R.Z)(s),"l",void 0),(0,E.Z)((0,R.Z)(s),"st",void 0),(0,E.Z)((0,R.Z)(s),"countryCode",void 0),(0,E.Z)((0,R.Z)(s),"co",void 0),(0,E.Z)((0,R.Z)(s),"c",void 0),(0,E.Z)((0,R.Z)(s),"wWWHomePage",void 0),(0,E.Z)((0,R.Z)(s),"distinguishedName",void 0),(0,E.Z)((0,R.Z)(s),"userPrincipalName",void 0),(0,E.Z)((0,R.Z)(s),"memberOfObjects",void 0),(0,E.Z)((0,R.Z)(s),"userAccountControl",void 0),(0,E.Z)((0,R.Z)(s),"whenCreated",void 0),(0,E.Z)((0,R.Z)(s),"whenChanged",void 0),(0,E.Z)((0,R.Z)(s),"lastLogon",void 0),(0,E.Z)((0,R.Z)(s),"badPwdCount",void 0),(0,E.Z)((0,R.Z)(s),"pwdLastSet",void 0),(0,E.Z)((0,R.Z)(s),"primaryGroupID",void 0),(0,E.Z)((0,R.Z)(s),"objectClass",void 0),(0,E.Z)((0,R.Z)(s),"objectCategory",void 0),(0,E.Z)((0,R.Z)(s),"sAMAccountName",void 0),(0,E.Z)((0,R.Z)(s),"sAMAccountType",void 0),(0,E.Z)((0,R.Z)(s),"permission_list",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"login",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("auth/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("auth/logout",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"insert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/insert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bulkInsert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/bulkInsert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bulkDelete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/bulkDelete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bulkAccountStatusChange",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/bulkAccountStatusChange",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bulkUnlock",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/bulkUnlock",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"enable",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/enable",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"disable",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/disable",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"lock",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/lock",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unlock",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/unlock",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/changePassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePasswordSelf",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/changePasswordSelf",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetch",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){var r=this;return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/fetch",{username:t}).then((function(e){if(!e)throw Error("Error fetching user data. Provider returned: "+e);Object.keys(e.data).forEach((function(t){switch(t){case"whenChanged":case"whenCreated":r[t]=he(e.data[t]);break;case"lastLogon":case"pwdLastSet":r[t]=ge(e.data[t]);break;default:r[t]=e.data[t];break}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchme",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){var t=this;return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/fetchme").then((function(e){if(!e)throw Error("Error fetching user data. Provider returned: "+e);Object.keys(e.data).forEach((function(r){switch(r){case"whenChanged":case"whenCreated":t[r]=he(e.data[r]);break;case"lastLogon":case"pwdLastSet":t[r]=ge(e.data[r]);break;default:t[r]=e.data[r];break}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentUserData",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/getCurrentUserData");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateSelf",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("user/updateSelf",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),ye=_e,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s(e.$t("section.users.userCreate.header")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-expand-transition",[r("div",[r("v-stepper",{model:{value:e.createStage,callback:function(t){e.createStage=t},expression:"createStage"}},[r("v-stepper-header",{staticClass:"px-16"},[r("v-stepper-step",{attrs:{complete:e.createStage>1,step:"1"}},[e._v(e._s(e.$t("section.users.userCreate.step1")))]),r("v-divider",{staticClass:"mx-3",style:e.createStage>1?"border-color: var(--clr-primary) !important":""}),r("v-stepper-step",{attrs:{complete:e.createStage>2,step:"2"}},[e._v(e._s(e.$t("section.users.userCreate.step2")))]),r("v-divider",{staticClass:"mx-3",style:e.createStage>2?"border-color: var(--clr-primary) !important":""}),r("v-stepper-step",{attrs:{complete:e.createStage>3,step:"3"}},[e._v(e._s(e.$t("section.users.userCreate.step3")))])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-form",{ref:"userCreateForm1",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"5"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.username"),rules:[this.fieldRules(e.userToCreate.username,"ge_username",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.username,callback:function(t){e.$set(e.userToCreate,"username",t)},expression:"userToCreate.username"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.userDestination=e.basedn}}},[e._v(" "+e._s(e.$t("section.dirtree.move.setToRoot"))+" ")]),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",disabled:!e.allowRefresh,elevation:"0"},on:{click:function(t){return e.fetchOUs(!0)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[e._v(" "+e._s(e.$t("actions.refresh"))+" "),r("v-icon",[e._v(" mdi-refresh ")])],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("v-expansion-panels",{staticStyle:{border:"1px solid var(--clr-primary)"},attrs:{flat:"",hover:""},model:{value:e.userPathExpansionPanel,callback:function(t){e.userPathExpansionPanel=t},expression:"userPathExpansionPanel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[r("span",[r("span",[e._v(" "+e._s(e.$t("section.users.userCreate.userCreatedIn")+": ")+" ")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.userDestination)+" ")])])]),r("v-expansion-panel-content",[r("v-card",{staticStyle:{"max-height":"300px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[r("DirtreeOUList",{ref:"DirtreeOUList",on:{selectedDestination:e.setDestination}})],1)],1)],1)],1)],1)],1),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.givenName"),rules:[this.fieldRules(e.userToCreate.givenName,"ge_name",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.givenName,callback:function(t){e.$set(e.userToCreate,"givenName",t)},expression:"userToCreate.givenName"}})],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.sn"),rules:[this.fieldRules(e.userToCreate.sn,"ge_name")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.sn,callback:function(t){e.$set(e.userToCreate,"sn",t)},expression:"userToCreate.sn"}})],1)],1),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.displayName"),rules:[this.fieldRules(e.getDisplayName,"ge_topic",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.getDisplayName,callback:function(t){e.getDisplayName=t},expression:"getDisplayName"}})],1),r("v-col",{attrs:{cols:"12",lg:"2"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.initials"),rules:[this.fieldRules(e.userToCreate.initials,"ge_topic")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.initials,callback:function(t){e.$set(e.userToCreate,"initials",t)},expression:"userToCreate.initials"}})],1)],1),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",hint:e.$t("misc.autocomputedField"),"persistent-hint":"",label:e.$t("ldap.attributes.userPrincipalName"),readonly:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.getUSN,callback:function(t){e.getUSN=t},expression:"getUSN"}})],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",hint:e.$t("misc.autocomputedField"),"persistent-hint":"",label:e.$t("ldap.attributes.userPrincipalName_pre2000"),readonly:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.getUSN_2000,callback:function(t){e.getUSN_2000=t},expression:"getUSN_2000"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0"},[r("v-divider",{staticClass:"mx-12 my-3 mt-6"})],1),r("v-row",{staticClass:"mb-1",attrs:{justify:"center"}},[r("span",{staticClass:"text-overline",staticStyle:{"font-size":".95em !important"}},[e._v(e._s(e.$t("section.users.userCreate.optionalsHeader")))])]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.mail"),rules:[this.fieldRules(e.userToCreate.mail,"ge_mail")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.mail,callback:function(t){e.$set(e.userToCreate,"mail",t)},expression:"userToCreate.mail"}})],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.wWWHomePage"),rules:[this.fieldRules(e.userToCreate.wWWHomePage,"ge_website")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.wWWHomePage,callback:function(t){e.$set(e.userToCreate,"wWWHomePage",t)},expression:"userToCreate.wWWHomePage"}})],1)],1)],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-form",{ref:"userCreateForm2",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{type:e.passwordHidden?"password":"text",required:"","append-icon":e.passwordHidden?"mdi-eye":"mdi-eye-off",dense:"",label:e.$t("ldap.attributes.password"),rules:[this.fieldRules(e.userToCreate.password,"ge_password",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)},"click:append":function(){return e.passwordHidden=!e.passwordHidden}},model:{value:e.userToCreate.password,callback:function(t){e.$set(e.userToCreate,"password",t)},expression:"userToCreate.password"}})],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{type:e.passwordHidden?"password":"text",dense:"",label:e.$t("ldap.attributes.passwordConfirm"),rules:[e.userToCreate.passwordConfirm==e.userToCreate.password||this.$t("error.validation.passwordNotSame")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.userToCreate.passwordConfirm,callback:function(t){e.$set(e.userToCreate,"passwordConfirm",t)},expression:"userToCreate.passwordConfirm"}})],1)],1),r("v-list",e._l(e.permissions,(function(t,s){return r("v-list-item",{key:s,attrs:{"two-line":"",value:e.permissions[s].value},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)},click:function(t){return e.onClickPermission(s)}}},[r("v-list-item-content",{staticClass:"pl-10"},[r("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.$t("section.users.permissions."+s))+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s(s)+" ")])],1),r("v-list-item-action",[r("v-checkbox",{on:{keypress:!1,keydown:!1,click:function(t){return e.onClickPermission(s)}},model:{value:e.permissions[s].value,callback:function(t){e.$set(e.permissions[s],"value",t)},expression:"permissions[key].value"}})],1)],1)})),1)],1)],1),r("v-stepper-content",{attrs:{step:"3"}},[r("v-row",{staticClass:"pa-12 ma-12",attrs:{justify:"center","align-content":"center",align:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-fab-transition",[r("v-progress-circular",{attrs:{value:"100",color:!1===this.error?e.loading?"primary":"green":"red",indeterminate:e.loading,size:"100",width:"10"}},[r("v-fab-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loading,expression:"loading == false"}]},[1==e.error?r("v-icon",{attrs:{size:"82",color:"red"}},[e._v("mdi-close-circle")]):r("v-icon",{attrs:{size:"82",color:"green"}},[e._v("mdi-check-circle")])],1)])],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-slide-y-transition",[this.loading||0!=this.loading?e._e():r("v-col",[r("h3",[e._v(" "+e._s(this.error?this.errorMsg:e.$t("section.users.userCreate.step3_success"))+" ")])])],1)],1)],1)],1)],1)],1)],1)]),e.$vuetify.breakpoint.smAndDown?r("v-snackbar",{attrs:{text:"",color:"red",timeout:"1500",centered:""},model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[r("v-row",{attrs:{justify:"center"}},[e._v(" "+e._s(this.errorMsg)+" ")])],1):e._e(),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"space-around":"end"}},[r("div",[r("v-slide-x-reverse-transition",[this.error&&e.$vuetify.breakpoint.mdAndUp?r("v-chip",{staticClass:"mx-2",attrs:{color:"red","text-color":"white"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<2?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.newUser}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-cached ")]),e._v(" "+e._s(e.$t("actions.reset"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[e.createStage>1&&e.createStage<4&&1==this.error?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 pr-4 ma-1 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.prevStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevStep.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-left ")]),e._v(" "+e._s(e.$t("actions.back_short"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<3?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pl-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.nextStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("actions.next"))+" "),r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-right ")])],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage>2&&!1===this.error?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:function(t){return e.closeDialog(!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),e._v(" "+e._s(e.$t("actions.done"))+" ")],1):e._e()],1)],1)])],1)],1)},we=[],ke=r(5200),xe=(r(9720),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showLoadingBar?r("v-progress-linear",{attrs:{indeterminate:e.loading,color:e.loading?"primary":"secondary"}}):e._e(),r("v-expand-transition",[this.ouList.length>0?r("v-treeview",{attrs:{items:this.ouList,active:e.activeObject,dense:"",hoverable:"",activatable:""},on:{"update:active":[function(t){e.activeObject=t},e.updateObjectDestination]},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item,a=t.open;return[1==s.builtin&&"Container"!=s.type?r("v-icon",[e._v(" mdi-hammer ")]):"Container"==s.type?r("v-icon",[e._v(" mdi-archive ")]):"Organizational-Unit"==s.type?r("v-icon",[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")]):r("v-icon",[e._v(" mdi-group ")])]}},{key:"label",fn:function(t){var s=t.item;return[r("v-row",{attrs:{align:"start"}},[r("v-col",{attrs:{cols:"11",md:"auto"}},[e._v(" "+e._s(s.name)+" ")])],1)]}}],null,!1,2522570606)}):e._e()],1)],1)}),De=[],Te=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"distinguishedName",void 0),(0,E.Z)((0,R.Z)(s),"attributes",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"filter",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/filter",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dirtree",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/dirtree",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/move",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"rename",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/rename",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"insert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/insert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("ou/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),Se=Te,Ae={data:function(){return{activeObject:[],ouList:[],objectDestination:"",loading:!1,error:!1}},props:{baseDn:String,excludeObjects:String||Array,showLoadingBar:{type:Boolean,default:!0},fetchOnCreated:{type:Boolean,default:!0}},created:function(){this.fetchOnCreated&&this.fetchOUs()},methods:{emitDestination:function(){this.$emit("selectedDestination",this.objectDestination)},clearList:function(){this.ouList=[]},updateObjectDestination:function(e){var t=this;if(!e||0==e.length)return this.objectDestination="CN=Users,"+this.baseDn,this.objectDestination;var r,s=this.ouList.find((function(t){return t.id==e}));void 0==s?this.ouList.forEach((function(s){r||(r=fe(s,parseInt(e),"distinguishedName"),t.objectDestination=r)})):s.id==e&&(this.objectDestination=s.distinguishedName),this.emitDestination()},fetchOUs:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]?e[0]:void 0,t.loading=!0,t.error=!1,t.activeObject=[],!s){r.next=9;break}return r.next=7,new Se({}).dirtree(s).then((function(e){return t.ouList=e.data.ldapObjectList,t.loading=!1,e})).catch((function(e){return t.loading=!1,t.error=!0,console.log(e),e}));case 7:r.next=11;break;case 9:return r.next=11,new Se({}).list().then((function(e){return t.ouList=e.data.ldapObjectList,t.loading=!1,e})).catch((function(e){return t.loading=!1,t.error=!0,console.log(e),e}));case 11:case"end":return r.stop()}}),r)})))()}}},Ze=Ae,Pe=r(2102),Re=r(5827),$e=r(6428),Oe=r(7003),Ee=r(2877),Ue=r(8080),Le=(0,l.Z)(Ze,xe,De,!1,null,null,null),Ne=Le.exports;d()(Le,{VCol:Pe.Z,VExpandTransition:Re.Fx,VIcon:$e.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTreeview:Ue.Z});var Ie=r(8932);r(9600),r(5306);function Ve(e){for(var t=0,r=e.toString().slice(0,-1).split("").reverse().join(""),s=2,a=0;a<r.length;a++){var o=parseInt(r.substring(a,a+1)),i=o*s;t+=i,s<7?s++:s=2}var n=t%11;return n}var je={methods:{inputRulesRequired:function(e){return null!=e&&void 0!=e&&0!=e.length||_.t("error.validation.fieldRequired")},inputRulesAboveZero:function(e){return parseInt(e)>0||_.t("error.validation.aboveZero")},inputRulesBelow10000:function(e){return parseInt(e)<1e4||_.t("error.validation.below10000")},inputRulesLetters:function(e){return!e||/^[üöñóúíáéa-zA-Z ]{0,}$/.test(e)||_.t("error.validation.alphabetic")},inputRulesLettersStrict:function(e){return!e||/^[a-zA-Z ]{0,}$/.test(e)||_.t("error.validation.alphabetic")},inputRulesLettersStrictUnderscore:function(e){return!e||/^[a-zA-Z_ ]{0,}$/.test(e)||_.t("error.validation.alphabetic")},inputRulesCountry:function(e){return!e||/^[a-zA-Z'\s]{0,}$/.test(e)||_.t("error.validation.alphabetic")},inputRulesNumbers:function(e){return!e||/^[0-9.]{0,}$/.test(e)||_.t("error.validation.numeric")},inputRulesMax4:function(e){return!e||/^.{1,4}$/.test(e)||_.t("error.validation.max4")},inputRulesMax6:function(e){return!e||/^.{1,6}$/.test(e)||_.t("error.validation.max6")},inputRulesMax8:function(e){return!e||/^.{1,8}$/.test(e)||_.t("error.validation.max8")},inputRulesMax255:function(e){return!e||/^.{1,255}$/.test(e)||_.t("error.validation.max255")},inputRulesNoDoubleQuotes:function(e){return!e||/^[^"]+$/.test(e)||_.t("error.validation.doubleQuotes")},inputRulesNoSingleQuotes:function(e){return!e||/^[^']+$/.test(e)||_.t("error.validation.singleQuotes")},inputRulesalphaNumericSpaces:function(e){return!e||/^[üöñóúíáéa-z0-9]+[üöñóúíáéa-z0-9\s]+$/i.test(e)||_.t("error.validation.alphaNumericSpaces")},inputRulesalphaNumericSpecial:function(e){return!e||/^[üöñóúíáéa-z0-9]+[?¿!@üöñóúíáéa-z0-9,.\s_-]+$/i.test(e)||_.t("error.validation.alphaNumericSpecial")},inputRulesalphaNumericPassword:function(e){return!e||/^[!@#$%&*()üöñóúíáéa-z0-9]+([!@#$%&*()üöñóúíáéa-z0-9,._-]{7,})+$/i.test(e)||_.t("error.validation.alphaNumericPassword")},inputRulesalphaNumericSpecialUsername:function(e){return!e||/^[a-z0-9]+([a-z0-9_-]{2,})+$/i.test(e)||_.t("error.validation.alphaNumericSpecialUsername")},inputRulesalphaNumericSpecialCN:function(e){return!e||/^[a-z0-9]+([a-z0-9_-\s]{2,})+$/i.test(e)||_.t("error.validation.alphaNumericSpecial")},inputRulesalphaNumericSpecialName:function(e){return!e||/^[a-z0-9]+([a-z0-9_-\s]{2,})+$/i.test(e)||_.t("error.validation.alphaNumericSpecial")},inputRulesFullASCIISet:function(e){return!e||/^[\x20-\x7E]*$/.test(e)||_.t("error.validation.ascii")},inputRulesDN:function(e){return!e||/^(?:[A-Za-z][\w-]*|\d+(?:\.\d+)*)=(?:#(?:[\dA-Fa-f]{2})+|(?:[^,=+<>#;\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*|"(?:[^\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*")(?:\+(?:[A-Za-z][\w-]*|\d+(?:\.\d+)*)=(?:#(?:[\dA-Fa-f]{2})+|(?:[^,=+<>#;\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*|"(?:[^\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*"))*(?:,(?:[A-Za-z][\w-]*|\d+(?:\.\d+)*)=(?:#(?:[\dA-Fa-f]{2})+|(?:[^,=+<>#;\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*|"(?:[^\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*")(?:\+(?:[A-Za-z][\w-]*|\d+(?:\.\d+)*)=(?:#(?:[\dA-Fa-f]{2})+|(?:[^,=+<>#;\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*|"(?:[^\\"]|\\[,=+<>#;\\"]|\\[\dA-Fa-f]{2})*"))*)*$/i.test(e)||_.t("error.validation.distinguishedName")},inputRulesDomain:function(e){return!e||/^((?:http(?:s){0,5}(:\/\/){0,1}){0,1}(?:[a-zA-Z0-9-\\.]){2,61}(?:\.[a-zA-Z]{2,})+)?$/.test(e)||_.t("error.validation.domain")},inputRulesDomainCanonical:function(e){return!e||/^(((?:[a-zA-Z0-9-.]){2,61}(?:\.[a-zA-Z]{2,})+|(?:[a-zA-Z0-9-]){2,63}))\.$/.test(e)||_.t("error.validation.domainCanonical")},inputRulesDomainNonTLD:function(e){return!e||/^(((?:[a-zA-Z0-9-.]){2,61}(?:\.[a-zA-Z]{2,})+|(?:[a-zA-Z0-9-]){2,64}))?$/.test(e)||_.t("error.validation.domain")},inputRulesDomainRoot:function(e){return!e||/^(((?:[a-zA-Z0-9-.]){2,61}(?:\.[a-zA-Z]{2,})+|(?:[a-zA-Z0-9-]){2,64})|[@]{1})?$/.test(e)||_.t("error.validation.domainRoot")},inputRulesEmail:function(e){return!e||/^([a-zA-Z0-9._-]{2,64})@(?:[a-zA-Z0-9-\\.]){2,61}(?:\.[a-zA-Z]{2,})+$/.test(e)||_.t("error.validation.email")},inputRulesUSN:function(e){return!e||/^([a-zA-Z0-9._-]{2,64})@(?:[a-zA-Z0-9-\\.]){2,61}((?:[a-zA-Z0-9-]){2,61})+$/.test(e)||_.t("error.validation.usn")},inputRulesIP:function(e){return!e||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-4]|2[0-4][0-9]|[1]?[0-9][0-9]?)$/.test(e)||_.t("error.validation.ipAddress")},inputRulesREALM:function(e){return!e||/^[A-Z]{1,15}$/.test(e)||_.t("error.validation.realm")},inputRulesPORT:function(e){return!e||/^((6553[0-5])|(655[0-2][0-9])|(65[0-4][0-9]{2})|(6[0-4][0-9]{3})|([1-5][0-9]{4})|([0-5]{0,5})|([0-9]{1,4}))$/.test(e)||_.t("error.validation.ldapURI_PORT")},inputRuleTOTP:function(e){return!e||/^[0-9]{6}$/.test(e)||_.t("error.validation.totpLength")},inputRulesPhone:function(e){return!e||/^\+?\d$/.test(e)||_.t("error.validation.phone")},inputRulesPhone_ext:function(e){var t=!0;return!e||/^\+54(\s|-)?9?(\s|-)?11(\s|-)?[0-9]{4}(\s|-)?[0-9]{4}$/.test(e)||/^\+54(\s|-)?9?(\s|-)?(2[0-9]{2}|3[0-9]{2})(\s|-)?[0-9]{3,4}(\s|-)?[0-9]{4}$/.test(e)||/^\+54(\s|-)?9?(\s|-)?(2[0-9]{3}|3[0-9]{3})(\s|-)?[0-9]{3}(\s|-)?[0-9]{3}$/.test(e)||(t=_.t("error.validation.phone")),t},inputRulesCBU:function(e){var t=!0;return e&&!/^[0-9]{22}$/.test(e)&&(t=_.t("error.validation.cbu")),t},inputRulesDNIMatchesCUIT:function(e,t,r){if(e&&!/(^([0-9]{2})-([0-9]{8})-([0-9]{1}))|(^[0-9]{11})$/i.test(e))return _.t("error.validation.cuitFormat");var s=e.replace(/-/g,""),a=parseInt(String(s.substr(0,2))),o=parseInt(String(s.substr(2,8))),i=parseInt(String(s.substr(-1))),n=Ve(s),l=11-n,c=l;switch(l){case 11:c=0;break;case 10:c=1;break;case 0:20==a||27==a||24==a?(a=23,s=a+o+i,n=Ve(s),l=11-n,c=l):30!=a&&34!=a||(a=33,s=a+o+i,n=Ve(s),l=11-n,c=l);break;default:c=l;break}return c!=i?_.t("error.validation.cuitFormat"):1!=r||a+t+i==s||_.t("error.validation.dniNotInCuit")},fieldRules:function(e,t,r){var s=!0,a=[],o=[];if(null==t||void 0==t||0==t.length)return console.log("fieldRules(): fieldName is not set."),"fieldRules(): fieldName is not set.";switch((1==r||null!=r&&r.length>0)&&a.push(this.inputRulesRequired),t){case"ge_lettersStrictUnderscore":a.push(this.inputRulesLettersStrictUnderscore);break;case"ge_lettersStrict":a.push(this.inputRulesLettersStrict);break;case"ge_numbers":a.push(this.inputRulesNumbers);break;case"ge_name":a.push(this.inputRulesalphaNumericSpecialName);break;case"ge_cn":a.push(this.inputRulesalphaNumericSpecialCN);break;case"ge_integer":a.push(this.inputRulesAboveZero);break;case"ge_username":a.push(this.inputRulesalphaNumericSpecialUsername);break;case"ge_password":a.push(this.inputRulesalphaNumericPassword);break;case"ldap_dn":a.push(this.inputRulesDN);break;case"net_ip":a.push(this.inputRulesIP);break;case"net_port":a.push(this.inputRulesPORT);break;case"net_domain_canonical":a.push(this.inputRulesDomainCanonical);break;case"ldap_realm":a.push(this.inputRulesREALM);break;case"ldap_website":a.push(this.inputRulesDomainNonTLD);break;case"ldap_usn":a.push(this.inputRulesUSN);break;case"ge_message":a.push(this.inputRulesalphaNumericSpecial);break;case"ge_topic":a.push(this.inputRulesalphaNumericSpecial);break;case"ge_email":case"ge_mail":a.push(this.inputRulesEmail);break;case"ge_fiscal_number":a.push(this.inputRulesDNIMatchesCUIT);break;case"ge_phone":a.push(this.inputRulesPhone_ext);break;case"ge_website":a.push(this.inputRulesDomain);break;case"ge_address_street":a.push(this.inputRulesalphaNumericSpecial);break;case"ge_price":case"ge_address_number":a.push(this.inputRulesNumbers);break;case"ge_address_floor":a.push(this.inputRulesalphaNumericSpaces,this.inputRulesMax4);break;case"ge_address_apartment":a.push(this.inputRulesalphaNumericSpaces,this.inputRulesMax6);break;case"ge_address_postal_code":a.push(this.inputRulesalphaNumericSpaces,this.inputRulesMax8);break;case"ge_address_city":a.push(this.inputRulesalphaNumericSpecial);break;case"ge_state":a.push(this.inputRulesalphaNumericSpecial);break;case"ge_type":a.push(this.inputRulesLetters);break;case"ge_country":a.push(this.inputRulesCountry);break;case"ge_ascii":a.push(this.inputRulesFullASCIISet);break;case"dns_stringData":a.push(this.inputRulesFullASCIISet,this.inputRulesNoDoubleQuotes,this.inputRulesMax255);break;case"dns_root":a.push(this.inputRulesDomainRoot);break;case"set_log_max":a.push(this.inputRulesAboveZero,this.inputRulesBelow10000,this.inputRulesNumbers);break;case"auth_totp":a.push(this.inputRulesNumbers,this.inputRuleTOTP);break;case"auth_recovery":a.push(this.inputRulesalphaNumericSpecialCN);break;default:break}for(var i in a)try{if(i==this.inputRulesRequired){var n=Array.isArray(e)?e[0]:e;s=a[i](n)}else if(Array.isArray(e)){o=(0,Ie.Z)(e||[]);for(var l=0;l<o.length;l++)o[l]||(o[l]="");1!=a[i].apply(a,(0,Ie.Z)(o))&&1==s&&(s=a[i].apply(a,(0,Ie.Z)(o)))}else e||(e=""),1!=a[i](e)&&1==s&&(s=a[i](e))}catch(c){console.log(i),console.error(c)}return s},getCountryList:function(){return["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Democratic Republic of the Congo","Cook Islands","Costa Rica","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Cote d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Islas Malvinas","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Islamic Republic of Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Democratic People's Republic of Korea","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Former Yugoslav Republic of Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Federated States of Micronesia","Republic of Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","State of Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Romania","Russian Federation","Rwanda","Reunion","Saint Barthelemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","United Republic of Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","British Virgin Islands","US Virgin Islands","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"]}}},Fe=je,Me=r(434),Ge={name:"UserCreate",components:{DirtreeOUList:Ne},data:function(){return{passwordHidden:!0,domain:"",realm:"",basedn:"",success:!1,loading:!0,error:!1,errorMsg:"",valid:!1,allowRefresh:!0,showSnackbar:!1,userPathExpansionPanel:!1,userDestination:"",userToCreate:{},createStage:1,addObjectClass:"",objectClasses:["accessControlSubentry","account","alias","applicationEntity","applicationProcess","bootableDevice","certificationAuthority","certificationAuthority-V2","collectiveAttributeSubentry","country","crlDistributionPoint","device","dmd","dnsDomain","documentSeries","domain","domainRelatedObject","dsa","extensibleObject","friendlyCountry","groupOfNames","groupOfUniqueNames","ieee802Device","inetOrgPerson","ipHost","ipNetwork","ipProtocol","ipService","javaContainer","javaMarshalledObject","javaNamingReference","javaObject","javaSerializedObject","labeledURIObject","locality","mailRecipient","newPilotPerson","nisDomainObject","nisKeyObject","nisMap","nisNetgroup","nisObject","oldQualityLabelledData","oncRpc","organization","organizationalPerson","organizationalRole","organizationalUnit","person","pilotDSA","pilotObject","pilotOrganization","posixAccount","posixGroup","top","user","referral","residentialPerson","room","shadowAccount","simpleSecurityObject","strongAuthenticationUser"],permissions:{LDAP_UF_ACCOUNT_DISABLE:{value:!1,int:2},LDAP_UF_PASSWD_CANT_CHANGE:{value:!1,int:64},LDAP_UF_DONT_EXPIRE_PASSWD:{value:!1,int:65536}},categories:{basic:["sAMAccountName","givenName","sn","mail","displayName","is_enabled","last_login","telephoneNumber","wWWHomePage"],location:["streetAddress","postalCode","l","st","countryCode","co","c"],account:["distinguishedName","userPrincipalName","userAccountControl","whenCreated","whenChanged","lastLogon","badPwdCount","pwdLastSet","primaryGroupID","objectClass","objectCategory","sAMAccountType"]}}},mixins:[Fe,Me.Z],props:{viewKey:String},created:function(){this.newUser},computed:{calcEnabledPerms:function(){for(var e=0,t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],2),a=s[0],o=s[1];1==o&&(e+=this.permission_values[a])}return e},getEnabledPerms:function(){for(var e=[],t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],2),a=s[0],o=s[1];1==o&&e.push(a)}return e},getUSN:function(){return void 0!=this.userToCreate.username?this.userToCreate.username+"@"+this.domain:"@"+this.domain},getUSN_2000:function(){return void 0!=this.userToCreate.username?this.realm+"\\"+this.userToCreate.username:this.realm+"\\"},getDisplayName:function(){return void 0!=this.userToCreate.givenName||void 0!=this.userToCreate.sn?(this.userToCreate.givenName||"")+" "+(this.userToCreate.sn||""):""}},methods:{setDestination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&e?(this.userDestination=e,this.userPathExpansionPanel=!1):(this.userDestination=this.basedn,this.userPathExpansionPanel=0)},prevStep:function(){var e=this;switch(this.createStage){case 2:var t=be();this.domain=t.domain,this.realm=t.realm,this.basedn=t.basedn,this.createStage-=1;break;case 3:this.createStage-=1,setTimeout((function(){e.loading=!0}),500);break;default:this.createStage-=1;break}},nextStep:function(){var e=this;switch(this.createStage){case 1:this.$refs.userCreateForm1.validate()?(this.error=!1,this.errorMsg="",this.createStage+=1):(1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("error.validation.fieldinvalid"));break;case 2:if(this.$refs.userCreateForm2.validate()){this.error=!1,this.errorMsg="";var t=[];Object.keys(this.userToCreate).forEach((function(t){void 0===e.userToCreate[t]&&delete e.userToCreate[t]})),Object.keys(this.permissions).forEach((function(r){1==e.permissions[r].value&&t.push(r)})),this.userToCreate.permission_list=t,this.createUser()}else 1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("error.validation.fieldinvalid");break;default:this.createStage+=1;break}},newUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r,s,a,o,i;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.passwordHidden=!0,e.userPathExpansionPanel=!1,e.userToCreate=new ye({}),e.createStage=1,e.error=!1,e.errorMsg="",e.$refs.userCreateForm1.resetValidation(),r=0,s=Object.entries(e.permissions);r<s.length;r++)a=(0,ke.Z)(s[r],1),o=a[0],e.permissions[o].value=!1;i=be(),e.domain=i.domain,e.realm=i.realm,e.basedn=i.basedn,e.fetchOUs(),e.userDestination="CN=Users,"+e.basedn;case 14:case"end":return t.stop()}}),t)})))()},fetchOUs:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>0&&void 0!==e[0]&&e[0],1==s&&(t.userPathExpansionPanel=0),void 0!=t.$refs.DirtreeOUList&&(t.allowRefresh=!1,t.$nextTick((function(){1!=s&&t.setDestination(),t.$refs.DirtreeOUList.fetchOUs().then((function(){setTimeout((function(){t.allowRefresh=!0}),50)}))})));case 3:case"end":return r.stop()}}),r)})))()},onClickPermission:function(e){this.permissions[e].value=!this.permissions[e].value},closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("closeDialog",this.viewKey,e)},createUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=!1,e.errorMsg="",e.createStage+=1,e.userToCreate.path=e.userDestination,t.next=6,e.userToCreate.insert(e.userToCreate).then((function(t){200==t.status?(e.error=!1,e.errorMsg="",setTimeout((function(){e.loading=!1}),450),e.success=!0):(e.error=!0,e.errorMsg=e.$t("error.unknown_short"),setTimeout((function(){e.loading=!1}),450),e.success=!1)})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.success=!0,e.errorMsg=e.getMessageForCode(t)}));case 6:case"end":return t.stop()}}),t)})))()}}},Be=Ge,He=r(3150),qe=r(3237),ze=r(7118),We=r(593),Ke=r(5424),Ye=r(1418),Qe=r(6845),Xe=r(705),Je=r(1192),et=r(5630),tt=r(6232),rt=r(6816),st=r(7620),at=r(3099),ot=r(2710),it=r(624),nt=r(3202),lt=r(3446),ct=r(8937),dt=r(6189),ut=r(8975),pt=r(5978),mt=(0,l.Z)(Be,Ce,we,!1,null,null,null),vt=mt.exports;d()(mt,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VCheckbox:We.Z,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VListItemSubtitle:ot.oZ,VListItemTitle:ot.V9,VProgressCircular:it.Z,VRow:Ee.Z,VSlideXReverseTransition:Re.Zy,VSlideYTransition:Re.cu,VSnackbar:nt.Z,VStepper:lt.Z,VStepperContent:ct.Z,VStepperHeader:dt.Rp,VStepperItems:dt.gd,VStepperStep:ut.Z,VTextField:pt.Z});var gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-progress-linear",{attrs:{color:1==e.error?"red":"primary",indeterminate:e.loading}}),r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.users.import.title"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1),r("v-expand-transition",[e.showResult?e._e():r("v-tabs",{key:e.import_tab,ref:"importTabs",staticClass:"ma-0 pa-0",attrs:{centered:"",grow:""},model:{value:e.import_tab,callback:function(t){e.import_tab=t},expression:"import_tab"}},[r("v-tabs-slider"),r("v-tab",{key:0},[e._v(e._s(e.$t("section.users.import.importOptions")))]),r("v-tab",{key:1,attrs:{disabled:e.completed_tab<1}},[e._v(e._s(e.$t("section.users.import.uploadFile")))]),r("v-tab",{key:2,attrs:{disabled:e.completed_tab<2}},[e._v(e._s(e.$t("section.users.import.previewData")))])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0"},[r("v-tabs-items",{model:{value:e.import_tab,callback:function(t){e.import_tab=t},expression:"import_tab"}},[r("v-tab-item",{key:0},[r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.userDestination=e.basedn}}},[e._v(" "+e._s(e.$t("section.dirtree.move.setToRoot"))+" ")]),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",disabled:!e.allowRefresh,elevation:"0"},on:{click:function(t){return e.fetchOUs(!0)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[e._v(" "+e._s(e.$t("actions.refresh"))+" "),r("v-icon",[e._v(" mdi-refresh ")])],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("v-expansion-panels",{staticStyle:{border:"1px solid var(--clr-primary)"},attrs:{flat:"",hover:""},model:{value:e.userPathExpansionPanel,callback:function(t){e.userPathExpansionPanel=t},expression:"userPathExpansionPanel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[r("span",[r("span",[e._v(" "+e._s(e.$t("section.users.userCreate.userCreatedIn")+": ")+" ")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.userDestination)+" ")])])]),r("v-expansion-panel-content",[r("v-card",{staticStyle:{"max-height":"300px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[r("DirtreeOUList",{ref:"DirtreeOUList",on:{selectedDestination:e.setDestination}})],1)],1)],1)],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mb-2",attrs:{justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"6"}},[r("v-form",{ref:"importPlaceholderPassword",on:{submit:function(e){e.preventDefault()}}},[r("v-checkbox",{attrs:{label:e.$t("section.users.import.usePlaceholderPassword")},on:{change:e.resetPlaceholderPassword},model:{value:e.usePlaceholderPassword,callback:function(t){e.usePlaceholderPassword=t},expression:"usePlaceholderPassword"}}),r("v-expand-transition",[r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.usePlaceholderPassword,expression:"usePlaceholderPassword"}],ref:"importPlaceholderPasswordField",attrs:{type:e.passwordHidden?"password":"text",required:e.usePlaceholderPassword,"append-icon":e.passwordHidden?"mdi-eye":"mdi-eye-off",dense:"",label:e.$t("ldap.attributes.password"),rules:[this.fieldRules(e.placeholderPassword,"ge_password",!!e.usePlaceholderPassword)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)},"click:append":function(){return e.passwordHidden=!e.passwordHidden}},model:{value:e.placeholderPassword,callback:function(t){e.placeholderPassword=t},expression:"placeholderPassword"}})],1)],1)],1)],1),r("v-expand-transition",[r("v-row",{directives:[{name:"show",rawName:"v-show",value:e.showUserMappings,expression:"showUserMappings"}],staticClass:"pa-0 ma-0 mb-4",attrs:{justify:"center"}},[r("ObjectEditor",{ref:"importFieldsEditor",attrs:{value:this.import_fields,label:e.$t("section.users.import.dataMapping"),dense:"",reorder:"",resettable:"",disableAddDelete:"",required:!0,deletableFields:e.deletableFields,disabledFields:e.usePlaceholderPassword?["password"]:[]},on:{update:function(t){return e.import_fields=t},reset:e.setDefaultImportFields}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mb-2",attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-primary text-white",on:{click:e.downloadTemplate}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-download ")]),r("span",{staticClass:"pr-1"},[e._v(" "+e._s(e.$t("section.users.import.downloadTemplate"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-primary text-white",on:{click:function(t){e.showUserMappings=!e.showUserMappings}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-cog ")]),r("span",{staticClass:"pr-1"},[e._v(" "+e._s(e.$t("section.users.import.editUserMappings"))+" ")])],1)],1)],1),r("v-tab-item",{key:1},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6"}},[r("v-file-input",{ref:"importFileInput",staticClass:"ma-0 pa-0",attrs:{label:e.$t("section.users.import.fileToUpload"),outlined:"",clearable:"","prepend-icon":"","prepend-inner-icon":"mdi-upload","show-size":"",accept:".csv,.tsv,.txt"},on:{change:e.previewFile,"click:clear":function(t){return e.clearFile()}},model:{value:e.inputFile,callback:function(t){e.inputFile=t},expression:"inputFile"}}),r("v-progress-linear",{staticClass:"ma-0 pa-0 my-1",attrs:{color:e.json_loaded?1==e.error?"red":"green":"primary",indeterminate:e.loading}}),r("v-fade-transition",[1!=e.json_loaded?r("v-alert",{attrs:{icon:!1,type:"warning",dense:""}},[r("span",{domProps:{innerHTML:e._s(e.$t("section.users.import.supportedExtensions").toUpperCase())}})]):e.json_loaded&&!e.error?r("v-alert",{attrs:{icon:"mdi-check-circle",dense:"",type:"success","close-icon":"text-uppercase"}},[e._v(" "+e._s(e.$t("section.users.import.readyToImport").toUpperCase())+" ")]):r("v-alert",{attrs:{icon:"mdi-close-circle",dense:"",type:"error",color:"red","close-icon":"text-uppercase"}},[e._v(" "+e._s(e.errorMsg.toUpperCase())+" ")])],1)],1)],1)],1),r("v-tab-item",{key:2},[r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[e.showResult?!e.error&&e.showResult?r("v-alert",{staticClass:"ma-4",attrs:{icon:"mdi-check-circle",dense:"",type:"success","close-icon":"text-uppercase"}},[e._v(" "+e._s(e.$t("section.users.import.bulkImportSuccess").toUpperCase())+" ")]):r("v-alert",{staticClass:"ma-4",attrs:{icon:"mdi-alert-circle",dense:"",type:"warning","close-icon":"text-uppercase"}},[e._v(" "+e._s(e.$t("section.users.import.bulkImportPartial").toUpperCase())+" ")]):r("v-alert",{staticClass:"ma-4",attrs:{dense:"",type:"info","close-icon":"text-uppercase"}},[e._v(" "+e._s(e.$t("section.users.import.previewMode").toUpperCase())+" ")])],1),r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-data-table",{staticClass:"py-3 px-2 mt-2 mb-2",attrs:{headers:this.tableData.headers,items:this.tableData.items,loading:this.loading,"footer-props":{"items-per-page-options":[10,25,50,100,-1]}},scopedSlots:e._u([{key:"item.status",fn:function(t){var s=t.item;return[s.status<0&&"password"==s.error?r("v-icon",{staticClass:"clr-orange"},[e._v(" mdi-alert-circle ")]):s.status<0?r("v-icon",{staticClass:"clr-red"},[e._v(" mdi-close-circle ")]):0==s.status?r("v-icon",{staticClass:"clr-valid"},[e._v(" mdi-check-circle ")]):s.status>0?r("v-icon",{staticClass:"clr-primary"},[e._v(" mdi-share ")]):e._e()]}},{key:"item.error",fn:function(t){var s=t.item;return["none"!=s.error?r("v-chip",{class:e.getClassForError(s.error)},[e._v(" "+e._s(e.$t("section.users.import.error."+s.error))+" ")]):s.status>0?r("v-chip",{class:"bg-blue text-normal"},[e._v(" "+e._s(e.$t("words.skipped"))+" ")]):r("v-chip",{class:"bg-valid text-normal"},[e._v(" "+e._s(e.$t("words.success"))+" ")])]}}],null,!0)})],1)],1)],1)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-secondary text-normal",attrs:{rounded:""},on:{click:function(t){e.import_tab<1||e.showResult&&e.import_tab>1?e.closeDialog():e.import_tab-=1}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[e._v(" "+e._s(e.import_tab<1||e.showResult&&e.import_tab>1?"mdi-close-circle":"mdi-chevron-left")+" ")]),r("span",{staticClass:"pr-1 text-white"},[e._v(" "+e._s(e.import_tab<1||e.showResult&&e.import_tab>1?e.$t("actions.close"):e.$t("actions.back"))+" ")])],1),e.import_tab>1&&!e.showResult?r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1",attrs:{disabled:e.loading||1!=e.json_loaded||e.error,color:"primary",rounded:""},on:{click:function(t){return e.importUsers()}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-check-circle ")]),r("span",{staticClass:"pr-1"},[e._v(" "+e._s(e.$t("actions.import")+" "+e.$t("classes.user.plural"))+" ")])],1):e.import_tab<2?r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-secondary",attrs:{disabled:!e.isStepValid(),rounded:""},on:{click:e.nextStep}},[r("span",{staticClass:"pl-2 text-normal"},[e._v(" "+e._s(e.$t("actions.next"))+" ")]),r("v-icon",{class:"clr-primary"+(e.isStepValid()?"":" clr-sat-0 clr-lig-90")},[e._v(" mdi-chevron-right ")])],1):e._e()],1)],1)],1)},ht=[],ft=(r(561),r(8559),{methods:{getUserImportHeaders:function(){return["username","password","email","first_name","last_name","initials","webpage"]},csvToJSON:function(e,t){e=e.replace(/\r\n/g,"\n");for(var r=e.split("\n"),s=[],a=r[0].split(t),o=r.slice(-1)[0],i=0;i<a.length;i++)if(a[i].length<1)return"ERR_INVALID_CSV_HEADERS";if(o.length>1)return!1;for(var n=1;n<r.length-1;n++){for(var l={},c=!0,d=r[n].split(t),u=0;u<a.length;u++)l[a[u]]=d[u];for(var p in l)l[p].length>0&&(c=!1);c||s.push(l)}return{headers:a,data:s}}}}),bt=ft,_t=(r(8783),r(285),r(1637),r(6699),r(2023),function(){function e(){(0,Z.Z)(this,e)}return(0,P.Z)(e,null,[{key:"exportNoHeaders",value:function(e,t){for(var r=[],s=0;s<e.length;s++){for(var a="",o=0;o<e[s].length;o++)o<e[s].length-1?a+=e[s][o]+this.CELL_DIVIDER:a+=e[s][o]+this.LINE_DIVIDER;r.push(a)}var i=new Blob(r,{type:"text/csv"}),n=document.createElement("a");n.download=t+".csv",n.href=window.URL.createObjectURL(i),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"export",value:function(e,t,r){for(var s=[],a=0;a<e.length;a++){var o="";a<e.length-1?o+=e[a]+this.CELL_DIVIDER:o+=e[a]+this.LINE_DIVIDER,s.push(o)}for(var i=0;i<t.length;i++){for(var n="",l=0;l<t[i].length;l++)l<t[i].length-1?n+=t[i][l]+this.CELL_DIVIDER:n+=t[i][l]+this.LINE_DIVIDER;s.push(n)}var c=new Blob(s,{type:"text/csv"}),d=document.createElement("a");d.download=r+".csv",d.href=window.URL.createObjectURL(c),d.style.display="none",document.body.appendChild(d),d.click()}},{key:"guessDelimiters",value:function(e,t){return t.filter(r);function r(t){var r=-1;return e.split("\n").every(s);function s(e){if(!e)return!0;var s=e.split(t).length;return r<0&&(r=s),r===s&&s>1}}}},{key:"ensure_default_delimiters",value:function(t){return this.ensure_delimiters(e.LINE_DIVIDER,e.CELL_DIVIDER,t)}},{key:"ensure_delimiters",value:function(t,r,s){if(s.replace(/\r\n/g,"\n"),!s.includes(t))throw new Error("LINE_DEL_NOT_FOUND");if(!s.includes(r))throw new Error("COL_DEL_NOT_FOUND");var a=s.split(t),o=a.length,i=a[0].split(e.CELL_DIVIDER).length,n=0;while(n<o&&a[n].split(e.CELL_DIVIDER).length==i)++n;if(n<o-1)throw new Error("PARSING_ERROR");return!0}}]),e}());(0,E.Z)(_t,"CELL_DIVIDER","\t"),(0,E.Z)(_t,"LINE_DIVIDER","\n");var yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"ma-0 px-6 py-2 pt-4",attrs:{flat:"",outlined:""}},[r("v-row",{staticClass:"ma-0 pa-0 mb-2",attrs:{justify:"center"}},[r("span",{staticClass:"font-weight-normal"},[e._v(" "+e._s(e.label||e.$t("components.objectEditor"))+" ")])]),e.resettable?r("v-row",{staticClass:"ma-0 pa-0 my-2",attrs:{justify:"center"}},[r("v-btn",{attrs:{"x-small":"",outlined:""},on:{click:e.emitReset}},[e._v(" "+e._s(e.$t("actions.reset"))+" ")])],1):e._e(),r("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.disableAddDelete,expression:"!disableAddDelete"}],staticClass:"ma-0 pa-0 px-4"},[r("v-text-field",{staticClass:"pa-0 ma-0 ml-2 mr-4",attrs:{label:e.$t("words.key"),readonly:e.readonly,hint:e.$t(e.keyHint),"persistent-hint":e.persistentHint,required:!(!e.required||0!=e.keyToAdd.length),rules:e.isFieldInComplexValidators(e.keyToAdd)?[e.fieldRules(e.valueToAdd,e.complexValidator.keyToAdd.k)]:e.valueValidator},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addToObject(e.keyToAdd,e.valueToAdd)}},model:{value:e.keyToAdd,callback:function(t){e.keyToAdd=t},expression:"keyToAdd"}}),r("v-text-field",{staticClass:"pa-0 ma-0 mr-2",attrs:{label:e.$t("words.value"),readonly:e.readonly,hint:e.$t(e.valueHint),"persistent-hint":e.persistentHint,required:!(!e.required||0!=e.valueToAdd.length),rules:e.isFieldInComplexValidators(e.keyToAdd)?[e.fieldRules(e.valueToAdd,e.complexValidator.keyToAdd.v)]:e.valueValidator},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addToObject(e.keyToAdd,e.valueToAdd)}},model:{value:e.valueToAdd,callback:function(t){e.valueToAdd=t},expression:"valueToAdd"}}),r("v-btn",{staticClass:"bg-primary text-white mt-2 ml-1",attrs:{small:"",disabled:1==e.readonly||this.isFieldDisabled(e.keyToAdd)||e.keyToAdd in this.objectToEdit,rounded:"",icon:""},on:{click:function(t){return e.addToObject(e.keyToAdd,e.valueToAdd)}}},[r("v-icon",[e._v(" mdi-plus ")])],1)],1),e._l(e.objectToEdit,(function(t,s){return r("v-list-item",e._b({key:s},"v-list-item",e.objectToEdit,!1),[r("v-list-item-icon",[e.reorder?r("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(t){return e.moveItem(s)}}},[r("v-icon",[e._v("mdi-arrow-up")])],1):e._e(),e.reorder?r("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(t){return e.moveItem(s,!1)}}},[r("v-icon",[e._v("mdi-arrow-down")])],1):e._e()],1),r("v-list-item-content",{staticClass:"ma-0 pa-0"},[r("v-col",{staticClass:"ma-0 pa-0 px-2 py-1",attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",dense:e.dense,disabled:e.isFieldDisabled(s),"hide-details":!e.complexValidator,hint:e.complexValidator?e.complexValidator.subItemKey.kHint:void 0,required:!(!e.required||0!=s.length),label:e.$t("words.key"),value:s,readonly:""}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",dense:e.dense,disabled:e.isFieldDisabled(s),"hide-details":!e.complexValidator,hint:e.complexValidator?e.complexValidator.subItemKey.vHint:void 0,required:!(!e.required||0!=t.length),label:e.$t("words.value"),value:t,readonly:e.readonly},on:{change:function(t){return e.updateValue(s,t)}}})],1)],1),r("v-list-item-action",{staticClass:"ma-0 pa-0"},[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.disableAddDelete||e.isFieldDeletable(s),expression:"!disableAddDelete || isFieldDeletable(subItemKey)"}],class:"bg-primary text-white ml-2 "+(e.complexValidator?"mb-7":""),attrs:{disabled:1==e.readonly||e.isFieldDisabled(s)||e.disableAddDelete&&!e.isFieldDeletable(s),rounded:"",small:"",icon:""},on:{click:function(t){return e.removeFromObject(s)}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-minus ")])],1)],1)],1)}))],2)},Ct=[],wt={mixins:[Fe,Me.Z],data:function(){return{objectToEdit:{},keyToAdd:"",valueToAdd:""}},props:{value:Object,reorder:Boolean,label:String,dense:{type:Boolean,default:!1},disableAddDelete:{type:Boolean,default:!1},required:Boolean,readonly:Boolean,keyHint:String,valueHint:String,persistentHint:Boolean,keyValidator:Function,valueValidator:Function,disabledFields:{type:Array},deletableFields:{type:Array},resettable:Boolean,complexValidator:Object},emits:["update:value"],created:function(){this.setObject()},watch:{value:function(e){this.objectToEdit=e}},methods:{forceUpdate:function(){var e=this;this.$nextTick((function(){e.$forceUpdate()}))},setObject:function(){void 0!=this.value&&(this.objectToEdit=this.value),this.forceUpdate()},isFieldInComplexValidators:function(e){if(void 0!=this.complexValidator)return e in this.complexValidator},isFieldDisabled:function(e){if(void 0!=this.disabledFields)return this.disabledFields.includes(e)},isFieldDeletable:function(e){if(void 0!=this.deletableFields)return this.deletableFields.includes(e)},updateValue:function(e,t){this.objectToEdit[e]=t,this.updateObject()},addToObject:function(e,t){this.keyToAdd.length<1||this.valueToAdd.length<1||this.isFieldDisabled(e)||(this.objectToEdit[e]=t,this.valueToAdd="",this.keyToAdd="",this.updateObject())},removeFromObject:function(e){delete this.objectToEdit[e],this.updateObject()},emitReset:function(){this.$emit("reset")},updateObject:function(){this.$emit("update",this.objectToEdit),this.forceUpdate()},moveItem:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.objectToEdit[e],s=Object.keys(this.objectToEdit).indexOf(e),a=Object.entries(this.objectToEdit);a.splice(s,1),t?(s-=1,s<0&&(s=Object.keys(this.objectToEdit).length)):(s+=1,s>=Object.keys(this.objectToEdit).length&&(s=0)),console.log(s),a.splice(s,0,[e,r]),this.objectToEdit=Object.fromEntries(a),this.updateObject()}}},kt=wt,xt=r(459),Dt=(0,l.Z)(kt,yt,Ct,!1,null,null,null),Tt=Dt.exports;d()(Dt,{VBtn:He.Z,VCard:qe.Z,VCol:Pe.Z,VIcon:$e.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VListItemIcon:xt.Z,VRow:Ee.Z,VTextField:pt.Z});var St={name:"userImport",mixins:[Fe,Me.Z,bt],data:function(){return{loading:!1,showResult:!1,error:!1,errorMsg:"",inputFile:null,json_result:{},json_loaded:!1,status_color:"blue",allowRefresh:!0,deletableFields:["initials","telephoneNumber","wWWHomePage","streetAddress","postalCode","l","st","co"],showUserMappings:!1,userPathExpansionPanel:!1,import_tab:0,completed_tab:0,import_fields:{},usePlaceholderPassword:!1,placeholderPassword:"",placeholderPassword_idx:1,passwordHidden:!0,userDestination:"",tableData:{headers:[],items:[]}}},props:{userObject:Object,viewKey:String},mounted:function(){this.setDefaultImportFields()},components:{DirtreeOUList:Ne,ObjectEditor:Tt},watch:{usePlaceholderPassword:function(e){if(1==e)this.placeholderPassword_idx=Object.keys(this.import_fields).indexOf("password"),delete this.import_fields["password"];else{var t=Object.entries(this.import_fields);t.splice(this.placeholderPassword_idx,0,["password","password"]),this.import_fields=Object.fromEntries(t)}this.$refs.importFieldsEditor.setObject()},inputFile:function(e){null!=e&&void 0!=e||Ti.$emit("createNotification",{message:this.$t("section.users.import.fileCleared"),type:"info"})}},methods:{isStepValid:function(){switch(this.import_tab){case 0:if(0==this.userDestination.length||!this.userDestination)return!1;break;case 1:if(!this.json_loaded||0==this.json_result||this.error)return!1;break}return!0},nextStep:function(){switch(this.import_tab+1){case 1:this.usePlaceholderPassword&&this.$refs.importPlaceholderPassword.validate()?(this.import_tab+=1,this.completed_tab+=1):this.usePlaceholderPassword||(this.import_tab+=1,this.completed_tab+=1);break;default:this.import_tab+=1,this.completed_tab+=1;break}},resetPlaceholderPassword:function(){this.placeholderPassword="",this.passwordHidden=!0,this.$refs.importPlaceholderPasswordField.reset()},getLocalUserImportHeaders:function(){var e=[];for(var t in this.import_fields)e.push(this.import_fields[t]);return e},downloadTemplate:function(){var e=this.getLocalUserImportHeaders();_t["export"](e,[],"ilck_user_import_template")},refreshDataTable:function(){this.tableData.headers=[];for(var e=0;e<this.json_result.headers.length;e++)this.tableData.headers.push({text:this.json_result.headers[e],align:"center",value:this.json_result.headers[e]});this.tableData.items=this.json_result.data},clearDataTable:function(){this.tableData.headers=[],this.tableData.items=[],this.completed_tab-=1},previewFile:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e&&void 0!=e&&null!=e&&0!=e.length){r.next=2;break}return r.abrupt("return");case 2:t.loading=!0,s=t.getLocalUserImportHeaders(),a=new FileReader,a.readAsText(e,"UTF-8"),a.onload=function(){var e=(0,x.Z)((0,k.Z)().mark((function e(r){var a,o,i;return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.target.result,a=a.replace(/\r\n/g,"\n"),o=_t.guessDelimiters(a,[",","\t"]),e.next=5,t.csvToJSON(a,o);case 5:if(t.json_result=e.sent,"string"===typeof t.json_result&&(t.error=!0,t.errorMsg=t.getMessageForCode(t.json_result)),t.error||t.json_result.headers||(t.json_result=!1,t.error=!0,t.errorMsg=t.getMessageForCode("ERR_INVALID_CSV_HEADERS")),!t.error)if(t.json_result.headers.length!=s.length)t.json_result=!1,t.error=!0,t.errorMsg=t.getMessageForCode("ERR_INVALID_CSV_HEADERS");else for(i=0;i<t.json_result.headers.length;i++)t.json_result.headers[i]!=s[i]&&(t.json_result=!1,t.error=!0,t.errorMsg=t.getMessageForCode("ERR_INVALID_CSV_HEADERS"));!t.error&&t.json_result.data.length<1&&(t.error=!0,t.json_result=!1,t.errorMsg=t.getMessageForCode("noUsersInImport")),t.error?(t.error=!0,t.errorMsg.length<1&&(t.errorMsg=t.getMessageForCode("ERR_INVALID_CSV")),t.loading=!1,Ti.$emit("createNotification",{message:t.errorMsg,type:"error"}),t.clearDataTable()):(Ti.$emit("createNotification",{message:t.$t("section.users.import.fileReady"),type:"success"}),t.refreshDataTable()),t.json_loaded=!0;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onerror=function(e){console.error(e),t.error=!0,t.errorMsg=t.getMessageForCode("ERR_INVALID_CSV"),t.json_loaded=!0,t.loading=!1,Ti.$emit("createNotification",{message:t.errorMsg,type:"error"}),t.clearDataTable()},setTimeout((function(){t.loading=!1}),500);case 9:case"end":return r.stop()}}),r)})))()},clearFile:function(){this.loading=!1,this.showResult=!1,this.error=!1,this.errorMsg="",this.$refs.importFileInput&&this.$refs.importFileInput.reset(),this.inputFile=null,this.json_result={},this.json_loaded=!1,this.clearDataTable()},clearData:function(){this.clearFile();var e=be();this.domain=e.domain,this.realm=e.realm,this.basedn=e.basedn,this.fetchOUs(),this.userDestination="CN=Users,"+this.basedn,this.import_tab=0,this.completed_tab=0,this.usePlaceholderPassword=!1,this.passwordHidden=!0,this.placeholderPassword="",this.placeholderPassword_idx=1,this.setDefaultImportFields(),this.resetPlaceholderPassword(),this.showUserMappings=!1,this.$refs.importTabs&&this.$refs.items&&this.$refs.importTabs.callSlider()},setDefaultImportFields:function(){this.import_fields={username:"username",password:"password",mail:"email",givenName:"first_name",sn:"last_name",initials:"initials",telephoneNumber:"phone_number",wWWHomePage:"webpage",streetAddress:"street_address",postalCode:"postal_code",l:"town",st:"state_province",co:"country"}},fetchOUs:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>0&&void 0!==e[0]&&e[0],1==s&&(t.userPathExpansionPanel=0),void 0!=t.$refs.DirtreeOUList&&(t.allowRefresh=!1,t.$nextTick((function(){1!=s&&t.setDestination(),t.$refs.DirtreeOUList.fetchOUs().then((function(){setTimeout((function(){t.allowRefresh=!0}),50)}))})));case 3:case"end":return r.stop()}}),r)})))()},setDestination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&e?(this.userDestination=e,this.userPathExpansionPanel=!1):(this.userDestination=this.basedn,this.userPathExpansionPanel=0)},getClassForError:function(e){switch(e){case"password":case"country":return"bg-orange text-normal";default:return"bg-red text-normal"}},closeDialog:function(){var e=!1;return this.showResult&&(e=!0),this.$emit("closeDialog",this.viewKey,e)},importUsers:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,new ye({}).bulkInsert({headers:e.json_result.headers,placeholder_password:e.placeholderPassword,mapping:e.import_fields,users:e.json_result.data,path:e.userDestination}).then((function(t){setTimeout((function(){e.loading=!1}),100),e.error=!1,e.errorMsg="",0!=t.data.code&&Ti.$emit("createNotification",{message:e.$t("error.unknown_short"),type:"error"}),e.showResult=!0,e.tableData={headers:[],items:[]},e.tableData.headers.push({text:e.$t("classes.user.single"),align:"center",value:e.import_fields["username"]}),e.tableData.headers.push({text:e.$t("words.status"),align:"center",value:"status"}),e.tableData.headers.push({text:e.$t("words.error"),align:"center",value:"error"}),t.data.failed_users.length>0&&(t.data.failed_users.forEach((function(t){e.tableData.items.push({username:t.username,status:-1,error:t.stage})})),e.error=!0),t.data.skipped_users.length>0&&t.data.skipped_users.forEach((function(t){e.tableData.items.push({username:t,status:1,error:"none"})})),t.data.imported_users.length>0&&t.data.imported_users.forEach((function(t){e.tableData.items.push({username:t,status:0,error:"none"})}))})).catch((function(t){console.error(t),setTimeout((function(){e.loading=!1}),100),e.error=!0,e.errorMsg.length<1&&(e.errorMsg=e.getResponseErrorCode(t),e.errorMsg=e.getMessageForCode(e.errorMsg).toUpperCase()),Ti.$emit("createNotification",{message:e.errorMsg,type:"error"})}));case 3:case"end":return t.stop()}}),t)})))()}}},At=St,Zt=r(1234),Pt=r(4998),Rt=r(7781),$t=r(4227),Ot=r(1759),Et=r(8697),Ut=r(1954),Lt=r(1208),Nt=(0,l.Z)(At,gt,ht,!1,null,null,null),It=Nt.exports;d()(Nt,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCheckbox:We.Z,VChip:Ke.Z,VCol:Pe.Z,VDataTable:Pt.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VFadeTransition:Re.Z5,VFileInput:Rt.Z,VForm:tt.Z,VIcon:$e.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTab:$t.Z,VTabItem:Ot.Z,VTabs:Et.Z,VTabsItems:Ut.Z,VTabsSlider:Lt.Z,VTextField:pt.Z});var Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0",attrs:{loading:e.refreshLoading}},[r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.refreshLoading,expression:"!refreshLoading"}]},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[e.usercopy.givenName&&""!=e.usercopy.givenName&&e.usercopy.sn&&""!=e.usercopy.sn?r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("classes.user.single")+": "+e.usercopy.givenName+" "+e.usercopy.sn)+" ")]):r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.usercopy.username?e.$t("classes.user.single")+": "+e.usercopy.username.toUpperCase():"")+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-expand-transition",[e.editFlag&&e.showAlert?r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-alert",{staticClass:"pa-0 ma-1 pa-4 pb-3 mt-3",attrs:{border:"top",type:"warning",icon:!1}},[r("v-icon",{staticClass:"mdso mr-2"},[e._v("warning")]),e._v(" "+e._s(e.$t("section.users.editFlagWarning"))+" "),r("v-btn",{staticClass:"ma-0 pa-0 ml-2 pr-2 pl-1",attrs:{small:""},on:{click:e.viewUser}},[r("v-icon",{attrs:{color:"orange"}},[e._v("mdi-chevron-left")]),e._v(" "+e._s(e.$t("actions.back"))+" ")],1)],1)],1):e.showAlert?r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-alert",{staticClass:"pa-0 ma-1 pa-4 pb-3 mt-3",attrs:{border:"top",type:"info",icon:!1}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-eye-circle")]),e._v(" "+e._s(e.$t("section.users.viewFlagWarning"))+" "),r("v-btn",{staticClass:"ma-0 pa-0 ml-2 pr-2 pl-1",attrs:{small:""},on:{click:e.editUser}},[r("v-icon",{staticClass:"mx-1",attrs:{color:"blue",small:""}},[e._v("mdi-pencil")]),e._v(" "+e._s(e.$t("actions.edit"))+" ")],1)],1)],1):e._e()],1),r("v-tabs",{attrs:{height:"0"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{key:0},[r("v-card-text",{staticClass:"ma-0 py-4"},[r("v-form",{ref:"userForm",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"mb-2",attrs:{"align-content":"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"center":"start"}},[e._v(" "+e._s(e.$t("section.users.basicDetails"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"givenName",label:e.$t("ldap.attributes.givenName"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.givenName,"ge_name")]},model:{value:e.usercopy.givenName,callback:function(t){e.$set(e.usercopy,"givenName",t)},expression:"usercopy.givenName"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"sn",label:e.$t("ldap.attributes.sn"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.sn,"ge_name")]},model:{value:e.usercopy.sn,callback:function(t){e.$set(e.usercopy,"sn",t)},expression:"usercopy.sn"}})],1),r("v-col",{class:this.$vuetify.breakpoint.smAndUp?"mt-3":"",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"mail",label:e.$t("ldap.attributes.mail"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.mail,"ge_mail")]},model:{value:e.usercopy.mail,callback:function(t){e.$set(e.usercopy,"mail",t)},expression:"usercopy.mail"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-fade-transition",[r("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-1 py-2",attrs:{outlined:""}},[r("span",{class:(e.usercopy.is_enabled?"clr-valid":"clr-error")+" clr-lig-40"},[e._v(" "+e._s(e.usercopy.is_enabled?e.$t("ldap.attributes.is_enabled"):e.$t("ldap.attributes.is_disabled"))+" ")]),1==e.usercopy.is_enabled?r("div",{attrs:{elevation:"0"}},[r("v-icon",{staticClass:"clr-valid clr-lig-40"},[e._v(" mdi-check ")])],1):0==e.usercopy.is_enabled?r("div",{attrs:{elevation:"0",icon:"",rounded:""}},[r("v-icon",{staticClass:"clr-error clr-lig-40"},[e._v(" mdi-close ")])],1):e._e()])],1)],1),void 0!=e.user.last_login&&""!=e.user.last_login?r("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("ldap.attributes.last_login")+": "+e.user.last_login)+" ")]):e._e(),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"telephoneNumber",label:e.$t("ldap.attributes.telephoneNumber"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.telephoneNumber,"ge_phone")]},model:{value:e.usercopy.telephoneNumber,callback:function(t){e.$set(e.usercopy,"telephoneNumber",t)},expression:"usercopy.telephoneNumber"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"wWWHomePage",label:e.$t("ldap.attributes.wWWHomePage"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.wWWHomePage,"ge_website")]},model:{value:e.usercopy.wWWHomePage,callback:function(t){e.$set(e.usercopy,"wWWHomePage",t)},expression:"usercopy.wWWHomePage"}})],1)],1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"center":"end"}},[e._v(" "+e._s(e.$t("section.users.location"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"streetAddress",label:e.$t("ldap.attributes.streetAddress"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.streetAddress,"ge_address_street")]},model:{value:e.usercopy.streetAddress,callback:function(t){e.$set(e.usercopy,"streetAddress",t)},expression:"usercopy.streetAddress"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"postalCode",label:e.$t("ldap.attributes.postalCode"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.postalCode,"ge_address_postal_code")]},model:{value:e.usercopy.postalCode,callback:function(t){e.$set(e.usercopy,"postalCode",t)},expression:"usercopy.postalCode"}})],1),r("v-col",{class:this.$vuetify.breakpoint.smAndUp?"mt-3":"",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"l",label:e.$t("ldap.attributes.l"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.l,"ge_address_city")]},model:{value:e.usercopy.l,callback:function(t){e.$set(e.usercopy,"l",t)},expression:"usercopy.l"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-1 py-2",attrs:{outlined:""}},[void 0!=e.usercopy.countryCode&&""!=e.usercopy.countryCode&&0!=e.usercopy.countryCode?r("div",[e._v(" "+e._s(e.$t("ldap.attributes.countryCodeCombined"))+" "),r("div",{attrs:{elevation:"0"}},[e._v(" "+e._s(e.usercopy.countryCode)+" "+e._s("("+e.usercopy.c+")")+" ")])]):r("div",[e._v(" "+e._s(e.$t("ldap.attributes.countryCodeCombined"))+" "),r("div",[e._v(" "+e._s(e.$t("error.data.noCountryCode"))+" ")])])])],1),void 0!=e.user.last_login&&""!=e.user.last_login?r("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("ldap.attributes.last_login")+": "+e.user.last_login)+" ")]):e._e(),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"st",label:e.$t("ldap.attributes.st"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.usercopy.st,"ge_state")]},model:{value:e.usercopy.st,callback:function(t){e.$set(e.usercopy,"st",t)},expression:"usercopy.st"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-autocomplete",{attrs:{dense:"",id:"co",label:e.$t("ldap.attributes.co"),readonly:1!=e.editFlag,items:e.getCountryList(),rules:[this.fieldRules(e.usercopy.co,"ge_country")]},model:{value:e.usercopy.co,callback:function(t){e.$set(e.usercopy,"co",t)},expression:"usercopy.co"}})],1)],1)],1)],1)],1),r("v-row",{staticClass:"mt-2"},[r("v-expansion-panels",{staticClass:"ma-1",attrs:{flat:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[r("v-expansion-panel",{staticClass:"outlined"},[r("v-expansion-panel-header",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.$t("section.users.advancedDetails"))+" ")]),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{dense:"",id:"distinguishedName",label:e.$t("ldap.attributes.distinguishedName"),readonly:"",rules:[this.fieldRules(e.usercopy.distinguishedName,"ldap_dn")]},model:{value:e.usercopy.distinguishedName,callback:function(t){e.$set(e.usercopy,"distinguishedName",t)},expression:"usercopy.distinguishedName"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"userPrincipalName",label:e.$t("ldap.attributes.userPrincipalName"),readonly:"",rules:[this.fieldRules(e.usercopy.userPrincipalName,"ldap_usn")]},model:{value:e.getUSN,callback:function(t){e.getUSN=t},expression:"getUSN"}})],1),r("v-col",{attrs:{cols:"12",lg:"6",justify:e.$vuetify.breakpoint.lgAndUp?"start":"center"}},[r("v-text-field",{attrs:{dense:"",id:"sAMAccountType",label:e.$t("ldap.attributes.sAMAccountType"),readonly:"",rules:[this.fieldRules(e.usercopy.sAMAccountType,"ge_lettersStrictUnderscore")]},model:{value:e.usercopy.sAMAccountType,callback:function(t){e.$set(e.usercopy,"sAMAccountType",t)},expression:"usercopy.sAMAccountType"}})],1)],1),r("v-row",{attrs:{justify:e.$vuetify.breakpoint.lgAndUp?"start":"center",align:"center"}},[r("v-col",{attrs:{cols:"12",md:"3"}},[r("v-btn",{staticClass:"ma-0 pa-0 py-2 pr-1 pl-3 ma-1",attrs:{outlined:"",color:"primary"},on:{click:e.goToGroups}},[e._v(" "+e._s(e.$t("actions.changeUserGroups"))+" "),r("v-icon",[e._v("mdi-chevron-left")])],1)],1),r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-select",{attrs:{dense:"",id:"primaryGroupID",label:e.$t("ldap.attributes.primaryGroupID"),readonly:1!=e.editFlag,items:this.usercopy.memberOfObjects,hint:e.$t("section.users.userDialog.hint.primaryGroupID"),"persistent-hint":"","item-text":e.getNameForPID,"item-value":"objectRid"},model:{value:e.usercopy.primaryGroupID,callback:function(t){e.$set(e.usercopy,"primaryGroupID",t)},expression:"usercopy.primaryGroupID"}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-text-field",{attrs:{dense:"",id:"userAccountControl",label:e.$t("ldap.attributes.userAccountControl"),readonly:"",rules:[this.fieldRules(e.calcEnabledPerms,"ge_numbers")]},model:{value:e.calcEnabledPerms,callback:function(t){e.calcEnabledPerms=t},expression:"calcEnabledPerms"}})],1),r("v-col",{attrs:{cols:"12",md:"3"}},[r("v-btn",{staticClass:"ma-0 pa-0 py-2 pr-1 pl-3 ma-1",attrs:{outlined:"",color:"primary"},on:{click:e.goToPerms}},[e._v(" "+e._s(e.$t("actions.changeUserPerms"))+" "),r("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"whenCreated",label:e.$t("ldap.attributes.whenCreated"),readonly:""},model:{value:e.usercopy.whenCreated,callback:function(t){e.$set(e.usercopy,"whenCreated",t)},expression:"usercopy.whenCreated"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"whenChanged",label:e.$t("ldap.attributes.whenChanged"),readonly:""},model:{value:e.usercopy.whenChanged,callback:function(t){e.$set(e.usercopy,"whenChanged",t)},expression:"usercopy.whenChanged"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"lastLogon",label:e.$t("ldap.attributes.lastLogon"),readonly:""},model:{value:e.usercopy.lastLogon,callback:function(t){e.$set(e.usercopy,"lastLogon",t)},expression:"usercopy.lastLogon"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"pwdLastSet",label:e.$t("ldap.attributes.pwdLastSet"),readonly:""},model:{value:e.usercopy.pwdLastSet,callback:function(t){e.$set(e.usercopy,"pwdLastSet",t)},expression:"usercopy.pwdLastSet"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("v-row",{attrs:{justify:"center"}},[r("span",[e._v(" "+e._s(e.$t("ldap.attributes.objectClass"))+" ")])]),r("v-row",{attrs:{justify:"center"}},e._l(e.usercopy.objectClass,(function(t){return r("v-chip",{key:t,staticClass:"ma-1",attrs:{light:e.$vuetify.theme.dark,dark:!e.$vuetify.theme.dark,close:1==e.editFlag},on:{"click:close":function(r){return e.removeObjectClassFromArray(t)}}},[e._v(" "+e._s(t)+" ")])})),1)],1),r("v-col",{attrs:{cols:"12",lg:""}},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-autocomplete",{attrs:{dense:"",label:e.$t("actions.addObjectClass"),clearable:"",readonly:1!=e.editFlag,hint:e.$t("section.users.userDialog.hint.addObjectClass"),items:e.objectClasses},model:{value:e.addObjectClass,callback:function(t){e.addObjectClass=t},expression:"addObjectClass"}}),r("v-btn",{class:(1!=e.editFlag?"bg-white bg-lig-90":"bg-primary text-white")+" ml-3",attrs:{disabled:1!=e.editFlag,rounded:"",icon:""},on:{click:e.addObjectClassToArray}},[r("v-icon",[e._v(" mdi-plus ")])],1)],1)],1),r("v-col",{attrs:{cols:"12",lg:"12"}},[r("v-text-field",{attrs:{dense:"",id:"objectCategory",label:e.$t("ldap.attributes.objectCategory"),readonly:"",rules:[this.fieldRules(e.usercopy.objectCategory,"ldap_dn")]},model:{value:e.usercopy.objectCategory,callback:function(t){e.$set(e.usercopy,"objectCategory",t)},expression:"usercopy.objectCategory"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),r("v-tab-item",{key:1},[r("v-card-text",{staticClass:"my-3 py-4"},[r("v-row",{staticClass:"mb-2",attrs:{"align-content":"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"8"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.perms"))+" ")]),r("v-list",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:e.$vuetify.breakpoint.mdAndUp?"start":"center"}},e._l(e.permissions,(function(t,s){return r("v-list-item",{key:s,attrs:{disabled:e.disabled_permissions.includes(s),"two-line":"",value:e.permissions[s].value},on:{click:function(t){return e.onClickPermission(s)}}},[r("v-list-item-content",{staticClass:"pl-10"},[r("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.$t("section.users.permissions."+s))+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s(s)+" ")])],1),r("v-list-item-action",[r("v-checkbox",{attrs:{disabled:!e.editFlag},on:{click:function(t){return e.onClickPermission(s)}},model:{value:e.permissions[s].value,callback:function(t){e.$set(e.permissions[s],"value",t)},expression:"permissions[key].value"}})],1)],1)})),1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.permsRaw"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("a",{staticClass:"text-white",attrs:{href:"https://docs.microsoft.com/en-US/troubleshoot/windows-server/identity/useraccountcontrol-manipulate-account-properties",target:"_blank"}},[r("v-alert",{attrs:{type:"info"}},[e._v(" "+e._s(e.$t("section.users.permsRawHint"))+" ")])],1)]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{"hide-details":"",label:e.$t("section.users.permsOutputArray"),outlined:"",readonly:"","auto-grow":""},model:{value:e.getEnabledPerms,callback:function(t){e.getEnabledPerms=t},expression:"getEnabledPerms"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"hide-details":"",label:e.$t("section.users.permsCalc"),outlined:"",readonly:""},model:{value:e.calcEnabledPerms,callback:function(t){e.calcEnabledPerms=t},expression:"calcEnabledPerms"}})],1)],1)],1)],1)],1)],1)],1),r("v-tab-item",{key:2},[r("v-card-text",{staticClass:"my-3 py-4"},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"10"}},[r("v-select",{attrs:{dense:"",id:"primaryGroupID",label:e.$t("ldap.attributes.primaryGroupID"),readonly:1!=e.editFlag,items:this.usercopy.memberOfObjects,hint:e.$t("section.users.userDialog.hint.primaryGroupID"),"persistent-hint":"","item-text":e.getNameForPID,"item-value":"objectRid"},model:{value:e.usercopy.primaryGroupID,callback:function(t){e.$set(e.usercopy,"primaryGroupID",t)},expression:"usercopy.primaryGroupID"}})],1)],1),r("v-row",{staticClass:"mb-2",attrs:{justify:"center","align-content":"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"10"}},[r("v-card",{staticClass:"ma-1 pa-0 pt-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-2",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.groups"))+" ")]),r("v-divider",{staticClass:"mx-12"}),r("v-list",{attrs:{dense:""}},[r("v-row",{staticClass:"ma-0 pa-0 mx-6 my-3",attrs:{justify:"end"}},[r("v-btn",{attrs:{color:"primary",outlined:"",disabled:1!=e.editFlag},on:{click:function(t){return e.openDialog("userAddToGroup")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-plus ")]),e._v(" "+e._s(e.$t("section.users.userDialog.addToGroup"))+" ")],1)],1),r("v-list-item-group",{attrs:{"active-class":"groupSelected"}},e._l(e.usercopy.memberOfObjects,(function(t,s){return r("v-list-item",{key:s,scopedSlots:e._u([{key:"default",fn:function(s){return[r("v-list-item-action"),r("v-list-item-content",[r("v-list-item-title",[e._v(" "+e._s(t.name+" ("+t.objectRid+")")+" ")])],1),r("v-list-item-action",{staticClass:"ma-0"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[r("v-btn",e._g(e._b({attrs:{small:"",icon:"",color:"primary"},on:{click:[function(r){return e.goToGroup(t.distinguishedName)},function(e){e.stopPropagation()}]}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-arrow-right-bold ")])],1)]}}],null,!0)},[r("span",[e._v(" "+e._s(e.$t("actions.goTo")+" "+e.$t("classes.group.single"))+" ")])])],1),r("v-list-item-action",{staticClass:"ma-0"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[r("v-btn",e._g(e._b({attrs:{small:"",icon:"",color:"primary"},on:{click:[function(r){return e.copyText(t.distinguishedName)},function(e){e.stopPropagation()}]}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-content-copy ")])],1)]}}],null,!0)},[r("span",[e._v(" "+e._s(e.$t("section.groups.groupDialog.copyDistinguishedName"))+" ")])])],1),r("v-list-item-action",{staticClass:"ma-0"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[r("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:t.objectRid!=e.usercopy.primaryGroupID,expression:"group.objectRid != usercopy.primaryGroupID"}],attrs:{small:"",icon:"",disabled:1!=e.editFlag,color:"red"},on:{click:[function(r){return e.removeFromGroup(t.distinguishedName)},function(e){e.stopPropagation()}]}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-close ")])],1),r("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:t.objectRid==e.usercopy.primaryGroupID,expression:"group.objectRid == usercopy.primaryGroupID"}],attrs:{small:"",icon:""},on:{click:function(e){e.stopPropagation()}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-close ")])],1)]}}],null,!0)},[t.objectRid!=e.usercopy.primaryGroupID?r("span",[e._v(" "+e._s(e.$t("section.users.userDialog.removeFromGroup"))+" ")]):r("span",[e._v(" "+e._s(e.$t("section.users.userDialog.primaryGroupRemoveDisabled"))+" ")])])],1)]}}],null,!0)})})),1)],1)],1)],1)],1)],1)],1)],1)],1)]),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:this.$vuetify.breakpoint.mdAndDown?"center":"space-between"}},[r("v-menu",{attrs:{top:"","offset-y":"",right:"","nudge-top":"3rem","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"pa-0 px-4 pr-1 mx-1",staticStyle:{"min-width":"32px"},attrs:{elevation:"0",disabled:!e.editFlag,color:"primary",outlined:""}},"v-btn",a,!1),s),[e._v(" "+e._s(e.$t("actions.moreActions"))+" "),r("v-icon",{class:1==e.extraListOpen?"active":"",attrs:{id:"filterListButton"}},[e._v(" mdi-chevron-up ")])],1)]}}]),model:{value:e.extraListOpen,callback:function(t){e.extraListOpen=t},expression:"extraListOpen"}},[r("v-list",{attrs:{elevation:"0",dense:"",dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify)}},[e._e(),e.usercopy.is_enabled?1==e.usercopy.is_enabled?r("v-list-item",{staticClass:"ma-0 pa-0 px-2",attrs:{disabled:!e.editFlag||e.isLoggedInUser(e.usercopy.username),dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify)},on:{click:e.disableUser}},[r("v-list-item-icon",{staticClass:"mx-0 pa-0 mr-2 clr-red"},[r("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-close-circle-outline ")])],1),r("v-list-item-content",{staticClass:"v-list-btn v-btn clr-red"},[e._v(" "+e._s(e.$t("actions.disable").toUpperCase())+" ")])],1):e._e():r("v-list-item",{staticClass:"ma-0 pa-0 px-2",attrs:{disabled:!e.editFlag||e.isLoggedInUser(e.usercopy.username),dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify)},on:{click:e.enableUser}},[r("v-list-item-icon",{staticClass:"mx-0 pa-0 mr-2 clr-valid"},[r("v-icon",[e._v(" mdi-checkbox-marked-circle-outline ")])],1),r("v-list-item-content",{staticClass:"v-list-btn v-btn clr-valid"},[e._v(" "+e._s(e.$t("actions.enable").toUpperCase())+" ")])],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"center":"end"}},[r("v-slide-x-reverse-transition",[e.changingPerms||e.changingGroups?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-3 ma-1 px-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.goBackToDetails}},[r("v-fab-transition",[e.changingPerms?r("v-icon",{staticClass:"ml-0"},[e._v(" mdi-chevron-left ")]):e._e()],1),r("span",{class:e.changingPerms?"mr-2":"ml-2"},[e._v(" "+e._s(e.$t("section.users.userDialog.userDetails"))+" ")]),r("v-fab-transition",[e.changingGroups?r("v-icon",{staticClass:"mr-0"},[e._v(" mdi-chevron-right ")]):e._e()],1)],1):e._e()],1),1!=e.editFlag?r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.editUser}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-pencil ")]),e._v(" "+e._s(e.$t("actions.edit"))+" ")],1):e._e(),1==e.editFlag?r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.viewUser}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-eye ")]),e._v(" "+e._s(e.$t("actions.view"))+" ")],1):e._e(),r("v-btn",{class:(e.editFlag?"text-normal ":"")+"ma-0 pa-0 pa-4 ma-1 bg-white bg-lig-25",attrs:{rounded:"",disabled:!e.editFlag},on:{click:e.saveUser}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-content-save ")]),e._v(" "+e._s(e.$t("actions.save"))+" ")],1),r("v-btn",{class:(e.editFlag?"text-normal ":"")+"ma-0 pa-0 pa-4 ma-1 bg-white bg-lig-25",attrs:{rounded:"",disabled:!e.editFlag},on:{click:function(t){return e.saveUser(!0)}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-exit-to-app ")]),e._v(" "+e._s(e.$t("actions.saveClose"))+" ")],1),r("v-progress-circular",{staticClass:"pa-0 ma-0",attrs:{color:e.loadingColor,value:"100",indeterminate:e.loading||e.fetchingData,size:"38",width:"7"}},[r("v-btn",{staticClass:"ma-1 bg-primary",attrs:{small:"",color:"white",icon:"",disabled:e.loading||e.fetchingData,elevation:"0",loading:e.refreshLoading},on:{click:e.refreshUser},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1)],1)],1)],1)],1),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["userAddToGroup"],callback:function(t){e.$set(e.dialogs,"userAddToGroup",t)},expression:"dialogs['userAddToGroup']"}},[r("CNObjectList",{ref:"UserAddToGroup",attrs:{viewKey:"userAddToGroup",excludeDNs:e.excludeGroups,enableUsers:!1},on:{addDNs:e.addToGroup,closeDialog:e.closeInnerDialog}})],1)],1)},jt=[],Ft=(r(1249),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-2",attrs:{flat:""}},[e.showHeader?r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1):e._e(),r("v-row",{staticClass:"ma-0 pa-0 px-16 my-3",attrs:{justify:"space-between",align:"center"}},[r("v-col",[r("v-row",{attrs:{justify:"start"}},[r("v-chip",{staticClass:"mx-1"},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-checkbox-blank ")]),e._v(" "+e._s(e.$t("section.users.userDialog.containsGroups"))+" ")],1),r("v-chip",[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-close-box ")]),e._v(" "+e._s(e.$t("section.users.userDialog.doesNotContainGroups"))+" ")],1)],1)],1),r("v-col",[r("v-row",{attrs:{justify:"end"}},[r("v-btn",{attrs:{disabled:!this.ldapList||this.ldapList.length<1,text:"",color:"primary"},on:{click:e.toggleOpenAll}},[r("v-fab-transition",[e.listOpenAll?r("v-icon",[e._v(" mdi-chevron-double-up ")]):r("v-icon",[e._v(" mdi-chevron-double-down ")])],1),e._v(" "+e._s(e.listOpenAll?e.$t("actions.closeAll"):e.$t("actions.openAll"))+" ")],1),e.addButton?r("v-btn",{staticClass:"ma-0 pa-0 mx-2 px-2",attrs:{disabled:this.ldapList&&this.ldapList.length<1,color:"primary"},on:{click:e.addDNs}},[r("v-icon",{staticClass:"ma-0 pa-0 mr-1"},[e._v(" mdi-plus ")]),e._v(" "+e._s(e.$t("actions.addN"))+" ")],1):e._e(),r("Refresh",{attrs:{loading:e.loading,buttonClasses:"ma-1 bg-primary"},on:{refresh:e.fetchLists}})],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"10"}},[r("v-card",{staticStyle:{"max-height":"560px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[e.showLoadingBar?r("v-progress-linear",{attrs:{indeterminate:e.loading,color:e.loading?"primary":"secondary"}}):e._e(),r("v-expand-transition",[this.ldapList.length>0?r("v-treeview",{ref:"groupTreeview",attrs:{"open-all":this.listOpenAll,items:this.ldapList,dense:"","open-on-click":"",hoverable:""},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item,a=t.open;return[r("v-row",{staticClass:"mx-1"},[r("v-checkbox",{attrs:{"off-icon":e.isTypeValid(s.type.toLowerCase())?void 0:s.children&&s.children.length>0?"mdi-checkbox-blank":"mdi-close-box",value:!!e.selectedDNs.includes(s.id),disabled:!e.isTypeValid(s.type.toLowerCase())},on:{change:function(t){return e.changeSelectedStatus(s.id)},click:function(e){e.stopPropagation()}}}),1==s.builtin&&"Container"!=s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" mdi-hammer ")]):"Container"==s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" mdi-archive ")]):"Organizational-Unit"==s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")]):e._e(),e.isUserType(s.type)?r("v-icon",[e._v(" mdi-account ")]):"group"==s.type.toLowerCase()?r("v-icon",[e._v(" mdi-google-circles-communities ")]):r("v-icon",[e._v(" mdi-group ")])],1)]}},{key:"label",fn:function(t){var s=t.item;return[r("v-row",{attrs:{align:"start"},on:{click:function(t){e.isTypeValid(s.type.toLowerCase())&&e.changeSelectedStatus(s.id)}}},[r("v-col",{attrs:{cols:"11",md:"auto"}},[e._v(" "+e._s(s.name)+" ")])],1)]}}],null,!1,3158308197)}):e._e()],1)],1)],1)],1)],1)}),Mt=[],Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-progress-circular",{class:"pa-0 ma-0 "+e.componentClasses,attrs:{color:e.loadingColor,value:e.loadingValue,indeterminate:e.loading||e.fetchingData,size:"38",width:"7"}},[r("v-btn",{class:e.buttonClasses,attrs:{small:"",color:e.iconColor,icon:"",disabled:e.loading||e.fetchingData,elevation:"0",loading:e.loading},on:{click:e.emitRefresh},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:e.iconColor}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1)],1)],1)},Bt=[],Ht={props:{loadingColor:{type:String,default:"primary"},iconColor:{type:String,default:"white"},buttonClasses:{type:String,default:"bg-primary"},componentClasses:{type:String,default:""},loading:Boolean,fetchingData:{type:Boolean,default:!1},loadingValue:{type:Number,default:100}},methods:{emitRefresh:function(){this.$emit("refresh")}}},qt=Ht,zt=(0,l.Z)(qt,Gt,Bt,!1,null,null,null),Wt=zt.exports;d()(zt,{VBtn:He.Z,VIcon:$e.Z,VProgressCircular:it.Z});var Kt={components:{Refresh:Wt},data:function(){return{userClasses:["user","person","organizationalperson"],ldapList:[],selectedDNs:[],showLoadingBar:!1,loading:!1,listOpenAll:!1,openItems:[],filter:{iexact:{organizationalUnit:{attr:"objectClass",or:!0},container:{attr:"objectClass",or:!0}}}}},props:{viewKey:String,enableGroups:{type:Boolean,default:!0},enableUsers:{type:Boolean,default:!0},addButton:{type:Boolean,default:!0},openAllButton:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0}},methods:{isUserType:function(e){var t=!1;return this.userClasses.includes(e.toLowerCase())&&(t=!0),t},toggleOpenAll:function(){this.listOpenAll=!this.listOpenAll,void 0!=this.$refs.groupTreeview&&this.$refs.groupTreeview.updateAll(this.listOpenAll)},addDNs:function(){var e,t=this,r=[];this.selectedDNs.length>0&&(this.selectedDNs.forEach((function(s){t.ldapList.forEach((function(t){e&&0!=e.length||(e=fe(t,parseInt(s))),void 0!=e&&(console.log(e),r.push(e),e=void 0)}))})),this.$emit("addDNs",r))},changeSelectedStatus:function(e){this.selectedDNs.includes(e)?this.selectedDNs=this.selectedDNs.filter((function(t){return t!=e})):this.selectedDNs.push(e)},isTypeValid:function(e){var t=["user","person","organizationalperson","group"];return!!t.includes(e)},resetFilter:function(){this.filter={iexact:{organizationalUnit:{attr:"objectClass",or:!0},container:{attr:"objectClass",or:!0},Builtin:{attr:"name",or:!0}}}},fetchLists:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:void 0,t.ldapList=[],t.resetFilter(),a=t.filter,t.$forceUpdate,t.enableGroups?a["iexact"]["group"]={attr:"objectClass",or:!0}:delete a["iexact"]["group"],t.enableUsers?a["iexact"]["user"]={attr:"objectClass",or:!0}:delete a["iexact"]["user"],t.loading=!0,t.error=!1,t.selectedDNs=[],void 0!=s&&s.length>0&&s.forEach((function(e){a["iexact"][e]={attr:"distinguishedName",exclude:!0}})),r.next=13,new Se({}).dirtree(t.filter).then((function(e){return t.ldapList=e.data.ldapObjectList,t.loading=!1,e})).catch((function(e){return t.loading=!1,t.error=!0,console.log(e),e}));case 13:case"end":return r.stop()}}),r)})))()},clearList:function(){this.ldapList=[]},setDestination:function(e){console.log(e)},closeDialog:function(){this.$emit("closeDialog",this.viewKey)}}},Yt=Kt,Qt=(0,l.Z)(Yt,Ft,Mt,!1,null,null,null),Xt=Qt.exports;d()(Qt,{VBtn:He.Z,VCard:qe.Z,VCardTitle:ze.EB,VCheckbox:We.Z,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VFabTransition:Re.b0,VIcon:$e.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTreeview:Ue.Z});var Jt={name:"UserDialog",components:{CNObjectList:Xt},data:function(){return{showAlert:!1,panel:[],loading:!1,loadingColor:"accent",extraListOpen:!1,tab:0,error:!1,errorMsg:"",domain:"",realm:"",basedn:"",changingPerms:!1,changingGroups:!1,usercopy:{},addObjectClass:"",groupsToRemove:[],groupsToAdd:[],excludeGroups:[],dialogs:{userAddToGroup:!1},objectClasses:["accessControlSubentry","account","alias","applicationEntity","applicationProcess","bootableDevice","certificationAuthority","certificationAuthority-V2","collectiveAttributeSubentry","country","crlDistributionPoint","device","dmd","dnsDomain","documentSeries","domain","domainRelatedObject","dsa","extensibleObject","friendlyCountry","groupOfNames","groupOfUniqueNames","ieee802Device","inetOrgPerson","ipHost","ipNetwork","ipProtocol","ipService","javaContainer","javaMarshalledObject","javaNamingReference","javaObject","javaSerializedObject","labeledURIObject","locality","mailRecipient","newPilotPerson","nisDomainObject","nisKeyObject","nisMap","nisNetgroup","nisObject","oldQualityLabelledData","oncRpc","organization","organizationalPerson","organizationalRole","organizationalUnit","person","pilotDSA","pilotObject","pilotOrganization","posixAccount","posixGroup","top","user","referral","residentialPerson","room","shadowAccount","simpleSecurityObject","strongAuthenticationUser"],disabled_permissions:["LDAP_UF_LOCKOUT","LDAP_UF_PASSWD_CANT_CHANGE"],permissions:{LDAP_UF_SCRIPT:{value:!1,int:1},LDAP_UF_ACCOUNT_DISABLE:{value:!1,int:2},LDAP_UF_HOMEDIR_REQUIRED:{value:!1,int:8},LDAP_UF_LOCKOUT:{value:!1,int:16},LDAP_UF_PASSWD_NOTREQD:{value:!1,int:32},LDAP_UF_PASSWD_CANT_CHANGE:{value:!1,int:64},LDAP_UF_ENCRYPTED_TEXT_PASSWORD_ALLOWED:{value:!1,int:128},LDAP_UF_NORMAL_ACCOUNT:{value:!1,int:512},LDAP_UF_INTERDOMAIN_TRUST_ACCOUNT:{value:!1,int:2048},LDAP_UF_WORKSTATION_TRUST_ACCOUNT:{value:!1,int:4096},LDAP_UF_SERVER_TRUST_ACCOUNT:{value:!1,int:8192},LDAP_UF_DONT_EXPIRE_PASSWD:{value:!1,int:65536},LDAP_UF_MNS_LOGON_ACCOUNT:{value:!1,int:131072},LDAP_UF_SMARTCARD_REQUIRED:{value:!1,int:262144},LDAP_UF_TRUSTED_FOR_DELEGATION:{value:!1,int:524288},LDAP_UF_NOT_DELEGATED:{value:!1,int:1048576},LDAP_UF_USE_DES_KEY_ONLY:{value:!1,int:2097152},LDAP_UF_DONT_REQUIRE_PREAUTH:{value:!1,int:4194304},LDAP_UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION:{value:!1,int:16777216},LDAP_UF_NO_AUTH_DATA_REQUIRED:{value:!1,int:33554432},LDAP_UF_PARTIAL_SECRETS_ACCOUNT:{value:!1,int:67108864}},categories:{basic:["sAMAccountName","givenName","sn","mail","displayName","is_enabled","last_login","telephoneNumber","wWWHomePage"],location:["streetAddress","postalCode","l","st","countryCode","co","c"],account:["distinguishedName","userPrincipalName","userAccountControl","whenCreated","whenChanged","lastLogon","badPwdCount","pwdLastSet","primaryGroupID","objectClass","objectCategory","sAMAccountType"]}}},mixins:[Fe,Me.Z],props:{viewKey:String,editFlag:Boolean,user:Object,fetchingData:Boolean,refreshLoading:Boolean},created:function(){this.syncUser()},computed:{calcEnabledPerms:function(){for(var e=0,t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],1),a=s[0];1==this.permissions[a].value&&(e+=this.permissions[a].int)}return e},getEnabledPerms:function(){for(var e=[],t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],1),a=s[0];1==this.permissions[a].value&&e.push(a)}return e},getUSN:function(){return void 0!=this.usercopy.username?this.usercopy.username+"@"+this.domain:"@"+this.domain}},watch:{dialogs:{handler:function(e){e["userAddToGroup"]&&0!=e["userAddToGroup"]||this.$refs.UserAddToGroup.clearList()},deep:!0}},methods:{goToGroup:function(e){this.$emit("goToGroup",{distinguishedName:e})},setupExclude:function(){var e=this;this.excludeGroups=[],void 0!=this.usercopy.memberOfObjects&&this.usercopy.memberOfObjects.length>0&&this.usercopy.memberOfObjects.forEach((function(t){e.excludeGroups.push(t.distinguishedName)})),void 0!=this.usercopy.groupsToAdd&&this.usercopy.groupsToAdd.length>0&&this.usercopy.groupsToAdd.forEach((function(t){e.excludeGroups.includes(t)||e.excludeGroups.push(t)}))},openDialog:function(e){switch(this.dialogs[e]=!0,e){case"userAddToGroup":this.setupExclude(),this.$refs.UserAddToGroup.fetchLists(this.excludeGroups);break;default:break}},closeInnerDialog:function(e){this.dialogs[e]=!1},addToGroup:function(e){var t=this;this.groupsToAdd=e.map((function(e){return e.distinguishedName})),this.usercopy.memberOfObjects||(this.usercopy.memberOfObjects=[]),e.forEach((function(e){0==t.usercopy.memberOfObjects.filter((function(t){return t.distinguishedName==e.distinguishedName})).length&&t.usercopy.memberOfObjects.push(e),void 0!=t.groupsToRemove&&(t.groupsToRemove=t.groupsToRemove.filter((function(t){return t!=e.distinguishedName})))})),this.closeInnerDialog("userAddToGroup"),this.setupExclude(),this.$forceUpdate},removeFromGroup:function(e){var t=this.usercopy.memberOfObjects.filter((function(t){return t.distinguishedName==e}));if(t.length>0)var r=t[0];r["objectRid"]==this.usercopy["primaryGroupID"]?console.error("Primary group cannot be deleted"):(this.groupsToRemove.includes(e)||this.groupsToRemove.push(e),this.groupsToAdd.includes(e)&&(this.groupsToAdd=this.groupsToAdd.filter((function(t){return t!=e}))),this.excludeGroups.includes(e)&&(this.excludeGroups=this.excludeGroups.filter((function(t){return t!=e}))),this.usercopy.memberOfObjects=this.usercopy.memberOfObjects.filter((function(t){return t.distinguishedName!=e})),this.setupExclude(),this.$forceUpdate)},logGroups:function(){console.log("Groups to Add"),console.log(this.groupsToAdd),console.log("Groups to Remove"),console.log(this.groupsToRemove),console.log("Member Of Objects"),console.log(this.usercopy.memberOfObjects)},copyText:function(e){navigator.clipboard.writeText(e)},getNameForPID:function(e){return e.name+" ("+e.objectRid+")"},getDomainDetails:function(){this.domain=localStorage.getItem("domain"),this.realm=localStorage.getItem("realm"),this.basedn=localStorage.getItem("basedn")},setObjectClassToArray:function(){this.usercopy.objectClass&&""!=this.usercopy.objectClass&&("string"===typeof this.usercopy.objectClass||this.usercopy.objectClass instanceof String)&&(this.usercopy.objectClass=this.usercopy.objectClass.replace(/'/g,'"'),this.usercopy.objectClass=JSON.parse(this.usercopy.objectClass))},removeObjectClassFromArray:function(e){this.usercopy.objectClass.includes(e)&&Array.isArray(this.usercopy.objectClass)&&(this.usercopy.objectClass=this.usercopy.objectClass.filter((function(t){return t!==e}))),this.addObjectClass=e},addObjectClassToArray:function(){!this.usercopy.objectClass.includes(this.addObjectClass)&&this.addObjectClass&&this.usercopy.objectClass.push(this.addObjectClass),this.addObjectClass=""},onClickPermission:function(e){1==this.editFlag&&(this.permissions[e].value=!this.permissions[e].value)},goBackToDetails:function(){this.tab=0,this.changingPerms=!1,this.changingGroups=!1},setPermissions:function(){for(var e=this,t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],1),a=s[0];this.permissions[a].value=!1}void 0!=this.usercopy["permission_list"]&&this.usercopy["permission_list"].forEach((function(t){e.permissions[t].value=!0}))},goToPerms:function(){this.tab=1,this.changingPerms=!0,this.changingGroups=!1},goToGroups:function(){this.tab=2,this.changingPerms=!1,this.changingGroups=!0},expirePwd:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.extraListOpen=!1,e.usercopy.pwdLastSet=0,t.next=4,e.saveUser();case 4:case"end":return t.stop()}}),t)})))()},disableUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.extraListOpen=!1,t.next=3,e.usercopy.disable(e.usercopy.username).then((function(){e.refreshUser(),Ti.$emit("createNotification",{message:(e.$t("classes.user.single")+" "+e.$t("words.disabled")).toUpperCase(),type:"warning"})})).catch((function(t){console.log(t),Ti.$emit("createNotification",{message:e.getMessageForCode(t),type:"error"})}));case 3:case"end":return t.stop()}}),t)})))()},enableUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.extraListOpen=!1,t.next=3,e.usercopy.enable(e.usercopy.username).then((function(){e.refreshUser(),Ti.$emit("createNotification",{message:(e.$t("classes.user.single")+" "+e.$t("words.enabled")).toUpperCase(),type:"success"})})).catch((function(t){console.log(t),Ti.$emit("createNotification",{message:e.getMessageForCode(t),type:"error"})}));case 3:case"end":return t.stop()}}),t)})))()},editUser:function(){var e=this;this.showAlert=!1,this.$emit("editToggle",!0),setTimeout((function(){e.showAlert=!0}),500)},viewUser:function(){var e=this;this.showAlert=!1,this.$emit("editToggle",!1),this.refreshUser(),setTimeout((function(){e.showAlert=!0}),500)},closeDialog:function(){this.$emit("closeDialog",this.viewKey)},saveUser:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a,o,i,n;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(s=e.length>0&&void 0!==e[0]&&e[0],t.loading=!0,t.loadingColor="primary",t.usercopy.permission_list=[],a=0,o=Object.entries(t.permissions);a<o.length;a++)i=(0,ke.Z)(o[a],1),n=i[0],1==t.permissions[n].value&&t.usercopy.permission_list.push(n);if(t.groupsToAdd.length>0?t.usercopy.groupsToAdd=t.groupsToAdd:delete t.usercopy.groupsToAdd,t.groupsToRemove.length>0?t.usercopy.groupsToRemove=t.groupsToRemove:delete t.usercopy.groupsToRemove,!t.$refs.userForm.validate()){r.next=12;break}return r.next=10,new ye({}).update({user:t.usercopy}).then((function(){1==s?t.closeDialog():t.refreshUser(),t.$emit("save",t.viewKey,t.usercopy),t.loading=!1,t.loadingColor="primary"})).catch((function(e){if(console.log(e),e.response.data.code)switch(e.response.data.code){case"user_permission_malformed":t.errorMsg=t.$t("error.codes.users.permissionMalformed");break;case"user_update_error":t.errorMsg=t.$t("error.codes.users.couldNotSave");break;case"user_country_error":t.errorMsg=t.$t("error.codes.users.countryMalformed");break;default:t.errorMsg=t.$t("error.unknown_short");break}else t.errorMsg=t.$t("error.unknown_short");t.loading=!1,t.loadingColor="error",t.error=!0}));case 10:r.next=15;break;case 12:t.loading=!1,t.loadingColor="error",t.error=!0;case 15:case"end":return r.stop()}}),r)})))()},isLoggedInUser:function(e){return e==localStorage.getItem("username")},setUserGroups:function(){this.groupsToRemove=[],this.groupsToAdd=[]},syncUser:function(){var e=this;this.showAlert=!0,this.tab=0,this.changingPerms=!1,this.changingGroups=!1,this.excludeGroups=[],this.getDomainDetails(),this.usercopy=new ye({}),this.extraListOpen=!1,this.$nextTick((function(){e.usercopy=e.user,e.setUserGroups(),e.setObjectClassToArray(),e.setupExclude(),0==e.usercopy.lastLogon&&(e.usercopy.lastLogon=e.$t("section.users.userDialog.noLastLogon")),e.setPermissions(),e.loading=!1,e.loadingColor="primary"}))},refreshUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$emit("refreshUser",e.user),e.setupExclude(),e.loading=!1,e.loadingColor="primary";case 5:case"end":return t.stop()}}),t)})))()}}},er=Jt,tr=r(9511),rr=r(7336),sr=r(2805),ar=r(1152),or=r(7032),ir=r(4350),nr=r(9330),lr=r(6392),cr=r.n(lr),dr=r(6286),ur=(0,l.Z)(er,Vt,jt,!1,null,"f8a52c00",null),pr=ur.exports;d()(ur,{VAlert:Zt.Z,VAutocomplete:tr.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCheckbox:We.Z,VChip:Ke.Z,VCol:Pe.Z,VDialog:rr.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VFabTransition:Re.b0,VFadeTransition:Re.Z5,VForm:tt.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VListItemGroup:sr.Z,VListItemIcon:xt.Z,VListItemSubtitle:ot.oZ,VListItemTitle:ot.V9,VMenu:ar.Z,VProgressCircular:it.Z,VRow:Ee.Z,VSelect:or.Z,VSlideXReverseTransition:Re.Zy,VTabItem:Ot.Z,VTabs:Et.Z,VTextField:pt.Z,VTextarea:ir.Z,VTooltip:nr.Z}),cr()(ur,{Ripple:dr.Z});var mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-progress-linear",{attrs:{color:1==e.error?"red":"primary",indeterminate:e.loading}}),r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.title"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0"},[r("v-form",{ref:"userResetPasswordForm",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"pa-0 ma-0 mt-8 mb-4 text-uppercase font-weight-normal text-inverted",staticStyle:{"font-size":"medium !important"},attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.changePasswordForUser")+" ")+" ")]),r("v-row",{staticClass:"pa-0 ma-0 mt-4 mb-5 text-uppercase font-weight-bold text-inverted",staticStyle:{"font-size":"large !important"},attrs:{justify:"center"}},[e._v(" "+e._s(e.userObject.givenName&&e.userObject.sn?e.userObject.givenName+" "+e.userObject.sn+" ("+e.userObject.username+")":e.userObject.username)+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"10",lg:"4"}},[r("v-text-field",{attrs:{type:e.passwordHidden?"password":"text",required:"","append-icon":e.passwordHidden?"mdi-eye":"mdi-eye-off",dense:"",label:e.$t("ldap.attributes.password"),rules:[this.fieldRules(e.user.password,"ge_password",!0)]},on:{"click:append":function(){return e.passwordHidden=!e.passwordHidden},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0,e.user)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("v-col",{attrs:{cols:"10",lg:"4"}},[r("v-text-field",{attrs:{type:e.passwordHidden?"password":"text",dense:"",label:e.$t("ldap.attributes.passwordConfirm"),rules:[e.user.passwordConfirm==e.user.password||this.$t("error.validation.passwordNotSame")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0,e.user)}},model:{value:e.user.passwordConfirm,callback:function(t){e.$set(e.user,"passwordConfirm",t)},expression:"user.passwordConfirm"}})],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 pt-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0 pb-3",attrs:{cols:"12"}},[r("h3",[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.complexity.title"))+" ")])]),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("ul",[r("li",[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.complexity.letters"))+" ")]),r("li",[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.complexity.numbers"))+" ")]),r("li",[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.complexity.symbols"))+" ")]),r("li",[e._v(" "+e._s(e.$t("section.users.resetPasswordDialog.complexity.dontMatchUser"))+" ")])])])],1)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1",attrs:{color:"primary",rounded:""},on:{click:function(t){return e.closeDialog(!0,e.user)}}},[r("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v(" mdi-account-key ")]),r("span",{staticClass:"pr-1 text-white"},[e._v(" "+e._s(e.$t("actions.changePassword"))+" ")])],1)],1)],1)],1)},vr=[],gr={name:"confirmDialog",mixins:[Fe,Me.Z],data:function(){return{passwordHidden:!0,loading:!1,error:!1,errorMsg:"",user:{password:"",passwordConfirm:""}}},props:{userObject:Object,isEndUser:{type:Boolean,default:!1},viewKey:String},created:function(){},methods:{clearUser:function(){this.loading=!1,this.error=!1,this.errorMsg=!1,this.user={password:"",passwordConfirm:""},this.$refs.userResetPasswordForm.resetValidation()},closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],a=e.length>1&&void 0!==e[1]?e[1]:{},1!=s&&t.$emit("closeDialog",t.viewKey),a.distinguishedName=t.userObject.distinguishedName,a.username=t.userObject.username,!0!==t.isEndUser){r.next=12;break}if(1!=s||!t.$refs.userResetPasswordForm.validate()){r.next=10;break}return t.loading=!0,r.next=10,new ye({}).changePasswordSelf(a).then((function(e){setTimeout((function(){t.loading=!1}),100),t.error=!1,t.errorMsg="",e.data.username==a.username&&Ti.$emit("createNotification",{message:t.$t("section.logs.extras.changed_password"),type:"success"}),t.$emit("closeDialog",t.viewKey)})).catch((function(e){setTimeout((function(){t.loading=!1}),100),t.error=!0,t.errorMsg=t.getMessageForCode(e).toUpperCase(),Ti.$emit("createNotification",{message:t.errorMsg,type:"error"})}));case 10:r.next=16;break;case 12:if(1!=s||!t.$refs.userResetPasswordForm.validate()){r.next=16;break}return t.loading=!0,r.next=16,new ye({}).changePassword(a).then((function(e){setTimeout((function(){t.loading=!1}),100),t.error=!1,t.errorMsg="",e.data.username==a.username&&Ti.$emit("createNotification",{message:t.$t("section.logs.extras.changed_password"),type:"success"}),t.$emit("closeDialog",t.viewKey,!0)})).catch((function(e){setTimeout((function(){t.loading=!1}),100),t.error=!0,t.errorMsg=t.getResponseErrorCode(e),"unwillingtoperform"==t.errorMsg.toLowerCase()?t.errorMsg=t.getMessageForCode(t.errorMsg+"Pwd").toUpperCase():t.errorMsg=t.getMessageForCode(t.errorMsg).toUpperCase(),Ti.$emit("createNotification",{message:t.errorMsg,type:"error"})}));case 16:case"end":return r.stop()}}),r)})))()}}},hr=gr,fr=(0,l.Z)(hr,mr,vr,!1,null,null,null),br=fr.exports;d()(fr,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCol:Pe.Z,VDivider:Ye.Z,VForm:tt.Z,VIcon:$e.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTextField:pt.Z});var _r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card-text",{staticClass:"my-3 py-4"},[r("v-row",{staticClass:"mb-2",attrs:{"align-content":"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"8"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.perms"))+" ")]),r("v-list",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:e.$vuetify.breakpoint.mdAndUp?"start":"center"}},e._l(e.permissions,(function(t,s){return r("v-list-item",{key:s,attrs:{disabled:e.disabled_permissions.includes(s),"two-line":"",value:e.permissions[s].value},on:{click:function(t){return e.onClickPermission(s)}}},[r("v-list-item-content",{staticClass:"pl-10"},[r("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.$t("section.users.permissions."+s))+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s(s)+" ")])],1),r("v-list-item-action",[r("v-checkbox",{attrs:{disabled:!e.editFlag},on:{click:function(t){return e.onClickPermission(s)}},model:{value:e.permissions[s].value,callback:function(t){e.$set(e.permissions[s],"value",t)},expression:"permissions[key].value"}})],1)],1)})),1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.users.permsRaw"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("a",{staticClass:"text-white",attrs:{href:"https://docs.microsoft.com/en-US/troubleshoot/windows-server/identity/useraccountcontrol-manipulate-account-properties",target:"_blank"}},[r("v-alert",{attrs:{type:"info"}},[e._v(" "+e._s(e.$t("section.users.permsRawHint"))+" ")])],1)]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{"hide-details":"",label:e.$t("section.users.permsOutputArray"),outlined:"",readonly:"","auto-grow":""},model:{value:e.getEnabledPerms,callback:function(t){e.getEnabledPerms=t},expression:"getEnabledPerms"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"hide-details":"",label:e.$t("section.users.permsCalc"),outlined:"",readonly:""},model:{value:e.calcEnabledPerms,callback:function(t){e.calcEnabledPerms=t},expression:"calcEnabledPerms"}})],1)],1)],1)],1)],1)],1)},yr=[],Cr=JSON.parse('{"J":["LDAP_UF_LOCKOUT","LDAP_UF_PASSWORD_EXPIRED"],"m":{"LDAP_UF_SCRIPT":{"value":false,"int":1},"LDAP_UF_ACCOUNT_DISABLE":{"value":false,"int":2},"LDAP_UF_HOMEDIR_REQUIRED":{"value":false,"int":8},"LDAP_UF_LOCKOUT":{"value":false,"int":16},"LDAP_UF_PASSWD_NOTREQD":{"value":false,"int":32},"LDAP_UF_PASSWD_CANT_CHANGE":{"value":false,"int":64},"LDAP_UF_ENCRYPTED_TEXT_PASSWORD_ALLOWED":{"value":false,"int":128},"LDAP_UF_NORMAL_ACCOUNT":{"value":false,"int":512},"LDAP_UF_INTERDOMAIN_TRUST_ACCOUNT":{"value":false,"int":2048},"LDAP_UF_WORKSTATION_TRUST_ACCOUNT":{"value":false,"int":4096},"LDAP_UF_SERVER_TRUST_ACCOUNT":{"value":false,"int":8192},"LDAP_UF_DONT_EXPIRE_PASSWD":{"value":false,"int":65536},"LDAP_UF_MNS_LOGON_ACCOUNT":{"value":false,"int":131072},"LDAP_UF_SMARTCARD_REQUIRED":{"value":false,"int":262144},"LDAP_UF_TRUSTED_FOR_DELEGATION":{"value":false,"int":524288},"LDAP_UF_NOT_DELEGATED":{"value":false,"int":1048576},"LDAP_UF_USE_DES_KEY_ONLY":{"value":false,"int":2097152},"LDAP_UF_DONT_REQUIRE_PREAUTH":{"value":false,"int":4194304},"LDAP_UF_PASSWORD_EXPIRED":{"value":false,"int":8388608},"LDAP_UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION":{"value":false,"int":16777216},"LDAP_UF_NO_AUTH_DATA_REQUIRED":{"value":false,"int":33554432},"LDAP_UF_PARTIAL_SECRETS_ACCOUNT":{"value":false,"int":67108864}}}'),wr={props:{editFlag:Boolean},data:function(){return{permissions:{},disabled_permissions:[]}},created:function(){this.init()},computed:{calcEnabledPerms:function(){for(var e=0,t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],1),a=s[0];1==this.permissions[a].value&&(e+=this.permissions[a].int)}return e},getEnabledPerms:function(){for(var e=[],t=0,r=Object.entries(this.permissions);t<r.length;t++){var s=(0,ke.Z)(r[t],1),a=s[0];1==this.permissions[a].value&&e.push(a)}return e}},methods:{init:function(){this.permissions=Cr.m,this.disabled_permissions=Cr.J},onClickPermission:function(e){1==this.editFlag&&(this.permissions[e].value=!this.permissions[e].value)}}},kr=wr,xr=(0,l.Z)(kr,_r,yr,!1,null,null,null),Dr=xr.exports;d()(xr,{VAlert:Zt.Z,VCard:qe.Z,VCardText:ze.ZB,VCheckbox:We.Z,VCol:Pe.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VListItemSubtitle:ot.oZ,VListItemTitle:ot.V9,VRow:Ee.Z,VTextField:pt.Z,VTextarea:ir.Z});var Tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.users.deleteUser.title"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0"},[r("v-row",{staticClass:"pa-0 ma-8 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e._v(" "+e._s(e.multipleUsers?"":e.$t("section.users.deleteUser.message"))+" "),e.multipleUsers?e.multipleUsers?r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s(e.$t("section.users.deleteUser.mass")+"?")+" ")]):e._e():r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s((e.userObject.givenName&&e.userObject.sn?e.userObject.givenName+" "+e.userObject.sn+" ("+e.userObject.username+")":e.userObject.username)+"?")+" ")])])],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)},click:function(t){return e.closeDialog(!0)}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),r("span",{staticClass:"pr-1 text-normal"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-normal"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{color:"red"}},[e._v(" mdi-close-circle-outline ")])],1)],1)],1)],1)},Sr=[],Ar={name:"confirmDialog",props:{userObject:Object,userMassDeleteArray:Array,viewKey:String,massDelete:Boolean},created:function(){},computed:{multipleUsers:function(){return this.userMassDeleteArray.length>0}},methods:{closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],a=e.length>1&&void 0!==e[1]?e[1]:{},t.multipleUsers||a!={}&&(a.distinguishedName=t.userObject.distinguishedName,a.username=t.userObject.username),1!=s){r.next=14;break}if(!t.multipleUsers){r.next=9;break}return r.next=7,new ye({}).bulkDelete(t.userMassDeleteArray).then((function(){})).catch((function(e){console.log(e)}));case 7:r.next=11;break;case 9:return r.next=11,new ye({}).delete(a).then((function(e){e.data.username==a.username&&console.log("User Deleted Successfully")})).catch((function(e){console.log(e)}));case 11:t.$emit("closeDialog",t.viewKey,!0),r.next=15;break;case 14:t.$emit("closeDialog",t.viewKey);case 15:case"end":return r.stop()}}),r)})))()}}},Zr=Ar,Pr=(0,l.Z)(Zr,Tr,Sr,!1,null,null,null),Rr=Pr.exports;d()(Pr,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z});var $r={mixins:[Fe,Me.Z],components:{UserCreate:vt,UserImport:It,UserDialog:pr,UserResetPassword:br,UserPermissionList:Dr,UserDelete:Rr},data:function(){return{tableData:{headers:[],items:[],selected:[]},searchString:"",loading:!1,fetchingData:!1,error:!1,errorMsg:"",editableForm:!1,data:{selectedUser:{username:"",distinguishedName:""},userdata:{}},dialogs:{userDialog:!1,userImport:!1,userDelete:!1,userResetPassword:!1,userCreate:!1,bulkUserPermissions:!1}}},created:function(){this.listUserItems()},computed:{actionButtonsDisabled:function(){return this.loading||this.tableData.selected.length<1}},props:{viewTitle:String,snackbarTimeout:Number},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},resetSearch:function(){this.searchString=""},goToGroup:function(e){this.$emit("goToGroup",e),this.closeDialog("userDialog")},openDialog:function(e){switch(this.dialogs[e]=!0,e){case"userDialog":void 0!=this.$refs.UserDialog&&this.$refs.UserDialog.goBackToDetails();break;case"userCreate":void 0!=this.$refs.UserCreate&&this.$refs.UserCreate.newUser();break;case"userResetPassword":void 0!=this.$refs.UserResetPassword&&this.$refs.UserResetPassword.clearUser();break;case"userImport":void 0!=this.$refs.UserImport&&this.$refs.UserImport.clearData();break;case"bulkUserPermissions":void 0!=this.$refs.BulkUserPermissions&&this.$refs.BulkUserPermissions.init();break;default:break}},closeDialog:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a,o;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=t.length>1&&void 0!==t[1]&&t[1],r.dialogs[e]=!1,!a){s.next=19;break}s.t0=e,s.next="userResetPassword"===s.t0?6:"userImport"===s.t0?9:"userDelete"===s.t0?12:15;break;case 6:return o=!1,r.createSnackbar({message:r.$t("actions.passwordChanged").toUpperCase(),type:"success"}),s.abrupt("break",17);case 9:return o=!1,r.createSnackbar({message:r.$t("section.users.import.bulkImportSuccess").toUpperCase(),type:"success"}),s.abrupt("break",17);case 12:return o=!1,r.createSnackbar({message:r.$t("section.users.deleteUser.success").toUpperCase(),type:"info"}),s.abrupt("break",17);case 15:return o=!0,s.abrupt("break",17);case 17:return s.next=19,r.listUserItems(o);case 19:case"end":return s.stop()}}),s)})))()},setViewToEdit:function(e){this.editableForm=e},reloadDataTableHeaders:function(){var e=this;this.tableData.headers.forEach((function(t){"actions"==t.value?t.text=e.$t("actions.label"):t.text=e.$t("ldap.attributes."+t.value)}))},resetDataTable:function(){this.tableData.headers=[],this.tableData.items=[]},listUserItems:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=!(e.length>0&&void 0!==e[0])||e[0],t.loading=!0,t.error=!1,t.tableData.headers=[],t.tableData.items=[],t.tableData.selected=[],r.next=8,new ye({}).list().then((function(e){var r=e.headers,a=e.users;t.resetDataTable();var o={};r.forEach((function(e){o={},o.text=t.$t("ldap.attributes."+e),o.value=e,"is_enabled"==e&&(o.align="center",o.sortable=!1),t.tableData.headers.push(o)})),o={},o.text=t.$t("actions.label"),o.value="actions",o.align="center",o.sortable=!1,t.tableData.headers.push(o),t.tableData.items=a;for(var i=0;i<t.tableData.items.length;i++){var n=t.tableData.items[i];if(n.username==localStorage.getItem("username")){t.tableData.items[i]["isSelectable"]=!1;break}}t.loading=!1,t.error=!1,1==s&&t.createSnackbar({message:(t.$t("classes.user.plural")+" "+t.$t("words.loaded.plural.m")).toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.createSnackbar({message:t.getMessageForCode(e),type:"error"})}));case 8:case"end":return r.stop()}}),r)})))()},unlockUser:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,new ye({}).unlock(e.username).then((function(){t.loading=!1,t.error=!1,t.createSnackbar({message:t.$t("section.users.userUnlocked").toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.createSnackbar({message:t.$t("section.users.errorUserUnlock").toUpperCase(),type:"error"})}));case 2:case"end":return r.stop()}}),r)})))()},isLoggedInUser:function(e){return e==localStorage.getItem("username")},changeUserPassword:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.data.selectedUser={},t.data.selectedUser=e,t.openDialog("userResetPassword");case 3:case"end":return r.stop()}}),r)})))()},openDeleteDialog:function(e){this.data.selectedUser={},e&&(this.tableData.selected=[],this.data.selectedUser=e),(this.data.selectedUser||this.tableData.selected.length>0)&&this.openDialog("userDelete")},enableUser:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,t.error=!1,t.errorMsg=!1,t.data.selectedUser={},t.data.selectedUser=e,r.next=7,new ye({});case 7:return t.data.userdata=r.sent,r.next=10,t.data.userdata.enable(t.data.selectedUser.username).then((function(){t.loading=!1,t.error=!1,t.errorMsg=!1,t.listUserItems(!1),Ti.$emit("createNotification",{message:(t.$t("classes.user.single")+" "+t.$t("words.enabled")).toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e)}));case 10:case"end":return r.stop()}}),r)})))()},disableUser:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading=!0,t.error=!1,t.errorMsg=!1,t.data.selectedUser={},t.data.selectedUser=e,localStorage.getItem("username")!=t.data.selectedUser.username){r.next=9;break}t.openDialog("userAntilockout"),r.next=14;break;case 9:return r.next=11,new ye({});case 11:return t.data.userdata=r.sent,r.next=14,t.data.userdata.disable(t.data.selectedUser.username).then((function(){t.loading=!1,t.error=!1,t.errorMsg=!1,t.listUserItems(!1),Ti.$emit("createNotification",{message:(t.$t("classes.user.single")+" "+t.$t("words.disabled")).toUpperCase(),type:"warning"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e)}));case 14:case"end":return r.stop()}}),r)})))()},refreshUser:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.fetchUser(e,t.editableForm,!1);case 2:t.$refs.UserDialog.syncUser();case 3:case"end":return r.stop()}}),r)})))()},massAccountStatusChange:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a,o;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading=!0,t.error=!1,t.errorMsg=!1,s=localStorage.getItem("username"),a=e?t.$t("words.disabled"):t.$t("words.enabled"),o=e?"warning":"success",!t.tableData.selected.find((function(e){return e==s}))){r.next=10;break}t.openDialog("userAntilockout"),r.next=12;break;case 10:return r.next=12,new ye({}).bulkAccountStatusChange({disable:e,users:t.tableData.selected}).then((function(){t.loading=!1,t.error=!1,t.errorMsg=!1,t.listUserItems(!1),Ti.$emit("createNotification",{message:(t.$t("classes.user.plural")+" "+a).toUpperCase(),type:o})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.listUserItems(!1)}));case 12:case"end":return r.stop()}}),r)})))()},massUnlock:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.error=!1,e.errorMsg=!1,t.next=5,new ye({}).bulkUnlock(e.tableData.selected).then((function(){e.loading=!1,e.error=!1,e.errorMsg=!1,e.listUserItems(!1),Ti.$emit("createNotification",{message:(e.$t("classes.user.plural")+" "+e.$t("words.unlocked.plural.n").toUpperCase()).toUpperCase(),icon:"mdi-lock-open",type:"info"})})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.errorMsg=e.getMessageForCode(t),e.listUserItems(!1)}));case 5:case"end":return t.stop()}}),t)})))()},openPermChangeDialog:function(){console.log("Permissions Change WIP")},userSaved:function(){this.listUserItems(!1),this.$refs.UserDialog.syncUser(),this.createSnackbar({message:(this.$t("classes.user.single")+" "+this.$t("words.saved.single.m")).toUpperCase(),type:"success"})},fetchUser:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a,o;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.length>1&&void 0!==t[1]&&t[1],o=!(t.length>2&&void 0!==t[2])||t[2],1==o&&(r.loading=!0),r.fetchingData=!0,r.data.selectedUser.username=e.username,r.data.selectedUser.distinguishedName=e.distinguishedName,r.data.userdata=new ye({}),s.next=9,r.data.userdata.fetch(r.data.selectedUser.username).then((function(){r.dialogs.userDialog||(r.openDialog("userDialog"),r.$refs.UserDialog.syncUser(),r.$refs.UserDialog.setupExclude()),r.editableForm=1==a,setTimeout((function(){r.loading=!1}),300),r.fetchingData=!1})).catch((function(e){if(console.log(e),e.response.data.code)switch(e.response.data.code){case"user_group_fetch_error":r.errorMsg=r.$t("error.codes.users.couldNotFetchGroups");break;default:r.errorMsg=r.$t("error.unknown_short");break}else r.errorMsg=r.$t("error.unknown_short");r.loading=!1,r.fetchingData=!1,r.error=!0}));case 9:case"end":return s.stop()}}),s)})))()}}},Or=$r,Er=(0,l.Z)(Or,S,A,!1,null,null,null),Ur=Er.exports;d()(Er,{VBtn:He.Z,VCard:qe.Z,VCardTitle:ze.EB,VDataTable:Pt.Z,VDialog:rr.Z,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z,VTextField:pt.Z,VTooltip:nr.Z});var Lr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"py-3 px-2 mt-2 mb-2",attrs:{headers:this.tableData.headers,items:this.tableData.items,"custom-sort":e.sortNullLast,loading:e.loading,search:e.searchString,"footer-props":{"items-per-page-options":[10,25,50,100,-1]},"sort-by":"cn"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",label:e.$t("actions.search")},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),r("v-row",{staticClass:"pa-0 px-4",staticStyle:{"max-width":"fit-content"},attrs:{justify:"end"}},[r("v-btn",{staticClass:"mx-2 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:e.listGroupItems},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{disabled:e.loading||e.readonly,color:"primary"},on:{click:function(t){return e.openDialog("groupCreate")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("classes.group.single"))+" ")],1)],1)],1)]},proxy:!0},{key:"item.groupType",fn:function(t){var s=t.item;return[r("div",{staticClass:"pt-2"},e._l(s.groupType,(function(t){return r("v-chip",{key:t,class:e.getColorForGroupType(t)["color"]+" text-"+e.getColorForGroupType(t)["text"]+" mx-1 mb-2"},[e._v(" "+e._s(e.$t("section.groups.types."+t))+" ")])})),1)]}},{key:"item.hasMembers",fn:function(t){var s=t.item;return[s.hasMembers?r("v-tooltip",{attrs:{color:"primary",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({staticClass:"clr-primary"},"v-icon",a,!1),s),[e._v(" mdi-account-multiple ")])]}}],null,!0)},[r("span",[e._v(e._s(e.$t("section.groups.isPopulated")))])]):s.hasMembers?e._e():r("v-tooltip",{attrs:{color:"secondary",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({staticStyle:{opacity:"0.35"}},"v-icon",a,!1),s),[e._v(" mdi-account-multiple ")])]}}],null,!0)},[r("span",[e._v(e._s(e.$t("section.groups.isNotPopulated")))])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading||e.readonly},on:{click:function(t){return e.fetchGroup(s,!1)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-eye ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.view")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",small:"",disabled:e.loading||e.readonly},on:{click:function(t){return e.fetchGroup(s,!0)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-pencil ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.edit")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.readonly&&!s.groupType.includes("GROUP_SYSTEM")&&!s.cn.startsWith("Domain "),expression:"!loading && !readonly && !item.groupType.includes('GROUP_SYSTEM') && !item.cn.startsWith('Domain ')"}],attrs:{icon:"",rounded:"",small:"",disabled:e.loading||e.readonly||s.groupType.includes("GROUP_SYSTEM")||s.cn.startsWith("Domain ")},on:{click:function(t){return e.openDeleteDialog(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"red"}},[e._v(" mdi-delete ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.delete")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("span",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.loading||e.readonly||s.groupType.includes("GROUP_SYSTEM")||s.cn.startsWith("Domain "),expression:"loading || readonly || item.groupType.includes('GROUP_SYSTEM') || item.cn.startsWith('Domain ')"}]},"span",o,!1),a),[r("v-btn",{attrs:{icon:"",rounded:"",small:"",disabled:""}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])],1)],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("section.groups.groupBuiltinCannotDelete")))])])]}}],null,!0)}),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["groupDialog"],callback:function(t){e.$set(e.dialogs,"groupDialog",t)},expression:"dialogs['groupDialog']"}},[r("GroupDialog",{ref:"GroupDialog",attrs:{group:e.data.groupdata,editFlag:this.editableForm,viewKey:"groupDialog",refreshLoading:e.loading,fetchingData:e.fetchingData},on:{closeDialog:e.closeDialog,save:e.groupSaved,editToggle:e.setViewToEdit,refreshGroup:e.refreshGroup}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["groupDelete"],callback:function(t){e.$set(e.dialogs,"groupDelete",t)},expression:"dialogs['groupDelete']"}},[r("GroupDelete",{ref:"GroupDelete",attrs:{groupObject:this.data.selectedGroup,viewKey:"groupDelete"},on:{closeDialog:e.closeDialog,refresh:e.listGroupItems}})],1),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["groupCreate"],callback:function(t){e.$set(e.dialogs,"groupCreate",t)},expression:"dialogs['groupCreate']"}},[r("GroupCreate",{ref:"GroupCreate",attrs:{viewKey:"groupCreate"},on:{closeDialog:e.closeDialog}})],1)],1)},Nr=[],Ir=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"cn",void 0),(0,E.Z)((0,R.Z)(s),"displayName",void 0),(0,E.Z)((0,R.Z)(s),"mail",void 0),(0,E.Z)((0,R.Z)(s),"member",void 0),(0,E.Z)((0,R.Z)(s),"distinguishedName",void 0),(0,E.Z)((0,R.Z)(s),"sAMAccountName",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("group/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetch",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){var r=this;return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("group/fetch",{group:t}).then((function(e){if(!e)throw Error("Error fetching user data. Provider returned: "+e);Object.keys(e.data).forEach((function(t){r[t]=e.data[t]}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"insert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("group/insert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("group/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("group/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),Vr=Ir,jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0",attrs:{loading:e.refreshLoading}},[r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.refreshLoading,expression:"!refreshLoading"}]},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("classes.group.single")+": "+e.groupcopy.cn)+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-expand-transition",[e.editFlag?r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-alert",{staticClass:"pa-0 ma-1 pa-4 pb-3 mt-3",attrs:{border:"top",type:"warning",icon:!1}},[r("v-icon",{staticClass:"mdso mr-2"},[e._v("warning")]),e._v(" "+e._s(e.$t("section.groups.editFlagWarning"))+" "),r("v-btn",{staticClass:"ma-0 pa-0 ml-2 pr-2 pl-1",attrs:{small:""},on:{click:e.viewGroup}},[r("v-icon",{attrs:{color:"orange"}},[e._v("mdi-chevron-left")]),e._v(" "+e._s(e.$t("actions.back"))+" ")],1)],1)],1):e._e()],1),r("v-card-text",{staticClass:"ma-0 pa-0 py-4 pb-2"},[r("v-form",{ref:"groupForm",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mx-2",attrs:{cols:"10",md:"5"}},[r("v-text-field",{attrs:{dense:"",id:"cn",label:e.$t("ldap.attributes.cn"),readonly:1!=e.editFlag&&!e.loading,rules:[this.fieldRules(e.groupcopy.cn,"ge_cn")]},model:{value:e.groupcopy.cn,callback:function(t){e.$set(e.groupcopy,"cn",t)},expression:"groupcopy.cn"}})],1),r("v-col",{staticClass:"ma-0 pa-0 mx-2",attrs:{cols:"10",md:"5"}},[r("v-text-field",{attrs:{dense:"",id:"mail",label:e.$t("ldap.attributes.mail"),readonly:1!=e.editFlag,rules:[this.fieldRules(e.groupcopy.mail,"ge_email")]},model:{value:e.groupcopy.mail,callback:function(t){e.$set(e.groupcopy,"mail",t)},expression:"groupcopy.mail"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mx-2",attrs:{cols:"10",md:"5"}},[r("v-text-field",{attrs:{dense:"",id:"objectRid",label:e.$t("ldap.attributes.objectRid"),readonly:""},model:{value:e.groupcopy.objectRid,callback:function(t){e.$set(e.groupcopy,"objectRid",t)},expression:"groupcopy.objectRid"}})],1),r("v-col",{staticClass:"ma-0 pa-0 mx-2",attrs:{cols:"10",md:"5"}},[r("v-text-field",{attrs:{dense:"",id:"objectSid",label:e.$t("ldap.attributes.objectSid"),readonly:""},model:{value:e.groupcopy.objectSid,callback:function(t){e.$set(e.groupcopy,"objectSid",t)},expression:"groupcopy.objectSid"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-2",attrs:{justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mx-2",attrs:{cols:"10",md:"5"}},[r("v-text-field",{attrs:{dense:"",id:"distinguishedName",label:e.$t("ldap.attributes.distinguishedName"),readonly:""},model:{value:e.groupcopy.distinguishedName,callback:function(t){e.$set(e.groupcopy,"distinguishedName",t)},expression:"groupcopy.distinguishedName"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-4 px-1",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mx-2 mb-2",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-0 px-3 py-1",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"ma-2"},[e._v(" "+e._s(e.$t("section.groups.groupDialog.groupType"))+" ")]),r("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{readonly:!e.editFlag,disabled:!e.editFlag},model:{value:e.radioGroupType,callback:function(t){e.radioGroupType=t},expression:"radioGroupType"}},e._l(e.groupTypes,(function(t,s){return r("v-radio",{key:s,attrs:{value:s,label:e.$t("section.groups.types."+t)}})})),1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0 mx-2 mb-2",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-0 px-3 py-1",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"ma-2"},[e._v(" "+e._s(e.$t("section.groups.groupDialog.groupScope"))+" ")]),r("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{readonly:!e.editFlag,disabled:!e.editFlag},model:{value:e.radioGroupScope,callback:function(t){e.radioGroupScope=t},expression:"radioGroupScope"}},e._l(e.groupScopes,(function(t,s){return r("v-radio",{key:s,attrs:{value:s,label:e.$t("section.groups.types."+t)}})})),1)],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 my-4",attrs:{justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"8"}},[r("v-btn",{staticClass:"pa-3",attrs:{rounded:"",text:"",color:"primary",outlined:"",disabled:!e.editFlag},on:{click:function(t){return e.openDialog("addToGroup")}}},[r("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("words.member"))+" ")],1)],1)],1),r("v-row"),e.showMemberTab?r("v-row",{staticClass:"ma-0 pa-0 my-4",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"10",md:"8"}},[r("v-expansion-panels",{style:e.memberPanelExpanded==[0]?"border: 1px solid var(--clr-primary);":"border: 1px solid hsl(var(--clr-white-hue),var(--clr-white-sat),var(--clr-lig-80));",attrs:{flat:""},model:{value:e.memberPanelExpanded,callback:function(t){e.memberPanelExpanded=t},expression:"memberPanelExpanded"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[e._v(" "+e._s(e.$t("section.groups.groupDialog.members"))+" ")]),r("v-expansion-panel-content",[r("v-list",{attrs:{dense:""}},e._l(this.groupcopy.member,(function(t,s){return r("v-list-item",{key:s,class:0!=s?"border-bottom":"border-block"},[r("v-list-item-icon",{},[e.isUserType(t.objectClass)?r("v-icon",[e._v(" mdi-account ")]):t.objectClass.includes("group")?r("v-icon",[e._v(" mdi-google-circles-communities ")]):r("v-icon",[e._v(" mdi-group ")])],1),r("v-list-item-content",[e.isUserType(t.objectClass)?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"pa-0 ma-0 px-1",attrs:{cols:"12"}},[r("span",{staticClass:"ma-0 pa-0"},[e._v(" "+e._s(e.$t("classes.user.single")+": "+(t.givenName&&t.sn?t.givenName+" "+t.sn+" ("+t.username+")":t.username))+" ")])])],1):t.objectClass.includes("group")?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"pa-0 ma-0 px-1",attrs:{cols:"12"}},[r("span",{staticClass:"ma-0 pa-0"},[e._v(" "+e._s(e.$t("classes.group.single")+": "+t.cn)+" ")])])],1):r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"pa-0 ma-0 px-1",attrs:{cols:"12"}},[e._v(" "+e._s(t.distinguishedName)+" ")])],1)],1),r("v-list-item-action",{staticClass:"pa-0 ma-0"},[r("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{small:"",icon:"",color:"primary"}},"v-btn",a,!1),s),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-help-circle ")])],1)]}}],null,!0)},[r("span",[e._v(" "+e._s(t.distinguishedName)+" ")])])],1),r("v-list-item-action",{staticClass:"pa-0 ma-0"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[r("v-btn",e._g(e._b({attrs:{small:"",icon:"",color:"primary"},on:{click:function(r){return e.copyText(t.distinguishedName)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-content-copy ")])],1)]}}],null,!0)},[r("span",[e._v(" "+e._s(e.$t("section.groups.groupDialog.copyDistinguishedName"))+" ")])])],1),r("v-list-item-action",{staticClass:"pa-0 ma-0"},[r("v-tooltip",{attrs:{bottom:"",color:"red"},scopedSlots:e._u([{key:"activator",fn:function(s){var a=s.on,o=s.attrs;return[r("v-btn",e._g(e._b({attrs:{small:"",icon:"",color:"red",disabled:!e.editFlag},on:{click:function(r){return e.removeMember(t.distinguishedName,e.groupcopy.member)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:""}},[e._v(" mdi-close ")])],1)]}}],null,!0)},[r("span",[e._v(" "+e._s(e.$t("actions.remove"))+" ")])])],1)],1)})),1)],1)],1)],1)],1)],1):e._e()],1)],1)],1)]),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:this.$vuetify.breakpoint.smAndDown?"space-around":"end"}},[1!=e.editFlag?r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.editGroup}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-pencil ")]),e._v(" "+e._s(e.$t("actions.edit"))+" ")],1):e._e(),1==e.editFlag?r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.viewGroup}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-eye ")]),e._v(" "+e._s(e.$t("actions.view"))+" ")],1):e._e(),r("v-btn",{class:(e.editFlag?"text-normal ":"")+"ma-0 pa-0 pa-4 ma-1 bg-white bg-lig-25",attrs:{rounded:"",disabled:!e.editFlag},on:{click:e.saveGroup}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-content-save ")]),e._v(" "+e._s(e.$t("actions.save"))+" ")],1),r("v-btn",{class:(e.editFlag?"text-normal ":"")+"ma-0 pa-0 pa-4 ma-1 bg-white bg-lig-25",attrs:{rounded:"",disabled:!e.editFlag},on:{click:function(t){return e.saveGroup(!0)}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-exit-to-app ")]),e._v(" "+e._s(e.$t("actions.saveClose"))+" ")],1),r("v-progress-circular",{staticClass:"pa-0 ma-0",attrs:{color:e.loadingColor,value:"100",indeterminate:e.loading||e.fetchingData,size:"38",width:"7"}},[r("v-btn",{staticClass:"ma-1 bg-primary",attrs:{small:"",color:"white",icon:"",disabled:e.loading||e.fetchingData,elevation:"0",loading:e.refreshLoading},on:{click:e.refreshGroup},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1)],1)],1)],1),r("v-dialog",{attrs:{eager:"","max-width":"1200px"},model:{value:e.dialogs["addToGroup"],callback:function(t){e.$set(e.dialogs,"addToGroup",t)},expression:"dialogs['addToGroup']"}},[r("CNObjectList",{ref:"AddToGroup",attrs:{viewKey:"addToGroup",excludeDNs:e.excludeDNs},on:{addDNs:e.addMembers,closeDialog:e.closeInnerDialog}})],1)],1)},Fr=[],Mr={components:{CNObjectList:Xt},data:function(){return{userClasses:["user","person","organizationalPerson","organizationalperson"],loading:!1,loadingColor:"accent",domain:"",realm:"",basedn:"",showMemberTab:!1,groupcopy:{},excludeDNs:[],memberPanelExpanded:0,membersToAdd:[],membersToRemove:[],groupTypes:["GROUP_DISTRIBUTION","GROUP_SECURITY"],groupScopes:["GROUP_GLOBAL","GROUP_DOMAIN_LOCAL","GROUP_UNIVERSAL"],radioGroupType:0,radioGroupScope:0,dialogs:{addToGroup:!1}}},mixins:[Fe],created:function(){this.syncGroup()},watch:{dialogs:{handler:function(e){e["addToGroup"]&&0!=e["addToGroup"]||this.$refs.AddToGroup.clearList()},deep:!0}},props:{viewKey:String,editFlag:Boolean,group:Object,fetchingData:Boolean,refreshLoading:Boolean},methods:{copyText:function(e){navigator.clipboard.writeText(e)},getMembersLength:function(){void 0!=this.groupcopy.member&&(0!=this.groupcopy.member.length&&this.groupcopy.member?this.showMemberTab=!0:this.showMemberTab=!1)},setupExclude:function(){var e=this;this.excludeDNs=[],this.excludeDNs.includes(this.groupcopy.distinguishedName)||this.excludeDNs.push(this.groupcopy.distinguishedName),void 0!=this.groupcopy.member&&this.groupcopy.member.length>0&&this.groupcopy.member.forEach((function(t){e.excludeDNs.push(t.distinguishedName)})),void 0!=this.membersToAdd&&this.membersToAdd.length>0&&this.membersToAdd.forEach((function(t){e.excludeDNs.includes(t)||e.excludeDNs.push(t)}))},openDialog:function(e){switch(this.dialogs[e]=!0,e){case"addToGroup":this.setupExclude(),this.$refs.AddToGroup.fetchLists(this.excludeDNs);break;default:break}},closeDialog:function(){this.$emit("closeDialog",this.viewKey)},closeInnerDialog:function(e){this.dialogs[e]=!1},addMembers:function(e){var t=this;this.membersToAdd=e.map((function(e){return e.distinguishedName})),this.groupcopy.member||(this.groupcopy.member=[]),e.forEach((function(e){0==t.groupcopy.member.filter((function(t){return t.distinguishedName==e.distinguishedName})).length&&t.groupcopy.member.push(e),void 0!=t.membersToRemove&&(t.membersToRemove=t.membersToRemove.filter((function(t){return t!=e.distinguishedName})))})),this.closeInnerDialog("addToGroup"),this.showMemberTab=!0,this.setupExclude(),this.$forceUpdate},removeMember:function(e){void 0==!this.membersToRemove||this.membersToRemove.includes(e)||this.membersToRemove.push(e),void 0!=this.membersToAdd&&this.membersToAdd.includes(e)&&(this.membersToAdd=this.membersToAdd.filter((function(t){return t!=e}))),void 0!=this.excludeDNs&&this.excludeDNs.includes(e)&&(this.excludeDNs=this.excludeDNs.filter((function(t){return t!=e}))),this.groupcopy.member=this.groupcopy.member.filter((function(t){return t.distinguishedName!=e})),void 0!=this.groupcopy.member&&0!=this.groupcopy.member.length||(this.showMemberTab=!1),this.setupExclude(),this.$forceUpdate},logGroups:function(){console.log("Member Array"),console.log(this.groupcopy.member),console.log("Members to Add"),console.log(this.membersToAdd),console.log("Members to Remove"),console.log(this.membersToRemove),console.log("Exclude DNs"),console.log(this.excludeDNs)},checkIfGroupBuiltIn:function(){return!!this.group.groupType.includes("GROUP_SYSTEM")},addToArray:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=t.value;return r?this.$refs[r][0].validate()&&!s.includes(e)&&s&&e&&(s=s.push(e)):!s.includes(e)&&s&&e&&(s=s.push(e)),s},setGroupTypeAndScope:function(){var e=this;void 0!=this.group.groupType&&this.group.groupType.forEach((function(t){switch(t){case"GROUP_DISTRIBUTION":e.radioGroupType=0;break;case"GROUP_SECURITY":e.radioGroupType=1;break;case"GROUP_GLOBAL":e.radioGroupScope=0;break;case"GROUP_DOMAIN_LOCAL":e.radioGroupScope=1;break;case"GROUP_UNIVERSAL":e.radioGroupScope=2;break;default:break}}))},syncGroup:function(){var e=this;this.groupcopy=new Vr({}),this.membersToRemove=[],this.membersToAdd=[],this.excludeDNs=[],this.showMemberTab=!1,this.$nextTick((function(){e.groupcopy=e.group,e.setGroupTypeAndScope(),e.getMembersLength(),e.setupExclude(),e.loading=!1,e.loadingColor="primary"}))},isUserType:function(e){var t=this,r=!1;return e.forEach((function(e){t.userClasses.includes(e)&&(r=!0)})),r},refreshGroup:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$emit("refreshGroup",e.group),e.setupExclude(),e.loading=!1,e.loadingColor="primary";case 5:case"end":return t.stop()}}),t)})))()},saveGroup:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],t.loading=!0,t.loadingColor="primary",t.groupcopy.groupType=t.radioGroupType,t.groupcopy.groupScope=t.radioGroupScope,t.membersToAdd.length>0?t.groupcopy.membersToAdd=t.membersToAdd:delete t.groupcopy.membersToAdd,t.membersToRemove.length>0?t.groupcopy.membersToRemove=t.membersToRemove:delete t.groupcopy.membersToRemove,!t.$refs.groupForm.validate()){r.next=12;break}return r.next=10,new Vr({}).update({group:t.groupcopy}).then((function(){1==s?t.closeDialog():t.refreshGroup(),t.$emit("save",t.viewKey,t.groupcopy),t.loading=!1,t.loadingColor="primary"})).catch((function(e){if(console.log(e),e.response.data.code)switch(e.response.data.code){default:t.errorMsg=t.$t("error.unknown_short");break}else t.errorMsg=t.$t("error.unknown_short");t.loading=!1,t.loadingColor="error",t.error=!0}));case 10:r.next=15;break;case 12:t.loading=!1,t.loadingColor="error",t.error=!0;case 15:case"end":return r.stop()}}),r)})))()},editGroup:function(){this.$emit("editToggle",!0)},viewGroup:function(){this.$emit("editToggle",!1),this.refreshGroup()}}},Gr=Mr,Br=r(8978),Hr=r(4739),qr=(0,l.Z)(Gr,jr,Fr,!1,null,null,null),zr=qr.exports;d()(qr,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCol:Pe.Z,VDialog:rr.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VForm:tt.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VListItemIcon:xt.Z,VProgressCircular:it.Z,VRadio:Br.Z,VRadioGroup:Hr.Z,VRow:Ee.Z,VTextField:pt.Z,VTooltip:nr.Z});var Wr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s(e.$t("section.groups.groupCreate.header")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-expand-transition",[r("div",[r("v-stepper",{model:{value:e.createStage,callback:function(t){e.createStage=t},expression:"createStage"}},[r("v-stepper-header",{staticClass:"px-16"},[r("v-stepper-step",{attrs:{complete:e.createStage>1,step:"1"}},[e._v(e._s(e.$t("section.groups.groupCreate.step1")))]),r("v-divider",{staticClass:"mx-3",style:e.createStage>1?"border-color: var(--clr-primary) !important":""}),r("v-stepper-step",{attrs:{complete:e.createStage>2,step:"2"}},[e._v(e._s(e.$t("section.groups.groupCreate.step2")))]),r("v-divider",{staticClass:"mx-3",style:e.createStage>2?"border-color: var(--clr-primary) !important":""}),r("v-stepper-step",{attrs:{complete:e.createStage>3,step:"3"}},[e._v(e._s(e.$t("section.groups.groupCreate.step3")))])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-form",{ref:"groupCreateForm1",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"5"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.cn"),rules:[this.fieldRules(e.groupToCreate.cn,"ge_cn",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.groupToCreate.cn,callback:function(t){e.$set(e.groupToCreate,"cn",t)},expression:"groupToCreate.cn"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.groupDestination=e.basedn}}},[e._v(" "+e._s(e.$t("section.dirtree.move.setToRoot"))+" ")]),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",disabled:!e.allowRefresh,elevation:"0"},on:{click:function(t){return e.fetchOUs(!0)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[e._v(" "+e._s(e.$t("actions.refresh"))+" "),r("v-icon",[e._v(" mdi-refresh ")])],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("v-expansion-panels",{staticStyle:{border:"1px solid var(--clr-primary)"},attrs:{flat:"",hover:""},model:{value:e.groupPathExpansionPanel,callback:function(t){e.groupPathExpansionPanel=t},expression:"groupPathExpansionPanel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[r("span",[r("span",[e._v(" "+e._s(e.$t("section.groups.groupCreate.groupCreatedIn")+": ")+" ")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.groupDestination)+" ")])])]),r("v-expansion-panel-content",[r("v-card",{staticStyle:{"max-height":"300px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[r("DirtreeOUList",{ref:"DirtreeOUList",on:{selectedDestination:e.setDestination}})],1)],1)],1)],1)],1)],1),r("GroupTypeRadioGroups",{attrs:{editFlag:!0,radioGroupScope:e.radioGroupScope,radioGroupType:e.radioGroupType},on:{update:e.updateValue}}),r("v-row",{staticClass:"ma-0 pa-0"},[r("v-divider",{staticClass:"mx-12 my-3 mt-6"})],1),r("v-row",{staticClass:"mb-1",attrs:{justify:"center"}},[r("span",{staticClass:"text-overline",staticStyle:{"font-size":".95em !important"}},[e._v(e._s(e.$t("section.groups.groupCreate.optionalsHeader")))])]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.mail"),rules:[this.fieldRules(e.groupToCreate.mail,"ge_mail")]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.groupToCreate.mail,callback:function(t){e.$set(e.groupToCreate,"mail",t)},expression:"groupToCreate.mail"}})],1)],1)],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-form",{ref:"groupCreateForm2",on:{submit:function(e){e.preventDefault()}}},[r("CNObjectList",{ref:"AddToGroup",attrs:{showHeader:!1,addButton:!1},on:{addDNs:e.addMembers}})],1)],1),r("v-stepper-content",{attrs:{step:"3"}},[r("v-row",{staticClass:"pa-12 ma-12",attrs:{justify:"center","align-content":"center",align:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-fab-transition",[r("v-progress-circular",{attrs:{value:"100",color:!1===this.error?e.loading?"primary":"green":"red",indeterminate:e.loading,size:"100",width:"10"}},[r("v-fab-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loading,expression:"loading == false"}]},[1==e.error?r("v-icon",{attrs:{size:"82",color:"red"}},[e._v("mdi-close-circle")]):r("v-icon",{attrs:{size:"82",color:"green"}},[e._v("mdi-check-circle")])],1)])],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-slide-y-transition",[this.loading||0!=this.loading?e._e():r("v-col",[r("h3",[e._v(" "+e._s(this.error?this.errorMsg:e.$t("section.groups.groupCreate.step3_success"))+" ")])])],1)],1)],1)],1)],1)],1)],1)]),e.$vuetify.breakpoint.smAndDown?r("v-snackbar",{attrs:{text:"",color:"red",timeout:"1500",centered:""},model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[r("v-row",{attrs:{justify:"center"}},[e._v(" "+e._s(this.errorMsg)+" ")])],1):e._e(),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"space-around":"end"}},[r("div",[r("v-slide-x-reverse-transition",[this.error&&e.$vuetify.breakpoint.mdAndUp?r("v-chip",{staticClass:"mx-2",attrs:{color:"red","text-color":"white"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<2?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.newGroup}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-cached ")]),e._v(" "+e._s(e.$t("actions.reset"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[e.createStage>1&&e.createStage<3||1==this.error&&e.createStage>1?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 pr-4 ma-1 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.prevStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevStep.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-left ")]),e._v(" "+e._s(e.$t("actions.back_short"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<3?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pl-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.nextStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("actions.next"))+" "),r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-right ")])],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage>2&&!1===this.error?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:function(t){return e.closeDialog(!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),e._v(" "+e._s(e.$t("actions.done"))+" ")],1):e._e()],1)],1)])],1)],1)},Kr=[],Yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"ma-0 pa-0 mt-4 px-1",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mx-2 mb-2",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-0 px-3 py-1",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"ma-2"},[e._v(" "+e._s(e.$t("section.groups.groupDialog.groupType"))+" ")]),r("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{mandatory:"",readonly:!e.editFlag,disabled:!e.editFlag},on:{change:function(t){return e.emitValueUpdate("radioGroupScope",e.selectedRadioGroupType)}},model:{value:e.selectedRadioGroupType,callback:function(t){e.selectedRadioGroupType=t},expression:"selectedRadioGroupType"}},e._l(e.groupTypes,(function(t,s){return r("v-radio",{key:s,attrs:{value:s,label:e.$t("section.groups.types."+t)}})})),1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0 mx-2 mb-2",attrs:{cols:"12",md:"4"}},[r("v-card",{staticClass:"ma-1 pa-0 px-3 py-1",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"ma-2"},[e._v(" "+e._s(e.$t("section.groups.groupDialog.groupScope"))+" ")]),r("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{mandatory:"",readonly:!e.editFlag,disabled:!e.editFlag},on:{change:function(t){return e.emitValueUpdate("radioGroupScope",e.selectedRadioGroupScope)}},model:{value:e.selectedRadioGroupScope,callback:function(t){e.selectedRadioGroupScope=t},expression:"selectedRadioGroupScope"}},e._l(e.groupScopes,(function(t,s){return r("v-radio",{key:s,attrs:{value:s,label:e.$t("section.groups.types."+t)}})})),1)],1)],1)],1)},Qr=[],Xr={props:{editFlag:Boolean,radioGroupType:Number,radioGroupScope:Number},mounted:function(){this.selectedRadioGroupType=this.radioGroupType,this.selectedRadioGroupScope=this.radioGroupScope},data:function(){return{selectedRadioGroupType:0,selectedRadioGroupScope:0,groupTypes:["GROUP_DISTRIBUTION","GROUP_SECURITY"],groupScopes:["GROUP_GLOBAL","GROUP_DOMAIN_LOCAL","GROUP_UNIVERSAL"]}},methods:{reloadRadioValues:function(){this.selectedRadioGroupType=this.radioGroupType,this.selectedRadioGroupScope=this.radioGroupScope},emitValueUpdate:function(e,t){this.$emit("update",e,t)}}},Jr=Xr,es=(0,l.Z)(Jr,Yr,Qr,!1,null,null,null),ts=es.exports;d()(es,{VCard:qe.Z,VCol:Pe.Z,VRadio:Br.Z,VRadioGroup:Hr.Z,VRow:Ee.Z});var rs={name:"GroupCreate",components:{DirtreeOUList:Ne,CNObjectList:Xt,GroupTypeRadioGroups:ts},data:function(){return{allowRefresh:!0,passwordHidden:!0,domain:"",realm:"",basedn:"",membersToAdd:[],success:!1,loading:!0,error:!1,valid:!1,errorMsg:"",showSnackbar:!1,groupPathExpansionPanel:!1,groupDestination:"",groupToCreate:{},radioGroupScope:0,radioGroupType:1,ouList:[],createStage:1}},mixins:[Fe,Me.Z],props:{viewKey:String},created:function(){this.newGroup},computed:{},methods:{addMembers:function(e){var t=this;try{this.membersToAdd=e.map((function(e){return e.distinguishedName})),this.groupToCreate.member||(this.groupToCreate.member=[]),e.forEach((function(e){0==t.groupToCreate.member.filter((function(t){return t.distinguishedName==e.distinguishedName})).length&&t.groupToCreate.member.push(e)}))}catch(r){console.log(r),this.loading=!1,this.error=!0,this.success=!0,this.errorMsg=this.getMessageForCode(r)}},setDestination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&e?(this.groupDestination=e,this.groupPathExpansionPanel=!1):(this.groupDestination=this.basedn,this.groupPathExpansionPanel=0)},prevStep:function(){var e=this;switch(this.createStage){case 2:var t=be();this.groupToCreate.member=[],this.membersToAdd=[],this.domain=t.domain,this.realm=t.realm,this.basedn=t.basedn,this.createStage-=1;break;case 3:this.error=!1,this.errorMsg="",this.createStage-=1,setTimeout((function(){e.loading=!0}),500);break;default:this.createStage-=1;break}},nextStep:function(){var e=this;switch(this.createStage){case 1:this.$refs.groupCreateForm1.validate()?(this.error=!1,this.errorMsg="",this.$refs.AddToGroup.fetchLists(),this.createStage+=1):(1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("error.validation.fieldinvalid"));break;case 2:this.$refs.AddToGroup.addDNs(),this.error?(1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("section.groups.groupCreate.validationError")):(this.groupToCreate.groupType=this.radioGroupType,this.groupToCreate.groupScope=this.radioGroupScope,Object.keys(this.groupToCreate).forEach((function(t){void 0===e.groupToCreate[t]&&delete e.groupToCreate[t]})),this.membersToAdd.length>0&&(this.groupToCreate["membersToAdd"]=this.membersToAdd),this.createGroup());break;default:this.createStage+=1;break}},newGroup:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.passwordHidden=!0,e.groupPathExpansionPanel=!1,e.groupToCreate=new Vr({}),e.membersToAdd=[],e.createStage=1,e.error=!1,e.radioGroupScope=0,e.radioGroupType=1,e.errorMsg="",e.$refs.groupCreateForm1.resetValidation(),r=be(),e.domain=r.domain,e.realm=r.realm,e.basedn=r.basedn,e.fetchOUs(),e.groupDestination="CN=Users,"+e.basedn;case 16:case"end":return t.stop()}}),t)})))()},updateValue:function(e,t){this[e]=t},fetchOUs:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>0&&void 0!==e[0]&&e[0],1==s&&(t.groupPathExpansionPanel=0),void 0!=t.$refs.DirtreeOUList&&(t.allowRefresh=!1,t.$nextTick((function(){1!=s&&t.setDestination(),t.$refs.DirtreeOUList.fetchOUs(t.filter).then((function(){t.allowRefresh=!0}))})));case 3:case"end":return r.stop()}}),r)})))()},closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("closeDialog",this.viewKey,e)},createGroup:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=!1,e.errorMsg="",e.createStage+=1,e.groupToCreate.path=e.groupDestination,t.next=6,e.groupToCreate.insert({group:e.groupToCreate}).then((function(t){200==t.status?(e.error=!1,e.errorMsg="",setTimeout((function(){e.loading=!1}),450),e.success=!0):(e.error=!0,e.errorMsg=e.$t("error.unknown_short"),setTimeout((function(){e.loading=!1}),450),e.success=!1)})).catch((function(t){if(e.error=!0,setTimeout((function(){e.loading=!1}),450),t.response.data.code)switch(t.response.data.code){case"ldap_obj_exists":e.errorMsg=e.$t("error.codes.ldapObjectExists");break;default:e.errorMsg=e.$t("error.unknown_short");break}else e.errorMsg=e.$t("error.unknown_short")}));case 6:case"end":return t.stop()}}),t)})))()}}},ss=rs,as=(0,l.Z)(ss,Wr,Kr,!1,null,null,null),os=as.exports;d()(as,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VProgressCircular:it.Z,VRow:Ee.Z,VSlideXReverseTransition:Re.Zy,VSlideYTransition:Re.cu,VSnackbar:nt.Z,VStepper:lt.Z,VStepperContent:ct.Z,VStepperHeader:dt.Rp,VStepperItems:dt.gd,VStepperStep:ut.Z,VTextField:pt.Z});var is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.groups.deleteGroup.title"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0"},[r("v-row",{staticClass:"pa-0 ma-8 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.groups.deleteGroup.message"))+" "),r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s((e.groupObject.cn?e.groupObject.cn:e.groupObject.distinguishedName)+"?")+" ")])])],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)},click:function(t){return e.closeDialog(!0)}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),r("span",{staticClass:"pr-1 text-normal"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-normal"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{color:"red"}},[e._v(" mdi-close-circle-outline ")])],1)],1)],1)],1)},ns=[],ls={name:"confirmDialog",props:{groupObject:Object,viewKey:String},created:function(){},methods:{closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],a=e.length>1&&void 0!==e[1]?e[1]:{},a!={}&&(a.distinguishedName=t.groupObject.distinguishedName,a.cn=t.groupObject.cn),1!=s){r.next=6;break}return r.next=6,new Vr({}).delete({group:a}).then((function(e){e.data.groupname==a.groupname&&console.log("Group Deleted Successfully"),t.$emit("refresh")})).catch((function(e){console.log(e)}));case 6:t.$emit("closeDialog",t.viewKey);case 7:case"end":return r.stop()}}),r)})))()}}},cs=ls,ds=(0,l.Z)(cs,is,ns,!1,null,null,null),us=ds.exports;d()(ds,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z});var ps={mixins:[Fe,Me.Z],components:{GroupDialog:zr,GroupCreate:os,GroupDelete:us},data:function(){return{readonly:!1,fetchingData:!1,expandedRows:[],tableData:{headers:[],items:[]},searchString:"",loading:!1,error:!1,editableForm:!1,data:{selectedGroup:{cn:"",distinguishedName:""},groupdata:{}},dialogs:{groupDialog:!1,groupDelete:!1,groupCreate:!1}}},created:function(){this.listGroupItems()},props:{viewTitle:String,snackbarTimeout:Number},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},resetSearch:function(){this.searchString=""},openDialog:function(e){switch(this.dialogs[e]=!0,e){case"groupDialog":void 0!=this.$refs.GroupDialog&&this.$refs.GroupDialog.syncGroup(),this.$refs.GroupDialog.setupExclude();break;case"groupCreate":void 0!=this.$refs.GroupCreate&&this.$refs.GroupCreate.newGroup();break;default:break}},closeDialog:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.length>1&&void 0!==t[1]&&t[1],r.dialogs[e]=!1,a&&r.listGroupItems();case 3:case"end":return s.stop()}}),s)})))()},groupSaved:function(){this.listGroupItems(!1),this.createSnackbar({message:(this.$t("classes.group.single")+" "+this.$t("words.saved.single.m")).toUpperCase(),type:"success"})},setViewToEdit:function(e){this.editableForm=e},reloadDataTableHeaders:function(){var e=this;this.tableData.headers.forEach((function(t){"actions"==t.value?t.text=e.$t("actions.label"):t.text=e.$t("ldap.attributes."+t.value)}))},resetDataTable:function(){this.tableData.headers=[],this.tableData.items=[]},listGroupItems:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=!(e.length>0&&void 0!==e[0])||e[0],t.loading=!0,t.error=!1,t.tableData.headers=[],t.tableData.items=[],r.next=7,new Vr({}).list().then((function(e){var r=e.headers,a=e.groups;t.resetDataTable();var o={};r.forEach((function(e){o={},o.text=t.$t("ldap.attributes."+e),o.value=e,"hasMembers"==e&&(o.sortable=!1,o.align="center"),t.tableData.headers.push(o)})),o={},o.text=t.$t("actions.label"),o.value="actions",o.align="center",o.sortable=!1,t.tableData.headers.push(o),t.tableData.items=a,t.loading=!1,t.error=!1,1==s&&t.createSnackbar({message:(t.$t("classes.group.plural")+" "+t.$t("words.loaded.plural.m")).toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.createSnackbar({message:t.getMessageForCode(e),type:"error"})}));case 7:case"end":return r.stop()}}),r)})))()},openDeleteDialog:function(e){this.data.selectedGroup={},this.data.selectedGroup=e,this.openDialog("groupDelete")},refreshGroup:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.fetchGroup(e,t.editableForm,!1).then((function(){t.$refs.GroupDialog.syncGroup()}));case 2:case"end":return r.stop()}}),r)})))()},fetchGroup:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a,o;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.length>1&&void 0!==t[1]&&t[1],o=!(t.length>2&&void 0!==t[2])||t[2],1==o&&(r.loading=!0),r.fetchingData=!0,r.data.selectedGroup.cn=e.cn,r.data.selectedGroup.distinguishedName=e.distinguishedName,r.data.groupdata=new Vr({}),s.next=9,r.data.groupdata.fetch(r.data.selectedGroup.distinguishedName).then((function(){r.openDialog("groupDialog"),r.editableForm=1==a,setTimeout((function(){r.loading=!1}),300),r.fetchingData=!1})).catch((function(e){console.log(e),r.loading=!1,r.fetchingData=!1,r.error=!0}));case 9:case"end":return s.stop()}}),s)})))()},getColorForGroupType:function(e){switch(e){case"GROUP_DISTRIBUTION":return{color:"orange",text:"black"};case"GROUP_SYSTEM":return{color:"secondary",text:"white"};case"GROUP_GLOBAL":return{color:"secondary",text:"white"};case"GROUP_DOMAIN_LOCAL":return{color:"green",text:"white"};case"GROUP_UNIVERSAL":return{color:"blue-grey",text:"white"};default:return{color:"primary",text:"white"}}}}},ms=ps,vs=(0,l.Z)(ms,Lr,Nr,!1,null,null,null),gs=vs.exports;d()(vs,{VBtn:He.Z,VChip:Ke.Z,VDataTable:Pt.Z,VDialog:rr.Z,VIcon:$e.Z,VRow:Ee.Z,VTextField:pt.Z,VTooltip:nr.Z});var hs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"mt-2 mb-2",attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2",attrs:{flat:"",outlined:"","max-width":"1200px",width:"90%"}},[r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",label:e.$t("actions.search")},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),r("v-row",{staticClass:"pa-0 px-4",staticStyle:{"max-width":"fit-content"},attrs:{justify:"end"}},[r("v-btn",{staticClass:"mx-2 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:e.fetchDirtree},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{light:""}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mx-6 mb-4",staticStyle:{position:"relative"},attrs:{justify:e.$vuetify.breakpoint.lgAndUp?"end":"center"}},[r("v-btn",{staticClass:"pa-2 mx-2 mr-0 pill-start",attrs:{elevation:"0",color:"primary"},on:{click:function(t){return e.openDialog("dirtreeOUCreate")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("classes.organizational-unit.single"))+" ")],1),r("v-menu",{attrs:{"close-on-content-click":!1,left:"","nudge-left":2*(e.$t("actions.addN")+" "+e.$t("classes.organizational-unit.single")).length+"ch",dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify),"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"pa-0 px-2 pr-3 pill-end",staticStyle:{"min-width":"32px"},attrs:{elevation:"0",color:"primary"}},"v-btn",a,!1),s),[r("v-icon",{class:1==e.actionListOpen?"active":"",attrs:{id:"floatingActionListButton"}},[e._v(" mdi-chevron-down ")])],1)]}}]),model:{value:e.actionListOpen,callback:function(t){e.actionListOpen=t},expression:"actionListOpen"}},[r("v-list",{attrs:{dense:""}},[r("v-divider",{staticClass:"mx-4"}),e._l(e.actionList,(function(t,s){return r("v-list-item",{key:s,staticClass:"ma-0 pa-0"},[r("v-btn",{staticStyle:{width:"100%"},attrs:{disabled:!t.enabled,color:"primary",tile:"",text:""},on:{click:function(r){return e.openDialog(t.value)}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" "+e._s(t.icon)+" ")]),e._v(" "+e._s(e.getTranslationKey(t).toUpperCase())+" ")],1)],1)})),r("v-divider",{staticClass:"mx-4"})],2)],1)],1),r("v-card",{staticClass:"ma-1 pa-2",attrs:{flat:"",outlined:""}},[r("v-row",{staticClass:"ma-0 pa-0 my-1",attrs:{justify:e.$vuetify.breakpoint.mdAndUp?"end":"center",align:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-1",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.resetDirtree}},[r("v-icon",{staticClass:"ma-0 pa-0 mr-1"},[e._v(" mdi-filter-remove-outline ")]),e._v(" "+e._s(e.$t("actions.resetFilters"))+" ")],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-1 ml-2",attrs:{small:"",disabled:!this.tableData.items||this.tableData.items.length<1,outlined:"",color:"primary"},on:{click:e.toggleOpenAll}},[r("v-fab-transition",[e.listOpenAll||e.dirtreeOpen.length>0?r("v-icon",{staticClass:"ma-0 pa-0"},[e._v(" mdi-chevron-double-up ")]):r("v-icon",{staticClass:"ma-0 pa-0"},[e._v(" mdi-chevron-double-down ")])],1),e._v(" "+e._s(e.listOpenAll||e.dirtreeOpen.length>0?e.$t("actions.closeAll"):e.$t("actions.openAll"))+" ")],1),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-menu",{attrs:{"offset-y":"",left:"","nudge-bottom":"1rem","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"pa-0 px-2 pr-1",staticStyle:{"min-width":"32px"},attrs:{small:"",elevation:"0",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},"v-btn",a,!1),s),[e._v(" "+e._s(e.$t("actions.filter"))+" "),r("v-icon",{class:1==e.filterListOpen?"active":"",attrs:{id:"filterListButton"}},[e._v(" mdi-chevron-down ")])],1)]}}]),model:{value:e.filterListOpen,callback:function(t){e.filterListOpen=t},expression:"filterListOpen"}},[r("v-list",{attrs:{dense:"",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},[r("v-list-item",[r("v-btn",{staticClass:"mx-1",attrs:{color:"primary"},on:{click:e.filterAll}},[r("v-icon",[e._v(" mdi-filter ")]),e._v(" "+e._s(e.$t("words.all.single.m"))+" ")],1),r("v-btn",{staticClass:"mx-1",on:{click:e.filterNone}},[r("v-icon",[e._v(" mdi-filter-outline ")]),e._v(" "+e._s(e.$t("words.none.single.m"))+" ")],1)],1),e._l(e.itemTypes,(function(t,s){return r("v-list-item",{key:t.id},[r("v-list-item-action",{staticClass:"ma-0 pa-0 mr-2"},[r("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{disabled:0!=t.show&&t.required,"on-icon":"mdi-checkbox-blank-off-outline",color:"primary",dense:""},on:{change:function(t){return e.setFilter(s,!0)}},model:{value:t.filtered,callback:function(r){e.$set(t,"filtered",r)},expression:"item.filtered"}})],1),r("v-list-item-title",{staticClass:"font-weight-medium"},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"start"}},[r("v-icon",[e._v(" "+e._s(t.icon)+" ")]),r("span",{staticClass:"text-overline ml-1"},[e._v(" "+e._s(e.$t("classes."+s+".single"))+" ")]),"person"==s||"user"==s?r("v-icon",{staticClass:"ml-1",attrs:{small:""}},[e._v(" mdi-link ")]):e._e()],1)],1)],1)}))],2)],1)],1),r("v-progress-linear",{attrs:{indeterminate:e.loading,size:"100",width:"7",color:this.tableData.items.length||1!=this.error||this.loading?"primary":"red"}})],1),r("v-card",{staticClass:"ma-1",attrs:{flat:"",outlined:""}},[r("v-expand-transition",[e.loading?e._e():r("v-treeview",{ref:"dirTreeviewList",attrs:{"selected-color":"primary","selection-type":"independent",dense:"",hoverable:"",open:e.dirtreeOpen,"item-key":"id",items:this.tableData.items,search:e.searchString},on:{"update:open":function(t){e.dirtreeOpen=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var s=t.item,a=t.open;return[r("div",{class:e.getObjectIsClickable(s)+" ",on:{click:function(t){e.getObjectIsClickable&&e.changeOpenStatus(s.id)}}},[1==s.builtin&&"Container"!=s.type&&"Computer"!=s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" mdi-hammer ")]):"Container"==s.type&&1==s.builtin?r("div",[r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" "+e._s(e.itemTypes[s.type.toLowerCase()]["icon"])+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{small:"",color:a?"primary":void 0}},[e._v(" mdi-hammer ")])],1):"Container"==s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" "+e._s(e.itemTypes[s.type.toLowerCase()]["icon"])+" ")]):"Organizational-Unit"==s.type?r("v-icon",{attrs:{color:a?"primary":void 0}},[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")]):"Computer"==s.type?r("v-icon",[e._v(" "+e._s(e.itemTypes[s.type.toLowerCase()]["icon"])+" ")]):"Person"!=s.type&&"User"!=s.type||s.objectClass.includes("contact")?s.objectClass.includes("contact")?r("v-icon",[e._v(" "+e._s(e.itemTypes["contact"]["icon"])+" ")]):"Group"==s.type?r("v-icon",[e._v(" "+e._s(e.itemTypes[s.type.toLowerCase()]["icon"])+" ")]):r("v-icon",[e._v(" mdi-group ")]):r("v-icon",[e._v(" "+e._s(e.itemTypes[s.type.toLowerCase()]["icon"])+" ")])],1)]}},{key:"label",fn:function(t){var s=t.item;return[r("v-row",{class:e.getObjectIsClickable(s)+" ",attrs:{justify:"start"},on:{click:function(t){e.getObjectIsClickable&&e.changeOpenStatus(s.id)}}},[r("v-col",{attrs:{cols:"auto"}},[e._v(" "+e._s(s.name)+" ")])],1)]}},{key:"append",fn:function(t){var s=t.item;return["User"!=s.type&&"Person"!=s.type||!e.validForActions(s.objectClass)?"Group"==s.type&&e.validForActions(s.objectClass)?r("span",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""},on:{click:function(t){return e.goToGroup(s)}}},"v-btn",o,!1),a),[r("v-icon",[e._v(" mdi-arrow-right-bold ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.goTo")+" "+e.$t("classes.group.single")))])])],1):e._e():r("span",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""},on:{click:function(t){return e.goToUser(s)}}},"v-btn",o,!1),a),[r("v-icon",[e._v(" mdi-arrow-right-bold ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.goTo")+" "+e.$t("classes.user.single")))])])],1),1!=s.builtin?r("span",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[e.validForActions(s.objectClass)?r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""},on:{click:function(t){return e.openDialog("dirtreeMove",s)}}},"v-btn",o,!1),a),[r("v-icon",[e._v(" mdi-folder-move ")])],1):e._e()]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.move")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[e.validForActions(s.objectClass)?r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""},on:{click:function(t){return e.openDialog("dirtreeRename",s)}}},"v-btn",o,!1),a),[r("v-icon",[e._v(" mdi-rename-box ")])],1):e._e()]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.rename")))])]),e.validToDelete(s.type)?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{disabled:s.children&&s.children.length>0,color:"red",icon:""},on:{click:function(t){return e.openDialog("dirtreeDeleteObject",s)}}},"v-btn",o,!1),a),[r("v-icon",[e._v(" mdi-delete ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.delete")))])]):e._e()],1):e._e()]}}],null,!1,1263901063),model:{value:e.dirtreeSelection,callback:function(t){e.dirtreeSelection=t},expression:"dirtreeSelection"}})],1),r("v-fab-transition",[this.tableData.items.length||1!=this.error||this.loading?e._e():r("v-icon",{staticClass:"ma-12",attrs:{size:"82",color:"red"}},[e._v(" mdi-close-circle ")])],1)],1)],1),r("v-dialog",{attrs:{eager:"","max-width":"900px"},model:{value:e.dialogs["dirtreeOUCreate"],callback:function(t){e.$set(e.dialogs,"dirtreeOUCreate",t)},expression:"dialogs['dirtreeOUCreate']"}},[r("DirtreeOUCreate",{ref:"DirtreeOUCreate",attrs:{createType:e.createType,viewKey:"dirtreeOUCreate"},on:{closeDialog:e.closeDialog}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["dirtreeDeleteObject"],callback:function(t){e.$set(e.dialogs,"dirtreeDeleteObject",t)},expression:"dialogs['dirtreeDeleteObject']"}},[r("DirtreeDeleteObject",{ref:"DirtreeDeleteObject",attrs:{ldapObject:this.selectedObject,viewKey:"dirtreeDeleteObject"},on:{closeDialog:e.closeDialog,refresh:function(t){return e.resetDirtree(!0)}}})],1),r("v-dialog",{attrs:{eager:"","max-width":"900px"},model:{value:e.dialogs["dirtreeMove"],callback:function(t){e.$set(e.dialogs,"dirtreeMove",t)},expression:"dialogs['dirtreeMove']"}},[r("DirtreeMove",{ref:"DirtreeMove",attrs:{objectDn:e.selectedObject.distinguishedName,objectName:e.selectedObject.name,viewKey:"dirtreeMove"},on:{closeDialog:e.closeDialog,confirm:e.moveObject}})],1),r("v-dialog",{attrs:{eager:"","max-width":"900px"},model:{value:e.dialogs["dirtreeRename"],callback:function(t){e.$set(e.dialogs,"dirtreeRename",t)},expression:"dialogs['dirtreeRename']"}},[r("DirtreeRename",{ref:"DirtreeRename",attrs:{objectDn:e.selectedObject.distinguishedName,objectName:e.selectedObject.name,viewKey:"dirtreeRename"},on:{closeDialog:e.closeDialog,confirm:e.renameObject}})],1)],1)},fs=[],bs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s(e.$t("actions.create")+" "+e.$t("classes."+e.createType+".single")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-expand-transition",[r("div",[r("v-stepper",{model:{value:e.createStage,callback:function(t){e.createStage=t},expression:"createStage"}},[r("v-stepper-header",{staticClass:"px-16"},[r("v-stepper-step",{attrs:{complete:e.createStage>1,step:"1"}},[e._v(e._s(e.$t("section.dirtree."+e.createType+"Create.step1")))]),r("v-divider",{staticClass:"mx-3",style:e.createStage>1?"border-color: var(--clr-primary) !important":""}),r("v-stepper-step",{attrs:{complete:e.createStage>2,step:"2"}},[e._v(e._s(e.$t("section.dirtree."+e.createType+"Create.step2")))])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-form",{ref:"ouCreateForm1",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"5"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("classes."+e.createType+".single")+" "+e.$t("ldap.attributes.name"),rules:[this.fieldRules(e.objectToCreate.name,"ge_cn",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}},model:{value:e.objectToCreate.name,callback:function(t){e.$set(e.objectToCreate,"name",t)},expression:"objectToCreate.name"}})],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",color:"primary"},on:{click:function(t){return e.setDestination()}}},[e._v(" "+e._s(e.$t("section.dirtree.move.setToRoot"))+" ")]),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",disabled:!e.allowRefresh,elevation:"0"},on:{click:function(t){return e.fetchOUs(!0)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[e._v(" "+e._s(e.$t("actions.refresh"))+" "),r("v-icon",[e._v(" mdi-refresh ")])],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-expansion-panels",{staticStyle:{border:"1px solid var(--clr-primary)"},attrs:{flat:"",hover:""},model:{value:e.ouPathExpansionPanel,callback:function(t){e.ouPathExpansionPanel=t},expression:"ouPathExpansionPanel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[r("span",[r("span",[e._v(" "+e._s(e.$t("section.dirtree."+e.createType+"Create."+e.createType+"CreatedIn")+": ")+" ")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.ouDestination)+" ")])])]),r("v-expansion-panel-content",[r("v-card",{staticStyle:{"max-height":"300px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[r("DirtreeOUList",{ref:"DirtreeOUList",on:{selectedDestination:e.setDestination}})],1)],1)],1)],1)],1)],1)],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-row",{staticClass:"pa-12 ma-12",attrs:{justify:"center","align-content":"center",align:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-fab-transition",[r("v-progress-circular",{attrs:{value:"100",color:!1===this.error?e.loading?"primary":"green":"red",indeterminate:e.loading,size:"100",width:"10"}},[r("v-fab-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loading,expression:"loading == false"}]},[1==e.error?r("v-icon",{attrs:{size:"82",color:"red"}},[e._v("mdi-close-circle")]):r("v-icon",{attrs:{size:"82",color:"green"}},[e._v("mdi-check-circle")])],1)])],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-slide-y-transition",[this.loading||0!=this.loading?e._e():r("v-col",[e._v(" "+e._s(this.error?"":e.$t("section.dirtree."+e.createType+"Create.step2_success"))+" ")])],1)],1)],1)],1)],1)],1)],1)]),e.$vuetify.breakpoint.smAndDown?r("v-snackbar",{attrs:{text:"",color:"red",timeout:"1500",centered:""},model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[r("v-row",{attrs:{justify:"center"}},[e._v(" "+e._s(this.errorMsg)+" ")])],1):e._e(),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"space-around":"end"}},[r("div",[r("v-slide-x-reverse-transition",[this.error&&e.$vuetify.breakpoint.mdAndUp?r("v-chip",{staticClass:"mx-2",attrs:{color:"red","text-color":"white"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<2?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.newOU}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-cached ")]),e._v(" "+e._s(e.$t("actions.reset"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[e.createStage>1&&this.error?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 pr-4 ma-1 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.prevStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevStep.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-left ")]),e._v(" "+e._s(e.$t("actions.back_short"))+" ")],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage<2?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pl-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.nextStep,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("actions.next"))+" "),r("v-icon",{staticClass:"ma-0",attrs:{color:"primary"}},[e._v(" mdi-chevron-double-right ")])],1):e._e()],1),r("v-slide-x-reverse-transition",[this.createStage>1&&!1===this.error?r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:function(t){return e.closeDialog(!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),e._v(" "+e._s(e.$t("actions.done"))+" ")],1):e._e()],1)],1)])],1)],1)},_s=[],ys={name:"dirtreeOUCreate",components:{DirtreeOUList:Ne},data:function(){return{passwordHidden:!0,domain:"",realm:"",basedn:"",success:!1,loading:!0,error:!1,valid:!1,errorMsg:"",allowRefresh:!0,showSnackbar:!1,ouPathExpansionPanel:!1,ouDestination:"",objectToCreate:{},createStage:1}},mixins:[Fe,Me.Z],props:{createType:{type:String,default:"ou"},viewKey:String},created:function(){this.newOU()},methods:{resetDialog:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=be(),e.domain=r.domain,e.realm=r.realm,e.basedn=r.basedn,t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))()},setDestination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&e?(this.ouDestination=e,this.ouPathExpansionPanel=!1):(this.ouDestination=this.basedn,this.ouPathExpansionPanel=0)},prevStep:function(){switch(this.createStage){case 2:this.error=!1,this.errorMsg="";var e=be();this.domain=e.domain,this.realm=e.realm,this.basedn=e.basedn,this.createStage-=1;break;default:this.createStage-=1;break}},nextStep:function(){var e=this;switch(this.createStage){case 1:this.$refs.ouCreateForm1.validate()&&""!=this.ouDestination?(this.error=!1,this.errorMsg="",this.error?(1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("section.dirtree.ouCreate.validationError")):(Object.keys(this.objectToCreate).forEach((function(t){void 0===e.objectToCreate[t]&&delete e.objectToCreate[t]})),this.createLDAPObject())):(1==this.showSnackbar&&(this.showSnackbar=!1),this.showSnackbar=!0,this.error=!0,this.errorMsg=this.$t("error.validation.fieldinvalid"));break;default:break}},newOU:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.passwordHidden=!0,e.ouPathExpansionPanel=!1,e.allowRefresh=!0,e.objectToCreate=new Se({}),e.createStage=1,e.error=!1,e.errorMsg="",e.$refs.ouCreateForm1&&e.$refs.ouCreateForm1.resetValidation(),r=be(),e.domain=r.domain,e.realm=r.realm,e.basedn=r.basedn,e.fetchOUs(),e.ouDestination=e.basedn;case 14:case"end":return t.stop()}}),t)})))()},updateValue:function(e,t){this[e]=t},fetchOUs:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>0&&void 0!==e[0]&&e[0],1==s&&(t.ouPathExpansionPanel=0),void 0!=t.$refs.DirtreeOUList&&(t.allowRefresh=!1,t.$nextTick((function(){1!=s&&t.setDestination(),t.$refs.DirtreeOUList.fetchOUs().then((function(){t.allowRefresh=!0}))})));case 3:case"end":return r.stop()}}),r)})))()},closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("closeDialog",this.viewKey,e)},createLDAPObject:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=!1,e.errorMsg="",e.createStage+=1,e.objectToCreate.path=e.ouDestination,e.objectToCreate.type=e.createType,"ou"!=e.createType&&e.createType||(e.objectToCreate.ou=e.objectToCreate.name),t.next=8,e.objectToCreate.insert({ldapObject:e.objectToCreate}).then((function(t){200==t.status?(e.error=!1,e.errorMsg="",setTimeout((function(){e.loading=!1}),450),e.success=!0):(e.error=!0,e.errorMsg=e.$t("error.unknown_short"),setTimeout((function(){e.loading=!1}),450),e.success=!1)})).catch((function(t){e.error=!0,setTimeout((function(){e.loading=!1}),450),e.errorMsg=e.getMessageForCode(t)}));case 8:case"end":return t.stop()}}),t)})))()}}},Cs=ys,ws=(0,l.Z)(Cs,bs,_s,!1,null,null,null),ks=ws.exports;d()(ws,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VProgressCircular:it.Z,VRow:Ee.Z,VSlideXReverseTransition:Re.Zy,VSlideYTransition:Re.cu,VSnackbar:nt.Z,VStepper:lt.Z,VStepperContent:ct.Z,VStepperHeader:dt.Rp,VStepperItems:dt.gd,VStepperStep:ut.Z,VTextField:pt.Z});var xs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s(e.$t("section.dirtree.move.title")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-3",attrs:{justify:"center"}},[r("v-col",{staticClass:"font-weight-medium",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("section.dirtree.move.originalRelativePath")+": "+e.originalRelativePath)+" ")]),r("v-col",{staticClass:"font-weight-medium",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("ldap.attributes.distinguishedName")+": "+e.objectDn)+" ")])],1),r("v-divider",{staticClass:"mx-16 mt-2"}),r("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"space-around"}},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",color:"primary"},on:{click:function(t){return e.setDestination()}}},[e._v(" "+e._s(e.$t("section.dirtree.move.setToRoot"))+" ")]),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",disabled:!e.allowRefresh,elevation:"0"},on:{click:e.refreshOUList},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[e._v(" "+e._s(e.$t("actions.refresh"))+" "),r("v-icon",[e._v(" mdi-refresh ")])],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",lg:"10"}},[r("v-expansion-panels",{staticStyle:{border:"1px solid var(--clr-primary)"},attrs:{flat:"",hover:""},model:{value:e.userPathExpansionPanel,callback:function(t){e.userPathExpansionPanel=t},expression:"userPathExpansionPanel"}},[r("v-expansion-panel",{key:0},[r("v-expansion-panel-header",[r("span",[r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.objectName)+" ")]),r("span",[e._v(" "+e._s(" "+e.$t("section.dirtree.move.willBeMovedTo").toLowerCase()+": ")+" ")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(this.objectDestination)+" ")])])]),r("v-expansion-panel-content",[r("v-card",{staticStyle:{"max-height":"300px",overflow:"auto !important"},attrs:{flat:"",outlined:""}},[r("DirtreeOUList",{ref:"DirtreeOUList",attrs:{fetchOnCreated:!1,excludeObjects:e.objectDn},on:{selectedDestination:e.setDestination}})],1)],1)],1)],1)],1)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:"center"}},[r("div",[r("v-slide-x-reverse-transition",[this.error&&e.$vuetify.breakpoint.mdAndUp?r("v-chip",{staticClass:"mx-2",attrs:{color:"red","text-color":"white"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1),r("v-slide-y-reverse-transition",[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 pr-4",attrs:{elevation:"0",color:"primary",rounded:""},on:{click:e.confirmMove,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmMove.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0 mx-1"},[e._v(" mdi-folder-move ")]),e._v(" "+e._s(e.$t("actions.move"))+" ")],1)],1),r("v-slide-y-reverse-transition",[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-slig-25",attrs:{elevation:"0",rounded:""},on:{click:e.closeDialog,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"red"}},[e._v(" mdi-close-circle ")]),r("span",{staticClass:"text-white"},[e._v(" "+e._s(e.$t("actions.cancel"))+" ")])],1)],1)],1)])],1)],1)},Ds=[],Ts={components:{DirtreeOUList:Ne},data:function(){return{objectDestination:"",userPathExpansionPanel:0,allowRefresh:!0,domain:"",realm:"",basedn:"",error:"",errorMsg:"",filter:{iexact:{}}}},props:{createMode:{type:Boolean,default:!1},viewKey:String,objectDn:String,objectName:String},computed:{originalRelativePath:function(){return void 0!=this.objectDn?this.objectDn.split(",").slice(1).join(","):""}},methods:{resetFilter:function(){this.filter={iexact:{}}},setExcludeFilter:function(){this.objectDn&&void 0!=this.objectDn&&null!=this.objectDn&&(this.filter["iexact"]["organizationalUnit"]="objectClass",this.filter["iexact"]["container"]={attr:"objectClass",or:!0},this.filter["iexact"][this.objectDn]={attr:"distinguishedName",exclude:!0})},clearList:function(){this.resetFilter(),this.$refs.DirtreeOUList.clearList()},refreshOUList:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.allowRefresh){t.next=5;break}return e.allowRefresh=!1,e.setExcludeFilter(),t.next=5,e.$refs.DirtreeOUList.fetchOUs(e.filter).then((function(){e.allowRefresh=!0}));case 5:case"end":return t.stop()}}),t)})))()},resetDialog:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=be(),e.domain=r.domain,e.realm=r.realm,e.basedn=r.basedn,e.allowRefresh=!1,e.$refs.DirtreeOUList&&e.$nextTick((function(){e.setDestination(),e.setExcludeFilter(),e.$refs.DirtreeOUList.fetchOUs(e.filter).then((function(){e.allowRefresh=!0}))})),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()},setDestination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.objectDestination=void 0!=e&&e?e:this.basedn},closeDialog:function(){this.$emit("closeDialog",this.viewKey)},confirmMove:function(){this.$emit("confirm",this.objectDestination)}}},Ss=Ts,As=(0,l.Z)(Ss,xs,Ds,!1,null,null,null),Zs=As.exports;d()(As,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VIcon:$e.Z,VRow:Ee.Z,VSlideXReverseTransition:Re.Zy,VSlideYReverseTransition:Re.V});var Ps=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s(e.$t("section.dirtree.rename.title")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 mt-3",attrs:{justify:"center"}},[r("v-col",{staticClass:"font-weight-medium",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("section.dirtree.rename.originalDistinguishedName")+": "+e.objectDn)+" ")])],1),r("v-divider",{staticClass:"mx-16 mt-2"}),r("v-row",{staticClass:"ma-0 pa-0 my-4",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8",md:"6"}},[r("v-text-field",{attrs:{dense:"",label:e.$t("ldap.attributes.name"),rules:[this.fieldRules(e.newObjectName,"ge_cn",!0)]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmRename.apply(null,arguments)}},model:{value:e.newObjectName,callback:function(t){e.newObjectName=t},expression:"newObjectName"}})],1)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:"center"}},[r("div",[r("v-slide-x-reverse-transition",[this.error&&e.$vuetify.breakpoint.mdAndUp?r("v-chip",{staticClass:"mx-2",attrs:{color:"red","text-color":"white"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1),r("v-slide-y-reverse-transition",[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 pr-4",attrs:{elevation:"0",color:"primary",rounded:""},on:{click:e.confirmRename,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmRename.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0 mx-1"},[e._v(" mdi-checkbox-marked-circle-outline ")]),e._v(" "+e._s(e.$t("actions.rename"))+" ")],1)],1),r("v-slide-y-reverse-transition",[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-slig-25",attrs:{elevation:"0",rounded:""},on:{click:e.closeDialog,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog.apply(null,arguments)}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"red"}},[e._v(" mdi-close-circle ")]),r("span",{staticClass:"text-white"},[e._v(" "+e._s(e.$t("actions.cancel"))+" ")])],1)],1)],1)])],1)],1)},Rs=[],$s={mixins:[Fe],props:{viewKey:String,objectDn:String,objectName:String},data:function(){return{newObjectName:"",error:"",errorMsg:""}},methods:{clearData:function(){this.newObjectName="",this.error="",this.errorMsg=""},closeDialog:function(){this.$emit("closeDialog",this.viewKey)},confirmRename:function(){this.$emit("confirm",this.newObjectName)}}},Os=$s,Es=(0,l.Z)(Os,Ps,Rs,!1,null,null,null),Us=Es.exports;d()(Es,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VChip:Ke.Z,VCol:Pe.Z,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z,VSlideXReverseTransition:Re.Zy,VSlideYReverseTransition:Re.V,VTextField:pt.Z});var Ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.dirtree.deleteObject.title"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0"},[r("v-row",{staticClass:"pa-0 ma-8 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.dirtree.deleteObject.message"))+" "),r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s(e.ldapObject.distinguishedName+"?")+" ")])])],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)},click:function(t){return e.closeDialog(!0)}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),r("span",{staticClass:"pr-1 text-normal"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-normal"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{color:"red"}},[e._v(" mdi-close-circle-outline ")])],1)],1)],1)],1)},Ns=[],Is={name:"confirmDialog",props:{ldapObject:Object,viewKey:String},created:function(){},methods:{closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],a=e.length>1&&void 0!==e[1]?e[1]:{},a!={}&&(a.distinguishedName=t.ldapObject.distinguishedName,a.name=t.ldapObject.name),1!=s){r.next=6;break}return r.next=6,new Se({}).delete(a).then((function(e){e.data.distinguishedName==a.distinguishedName&&console.log("LDAP Object Deleted Successfully"),t.$emit("refresh")})).catch((function(e){console.log(e)}));case 6:t.$emit("closeDialog",t.viewKey);case 7:case"end":return r.stop()}}),r)})))()}}},Vs=Is,js=(0,l.Z)(Vs,Ls,Ns,!1,null,null,null),Fs=js.exports;d()(js,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z});var Ms={mixins:[Fe,Me.Z],components:{DirtreeMove:Zs,DirtreeRename:Us,DirtreeOUCreate:ks,DirtreeDeleteObject:Fs},props:{viewTitle:String,snackbarTimeout:Number},data:function(){return{createType:"ou",actionListOpen:!1,actionList:[{value:"dirtreeComputerCreate",icon:"mdi-monitor",enabled:!0},{value:"dirtreePrinterCreate",icon:"mdi-printer",enabled:!1}],searchString:"",selectedObject:{},filterListOpen:!1,loading:!1,error:!1,dirtreeSelection:[],forceReload:!1,dirtreeOpen:[],listOpenAll:!1,tableData:{headers:[],items:[]},dialogs:{dirtreeOUCreate:!1,dirtreeMove:!1,dirtreeRename:!1,dirtreeDeleteObject:!1},filters:{exclude:{}},itemTypes:{container:{filtered:!1,icon:"mdi-archive",required:!1},person:{filtered:!1,show:!1,icon:"mdi-account"},user:{filtered:!1,icon:"mdi-account",required:!1},contact:{filtered:!1,show:!0,icon:"mdi-folder-account-outline"},group:{filtered:!1,icon:"mdi-google-circles-communities",required:!1},computer:{filtered:!1,icon:"mdi-monitor",required:!1}}}},created:function(){this.fetchDirtree()},watch:{dialogs:{handler:function(e){e["dirtreeMove"]&&0!=e["dirtreeMove"]||this.$refs.DirtreeMove.clearList(this.selectedObject.distinguishedName)},deep:!0}},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},validToDelete:function(e){switch(e.toLowerCase()){case"organizational-unit":case"computer":case"printer":return!0;default:return!1}},validForActions:function(e){return void 0==e||!e.includes("contact")},getTranslationKey:function(e){var t=e.value;switch(t){case"dirtreeOUCreate":return this.$t("actions.addN")+" "+this.$t("classes.organizational-unit.single");case"dirtreeMove":return this.$t("actions.move")+" "+this.$t("classes.ldap.single");case"dirtreePrinterCreate":return this.$t("actions.addN")+" "+this.$t("classes.printer.single");case"dirtreeComputerCreate":return this.$t("actions.addN")+" "+this.$t("classes.computer.single");case"dirtreeDelete":return this.$t("actions.delete")+" "+this.$t("classes.ldap.single");default:return"No Translation Key"}},resetSearch:function(){this.searchString=""},toggleOpenAll:function(){this.listOpenAll=!this.listOpenAll,this.dirtreeOpen.length>0&&(this.listOpenAll=!1),void 0!=this.$refs.dirTreeviewList&&this.$refs.dirTreeviewList.updateAll(this.listOpenAll)},changeOpenStatus:function(e){this.dirtreeOpen.includes(e)?this.dirtreeOpen=this.dirtreeOpen.filter((function(t){return t!==e})):this.dirtreeOpen.push(e)},moveObject:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,t.dialogs["dirtreeMove"]=!1,t.selectedObject.destination=e,r.next=5,new Se({}).move({ldapObject:t.selectedObject}).then((function(){t.error=!1,t.loading=!1,t.resetDirtree(!0),t.createSnackbar({message:t.$t("section.dirtree.move.success").toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.createSnackbar({message:t.errorMsg.toUpperCase(),type:"error"})}));case 5:case"end":return r.stop()}}),r)})))()},renameObject:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,t.dialogs["dirtreeRename"]=!1,t.selectedObject.newRDN=e,r.next=5,new Se({}).rename({ldapObject:t.selectedObject}).then((function(){t.error=!1,t.loading=!1,t.resetDirtree(!0),t.createSnackbar({message:t.$t("section.dirtree.rename.success").toUpperCase(),type:"success"})})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.createSnackbar({message:t.errorMsg.toUpperCase(),type:"error"})}));case 5:case"end":return r.stop()}}),r)})))()},openDialog:function(e,t){switch(this.dialogs[e]=!0,this.selectedObject={},e){case"dirtreeMove":this.createFlag=!1,this.selectedObject=t,void 0!=this.$refs.DirtreeMove&&this.$refs.DirtreeMove.resetDialog(this.selectedObject.distinguishedName);break;case"dirtreeRename":this.selectedObject=t,void 0!=this.$refs.DirtreeRename&&this.$refs.DirtreeRename.clearData();break;case"dirtreeOUCreate":this.createType="ou",void 0!=this.$refs.DirtreeOUCreate&&(this.$refs.DirtreeOUCreate.newOU(),this.$refs.DirtreeOUCreate.resetDialog());break;case"dirtreeComputerCreate":this.dialogs["dirtreeOUCreate"]=!0,this.createType="computer",void 0!=this.$refs.DirtreeOUCreate&&(this.$refs.DirtreeOUCreate.newOU(),this.$refs.DirtreeOUCreate.resetDialog());break;case"dirtreePrinterCreate":this.dialogs["dirtreeOUCreate"]=!0,this.createType="printer",void 0!=this.$refs.DirtreeOUCreate&&(this.$refs.DirtreeOUCreate.newOU(),this.$refs.DirtreeOUCreate.resetDialog());break;case"dirtreeDeleteObject":this.selectedObject=t;break;default:break}},closeDialog:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.length>1&&void 0!==t[1]&&t[1],r.dialogs[e]=!1,a&&r.fetchDirtree();case 3:case"end":return s.stop()}}),s)})))()},goToUser:function(e){this.$emit("goToUser",e)},goToGroup:function(e){this.$emit("goToGroup",e)},filterAll:function(){for(var e in this.itemTypes)this.itemTypes[e].filtered=!0;this.buildFilter()},filterNone:function(){for(var e in this.itemTypes)this.itemTypes[e].filtered=!1;this.buildFilter()},buildFilter:function(){if(!this.filters)return this.filters={exclude:{}},this.fetchDirtree();for(var e in this.itemTypes)1==this.itemTypes[e].filtered?this.filters["exclude"][e]="objectClass":delete this.filters["exclude"][e];return this.fetchDirtree()},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.itemTypes[e].filtered;switch(e){case"user":case"person":this.itemTypes["person"].filtered=r,this.itemTypes["user"].filtered=r;break;default:this.itemTypes[e].filtered=r;break}t&&this.buildFilter()},getObjectIsClickable:function(e){return Array.isArray(e.children)&&e.children.length>0?"clickable":"notclickable"},resetDirtree:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.filters={exclude:{}};var t,r=!1;for(var s in this.itemTypes)t=this.itemTypes[s].filtered,1==t&&(this.itemTypes[s].filtered=!1,r=!0);1!=r&&1!=e||this.fetchDirtree(),this.forceReload=!1},fetchDirtree:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.tableData.headers=[],e.tableData.items=[],t.next=5,new Se({}).dirtree(e.filters).then((function(t){e.tableData.headers=[],e.tableData.items=t.data.ldapObjectList,e.error=!1,e.loading=!1,e.createSnackbar({message:(e.$t("category.header.home")+" "+e.$t("words.loaded.single.m")).toUpperCase(),type:"success"})})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.createSnackbar({message:e.getMessageForCode(t),type:"error"})}));case 5:case"end":return t.stop()}}),t)})))()}}},Gs=Ms,Bs=(0,l.Z)(Gs,hs,fs,!1,null,null,null),Hs=Bs.exports;d()(Bs,{VBtn:He.Z,VCard:qe.Z,VCheckbox:We.Z,VCol:Pe.Z,VDialog:rr.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VFabTransition:Re.b0,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemTitle:ot.V9,VMenu:ar.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTextField:pt.Z,VTooltip:nr.Z,VTreeview:Ue.Z});var qs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-data-table",{staticClass:"py-3 px-2 mt-2 mb-2",attrs:{headers:e.dns.headers,items:e.filteredData,"custom-sort":e.sortNullLast,loading:e.loading,search:e.searchString,"footer-props":{"items-per-page-options":[10,25,50,100,-1]},"show-expand":"","show-select":"","single-expand":e.singleExpand,"item-key":"id",expanded:e.expanded,"sort-by":"type"},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-select",{staticClass:"mx-2",attrs:{items:e.dns.zones},on:{change:function(t){return e.getDNSData(void 0,!0)}},model:{value:e.zoneFilter["dnsZone"],callback:function(t){e.$set(e.zoneFilter,"dnsZone",t)},expression:"zoneFilter['dnsZone']"}}),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{color:"primary"},on:{click:function(t){e.showZoneAdd=!e.showZoneAdd}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("classes.dns.zone.single"))+" ")],1),r("v-btn",{class:(e.loading||"Root DNS Servers"==e.zoneFilter.dnsZone||e.zoneFilter.dnsZone==e.ldap.domain?void 0:"text-white")+" pa-2 mx-2",attrs:{disabled:e.loading||"Root DNS Servers"==e.zoneFilter.dnsZone||e.zoneFilter.dnsZone==e.ldap.domain,color:"red"},on:{click:function(t){return e.openDeleteDialog(null,"zone")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-delete")]),e._v(" "+e._s(e.$t("actions.delete")+" "+e.$t("classes.dns.zone.single"))+" ")],1)],1),r("v-form",{ref:"zoneCreateForm",on:{submit:function(e){e.preventDefault()}}},[r("v-expand-transition",[r("v-row",{directives:[{name:"show",rawName:"v-show",value:e.showZoneAdd,expression:"showZoneAdd"}],staticClass:"px-2 mx-6 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{rules:[e.fieldRules(e.zoneToCreate,"ldap_website")],label:e.$t("section.dns.zoneToAddName")},model:{value:e.zoneToCreate,callback:function(t){e.zoneToCreate=t},expression:"zoneToCreate"}}),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{color:"primary",outlined:"",disabled:0==e.zoneToCreate.length||e.loading},on:{click:e.createZone}},[e._v(" "+e._s(e.$t("section.dns.confirmZoneCreation"))+" "),r("v-icon",{staticClass:"ml-1",attrs:{color:"primary"}},[e._v(" mdi-check-all ")])],1)],1)],1)],1),r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",label:e.$t("actions.search")},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),r("v-row",{staticClass:"pa-0 px-4",staticStyle:{"max-width":"fit-content"},attrs:{justify:"end"}},[r("v-btn",{staticClass:"mx-2 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:function(t){return e.getDNSData(void 0,!0)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{disabled:e.loading||"Root DNS Servers"==e.zoneFilter["dnsZone"],color:"primary"},on:{click:function(t){return e.openDialog("recordDialog")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("actions.addN")+" "+e.$t("classes.dns.record.single"))+" ")],1),r("v-btn",{class:(e.selectedRecords.length<1||e.loading||"Root DNS Servers"==e.zoneFilter["dnsZone"]?void 0:"clr-white")+" pa-2 mr-2",attrs:{disabled:e.selectedRecords.length<1||e.loading||"Root DNS Servers"==e.zoneFilter["dnsZone"],color:"red"},on:{click:function(t){return e.openDialog("recordMassAction")}}},[r("v-icon",{staticClass:"ma-0 pa-0"},[e._v("mdi-delete")]),e._v(" "+e._s(e.$t("actions.delete")+" "+e.$t("words.selected"))+" ")],1),r("v-menu",{attrs:{"offset-y":"",left:"","nudge-bottom":"1rem","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"pa-0 px-2 pr-1",staticStyle:{"min-width":"32px"},attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},"v-btn",a,!1),s),[e._v(" "+e._s(e.$t("actions.filter"))+" "),r("v-icon",{class:1==e.filterListOpen?"active":"",attrs:{id:"filterListButton"}},[e._v(" mdi-chevron-down ")])],1)]}}]),model:{value:e.filterListOpen,callback:function(t){e.filterListOpen=t},expression:"filterListOpen"}},[r("v-list",{attrs:{dense:"",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}},[r("v-list-item",[r("v-btn",{staticClass:"mx-1",attrs:{color:"primary"},on:{click:e.filterAll}},[r("v-icon",[e._v(" mdi-filter ")]),e._v(" "+e._s(e.$t("words.all.single.m"))+" ")],1),r("v-btn",{staticClass:"mx-1",on:{click:e.filterNone}},[r("v-icon",[e._v(" mdi-filter-outline ")]),e._v(" "+e._s(e.$t("words.none.single.m"))+" ")],1)],1),e._l(e.enabledRecordTypes,(function(t,s){return r("v-list-item",{key:s},[r("v-list-item-action",{staticClass:"ma-0 pa-0 mr-2"},[r("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{"on-icon":"mdi-checkbox-marked",color:"green",dense:""},model:{value:e.enabledRecordTypes[s],callback:function(t){e.$set(e.enabledRecordTypes,s,t)},expression:"enabledRecordTypes[key]"}})],1),r("v-list-item-title",{staticClass:"font-weight-medium"},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[e._v(" "+e._s(s)+" ")])],1)],1)}))],2)],1)],1)],1),r("v-divider",{staticClass:"mx-12 my-3"})]},proxy:!0},{key:"header",fn:function(t){return[r("thead",[r("tr",[e._l(t.props.headers,(function(s){return[r("th",{key:s.value,class:(e.$vuetify.breakpoint.mdAndUp?"":"text-center")+" py-2 px-0"},[1==s.groupable?r("v-btn",{staticClass:"py-4",attrs:{"x-small":"",text:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.on.group(s.value)}}},[r("v-icon",{class:e.$vuetify.breakpoint.mdAndUp?"mr-2":""},[e._v("flip_to_back")]),e.$vuetify.breakpoint.mdAndUp?r("span",[e._v(" "+e._s(e.$t("actions.groupBy")+" "+s.text)+" ")]):e._e()],1):e._e()],1)]}))],2)])]}},{key:"group.header",fn:function(t){var s=t.group,a=t.groupBy,o=t.headers,i=t.toggle,n=t.isOpen,l=t.remove;return[r("td",{attrs:{colspan:o.length}},[r("v-btn",{ref:s,attrs:{"x-small":"",icon:""},on:{click:i}},[r("v-icon",n?[e._v("mdi-chevron-up")]:[e._v("mdi-chevron-down")])],1),r("span",{staticClass:"mx-5 font-weight-bold"},[e._v(e._s(e.$t("dns.attributes."+a)+": "+s))]),r("v-btn",{attrs:{color:"red",icon:"","x-small":""},on:{click:l}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)]}},{key:"item.nameTarget",fn:function(t){var r=t.item;return[e._v(" "+e._s(""!=r.nameTarget&&r.nameTarget?r.nameTarget:"@")+" ")]}},{key:"item.ttl",fn:function(t){var r=t.item;return[e._v(" "+e._s(0==r.ttl?e.$t("dns.attributes.infiniteTtl"):r.ttl)+" ")]}},{key:"item.value",fn:function(t){var s=t.item;return["MX"==s.typeName?r("span",[e._v(" "+e._s(s.nameExchange)+" ")]):"TXT"==s.typeName?r("span",[e._v(" "+e._s(s.stringData)+" ")]):"NS"==s.typeName||"CNAME"==s.typeName?r("span",[e._v(" "+e._s(s.nameNode)+" ")]):"SOA"==s.typeName?r("span",[e._v(" "+e._s(s.namePrimaryServer+" "+s.zoneAdminEmail+" "+s.dwSerialNo+" "+s.dwRefresh+" "+s.dwRetry+" "+s.dwExpire+" "+s.dwMinimumTtl)+" ")]):s.address?r("span",[e._v(" "+e._s(s.address)+" ")]):r("v-divider",{staticClass:"mx-10"})]}},{key:"item.ts",fn:function(t){var s=t.item;return[1==s.ts?r("v-tooltip",{attrs:{color:"primary",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",disabled:e.loading||!0}},"v-btn",a,!1),s),[r("v-icon",{staticClass:"clr-valid clr-lig-40"},[e._v(" mdi-check ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.clickTo")+" "+e.$t("actions.enable")+" "+e.$t("classes.dns.record.single")))])]):r("v-tooltip",{attrs:{color:"red",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",rounded:"",disabled:e.loading||!0}},"v-btn",a,!1),s),[r("v-icon",{staticClass:"clr-error clr-lig-40"},[e._v(" mdi-close ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.clickTo")+" "+e.$t("actions.disable")+" "+e.$t("classes.dns.record.single")))])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",disabled:e.loading||"Root DNS Servers"==e.zoneFilter["dnsZone"],rounded:"",small:""},on:{click:function(t){return e.editRecord(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-pencil ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.edit")))])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",disabled:e.loading||"Root DNS Servers"==e.zoneFilter["dnsZone"],rounded:"",small:""},on:{click:function(t){return e.openDeleteDialog(s)}}},"v-btn",o,!1),a),[r("v-icon",{attrs:{small:"",color:"red"}},[e._v(" mdi-delete ")])],1)]}}],null,!0)},[r("span",[e._v(e._s(e.$t("actions.delete")))])])]}},{key:"expanded-item",fn:function(t){var s=t.headers,a=t.item;return[r("td",{attrs:{colspan:s.length}},e._l(e.getExtrasFromRecord(a,s),(function(t,s){return r("v-row",{key:s,staticClass:"ma-0 pa-0 my-3 mx-2",attrs:{justify:"start"}},[r("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},"type"==s?[e._v(" mdi-information-outline ")]:"distinguishedName"==s?[e._v(" mdi-menu ")]:[e._v(" mdi-menu-right ")]),"distinguishedName"==s?r("span",[e._v(" "+e._s(e.$t("ldap.attributes."+s)+": "+t+" ")+" ")]):"ts"==s?r("span",[e._v(" "+e._s(e.$t("dns.attributes."+s)+": ")+" "),1==a.ts?r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-check-circle ")]):r("v-icon",{attrs:{color:"red"}},[e._v(" mdi-close-circle ")])],1):r("span",[e._v(" "+e._s(e.$t("dns.attributes."+s)+": "+t+" ")+" ")])],1)})),1)]}}],null,!0),model:{value:e.selectedRecords,callback:function(t){e.selectedRecords=t},expression:"selectedRecords"}}),r("v-dialog",{attrs:{eager:"","max-width":this.updateFlag?"800px":"1200px"},model:{value:e.dialogs["recordDialog"],callback:function(t){e.$set(e.dialogs,"recordDialog",t)},expression:"dialogs['recordDialog']"}},[r("RecordDialog",{ref:"RecordDialog",attrs:{zoneHasSOA:e.zoneHasSOA(),currentZone:this.zoneFilter.dnsZone,recordObject:this.currentRecord,updateFlag:this.updateFlag,viewKey:"recordDialog"},on:{closeDialog:e.closeDialog,refresh:e.getDNSData}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["recordDelete"],callback:function(t){e.$set(e.dialogs,"recordDelete",t)},expression:"dialogs['recordDelete']"}},[r("RecordDelete",{ref:"RecordDelete",attrs:{deleteMode:this.deleteMode,currentZone:this.zoneFilter.dnsZone,recordObject:this.currentRecord,viewKey:"recordDelete"},on:{closeDialog:e.closeDialog,refresh:e.getDNSData}})],1),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["recordMassAction"],callback:function(t){e.$set(e.dialogs,"recordMassAction",t)},expression:"dialogs['recordMassAction']"}},[r("RecordMassAction",{ref:"RecordMassAction",attrs:{actionType:"delete",selectedRecords:e.selectedRecords,currentZone:this.zoneFilter.dnsZone,viewKey:"recordMassAction"},on:{closeDialog:e.closeDialog,refresh:e.getDNSData}})],1)],1)},zs=[],Ws=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"domain",void 0),(0,E.Z)((0,R.Z)(s),"realm",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"getDetails",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("domain/details");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"zones",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("domain/zones",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"insert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("domain/insert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("domain/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),Ks=Ws,Ys=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"ma-2"},[e._v(e._s((e.updateFlag?e.$t("actions.edit"):e.$t("actions.create"))+" "+e.$t("classes.dns.record.single")))]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"ma-0 pa-0"},[r("v-row",{staticClass:"ma-0 pa-0"},[e.useSidebar&&1!=e.updateFlag?r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"4",lg:"3"}},[r("v-list",{staticClass:"pa-0 ma-0 dnssidebar"},[r("v-radio-group",{staticClass:"ma-0 pa-0 pt-4",attrs:{column:""},on:{change:e.resetRecord},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.getRecordTypes,(function(t,s){return r("v-list-item",{key:t.value},[r("v-radio",{key:s,attrs:{value:t.value,label:e.$t("classes.dns.record.single")+" "+t.name}})],1)})),1)],1)],1):e._e(),r("v-col",{staticClass:"ma-0 pa-0"},[r("v-form",{ref:"RecordForm",on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"ma-0 pa-0 pa-4 pb-1",attrs:{align:"center",justify:"center"}},[1!=e.updateFlag?r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"10",md:"8"}},[r("v-select",{directives:[{name:"show",rawName:"v-show",value:!e.useSidebar,expression:"!useSidebar"}],attrs:{label:e.$t("dns.attributes.typeName"),"hide-details":"",items:e.getRecordTypes,"item-value":"value","item-text":"name"},on:{change:e.resetRecord},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1):e._e(),r("v-col",{staticClass:"ma-0 pa-0 px-2 mt-4",attrs:{cols:"12"}},[r("v-combobox",{ref:"TTLField",attrs:{label:e.$t("dns.attributes.ttl"),items:e.ttlPresets,rules:[this.fieldRules(e.ttlVal,"ge_numbers",!0)]},on:{change:e.setTTL},model:{value:e.ttlVal,callback:function(t){e.ttlVal=t},expression:"ttlVal"}})],1),6!=e.selectedType?r("v-col",{staticClass:"ma-0 pa-0 mt-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{hint:e.$t("dns.hints.name"),"persistent-hint":"",label:e.$t("dns.attributes.name"),rules:[this.fieldRules(e.recordCopy.name,e.getValidationForRecordTypeName,!0)]},model:{value:e.recordCopy.name,callback:function(t){e.$set(e.recordCopy,"name",t)},expression:"recordCopy.name"}})],1):e._e()],1),1==e.selectedType?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.ipAddress"),rules:[this.fieldRules(e.recordCopy.address,"net_ip",!0)]},model:{value:e.recordCopy.address,callback:function(t){e.$set(e.recordCopy,"address",t)},expression:"recordCopy.address"}})],1)],1):e._e(),e.isNodeNameRecord(e.selectedType)?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.nameNode"),rules:[this.fieldRules(e.recordCopy.nameNode,"net_domain_canonical",!0)]},model:{value:e.recordCopy.nameNode,callback:function(t){e.$set(e.recordCopy,"nameNode",t)},expression:"recordCopy.nameNode"}})],1)],1):e._e(),15==e.selectedType?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.nameExchange"),rules:[this.fieldRules(e.recordCopy.nameExchange,"net_domain_canonical",!0)]},model:{value:e.recordCopy.nameExchange,callback:function(t){e.$set(e.recordCopy,"nameExchange",t)},expression:"recordCopy.nameExchange"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.wPreference"),rules:[this.fieldRules(e.recordCopy.wPreference,"ge_numbers",!0)]},model:{value:e.recordCopy.wPreference,callback:function(t){e.$set(e.recordCopy,"wPreference",t)},expression:"recordCopy.wPreference"}})],1)],1):e._e(),e.isStringRecord(e.selectedType)?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0 mt-4",attrs:{cols:"12"}},[r("v-alert",{staticClass:"mx-2 mb-1",attrs:{type:"info"}},[e._v(" "+e._s(e.$t("dns.hints.quotesNotRequired"))+" ")])],1),r("v-col",{staticClass:"ma-0 pa-0 mt-4",attrs:{cols:"12"}},[r("v-textarea",{staticClass:"mx-2",attrs:{"auto-grow":"",outlined:"",hint:e.$t("dns.hints.stringData"),"persistent-hint":"",label:e.$t("dns.attributes.stringData"),rules:[this.fieldRules(e.recordCopy.stringData,"dns_stringData",!0)]},model:{value:e.recordCopy.stringData,callback:function(t){e.$set(e.recordCopy,"stringData",t)},expression:"recordCopy.stringData"}})],1)],1):e._e(),6==e.selectedType?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.namePrimaryServer"),rules:[this.fieldRules(e.recordCopy.namePrimaryServer,"net_domain_canonical",!0)]},model:{value:e.recordCopy.namePrimaryServer,callback:function(t){e.$set(e.recordCopy,"namePrimaryServer",t)},expression:"recordCopy.namePrimaryServer"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.zoneAdminEmail"),rules:[this.fieldRules(e.recordCopy.zoneAdminEmail,"net_domain_canonical",!0)]},model:{value:e.recordCopy.zoneAdminEmail,callback:function(t){e.$set(e.recordCopy,"zoneAdminEmail",t)},expression:"recordCopy.zoneAdminEmail"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.dwSerialNo"),rules:[this.fieldRules(e.recordCopy.dwSerialNo,"ge_numbers",!0)]},model:{value:e.recordCopy.dwSerialNo,callback:function(t){e.$set(e.recordCopy,"dwSerialNo",t)},expression:"recordCopy.dwSerialNo"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.dwRefresh"),rules:[this.fieldRules(e.recordCopy.dwRefresh,"ge_numbers",!0)]},model:{value:e.recordCopy.dwRefresh,callback:function(t){e.$set(e.recordCopy,"dwRefresh",t)},expression:"recordCopy.dwRefresh"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.dwRetry"),rules:[this.fieldRules(e.recordCopy.dwRetry,"ge_numbers",!0)]},model:{value:e.recordCopy.dwRetry,callback:function(t){e.$set(e.recordCopy,"dwRetry",t)},expression:"recordCopy.dwRetry"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.dwExpire"),rules:[this.fieldRules(e.recordCopy.dwExpire,"ge_numbers",!0)]},model:{value:e.recordCopy.dwExpire,callback:function(t){e.$set(e.recordCopy,"dwExpire",t)},expression:"recordCopy.dwExpire"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.dwMinimumTtl"),rules:[this.fieldRules(e.recordCopy.dwMinimumTtl,"ge_numbers",!0)]},model:{value:e.recordCopy.dwMinimumTtl,callback:function(t){e.$set(e.recordCopy,"dwMinimumTtl",t)},expression:"recordCopy.dwMinimumTtl"}})],1)],1):e._e(),33==e.selectedType?r("v-row",{staticClass:"ma-0 pa-0 px-4 pb-4"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.wPriority"),rules:[this.fieldRules(e.recordCopy.wPriority,"ge_numbers",!0)]},model:{value:e.recordCopy.wPriority,callback:function(t){e.$set(e.recordCopy,"wPriority",t)},expression:"recordCopy.wPriority"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.wWeight"),rules:[this.fieldRules(e.recordCopy.wWeight,"ge_numbers",!0)]},model:{value:e.recordCopy.wWeight,callback:function(t){e.$set(e.recordCopy,"wWeight",t)},expression:"recordCopy.wWeight"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.wPort"),rules:[this.fieldRules(e.recordCopy.wPort,"ge_numbers",!0)]},model:{value:e.recordCopy.wPort,callback:function(t){e.$set(e.recordCopy,"wPort",t)},expression:"recordCopy.wPort"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[r("v-text-field",{staticClass:"mx-2",attrs:{label:e.$t("dns.attributes.nameTarget"),rules:[this.fieldRules(e.recordCopy.nameTarget,"net_domain_canonical",!0)]},model:{value:e.recordCopy.nameTarget,callback:function(t){e.$set(e.recordCopy,"nameTarget",t)},expression:"recordCopy.nameTarget"}})],1)],1):e._e()],1)],1)],1)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"space-around":"end"}},[r("div",[r("v-slide-x-reverse-transition",[r("v-progress-circular",{staticClass:"mx-3",attrs:{indeterminate:1==e.loading,value:e.submitted?100:0,color:e.submitted?e.error?"red":"green":"primary",size:"26"}},[r("v-fab-transition",[e.submitted&&!e.error?r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle ")]):1==e.submitted&&1==e.error?r("v-icon",{attrs:{color:"red"}},[e._v(" mdi-close-circle ")]):e._e()],1)],1)],1),r("v-slide-x-reverse-transition",[1==e.submitted?r("v-chip",{staticClass:"mr-2",attrs:{"text-color":"white",color:1==e.error?"red":"green"}},[e._v(" "+e._s(""==e.errorMsg?e.$t("section.dns."+(e.updateFlag?"update":"create")+"Success"):e.errorMsg)+" ")]):e._e()],1),r("v-slide-x-reverse-transition",[r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:e.syncRecord}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-cached ")]),e._v(" "+e._s(e.$t("actions.reset"))+" ")],1)],1),r("v-slide-x-reverse-transition",[r("v-btn",{staticClass:"text-normal ma-0 pa-0 pa-2 ma-1 pr-4 bg-white bg-lig-25",attrs:{elevation:"0",rounded:""},on:{click:function(t){1==e.updateFlag?e.updateRecord():e.createRecord()},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;1==e.updateFlag?e.updateRecord():e.createRecord()}}},[r("v-icon",{staticClass:"ma-0 mr-1",attrs:{color:"primary"}},[e._v(" mdi-checkbox-marked-circle-outline ")]),e._v(" "+e._s(e.$t("actions.done"))+" ")],1)],1)],1)])],1)],1)},Qs=[],Xs=(r(8862),function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"name",void 0),(0,E.Z)((0,R.Z)(s),"nameExchange",void 0),(0,E.Z)((0,R.Z)(s),"address",void 0),(0,E.Z)((0,R.Z)(s),"typeName",void 0),(0,E.Z)((0,R.Z)(s),"serial",void 0),(0,E.Z)((0,R.Z)(s),"ts",void 0),(0,E.Z)((0,R.Z)(s),"nameTarget",void 0),(0,E.Z)((0,R.Z)(s),"type",void 0),(0,E.Z)((0,R.Z)(s),"tstime",void 0),(0,E.Z)((0,R.Z)(s),"wPreference",void 0),(0,E.Z)((0,R.Z)(s),"wPriority",void 0),(0,E.Z)((0,R.Z)(s),"wWeight",void 0),(0,E.Z)((0,R.Z)(s),"wPort",void 0),(0,E.Z)((0,R.Z)(s),"dwSerialNo",void 0),(0,E.Z)((0,R.Z)(s),"dwRefresh",void 0),(0,E.Z)((0,R.Z)(s),"dwRetry",void 0),(0,E.Z)((0,R.Z)(s),"dwExpire",void 0),(0,E.Z)((0,R.Z)(s),"dwMinimumTtl",void 0),(0,E.Z)((0,R.Z)(s),"namePrimaryServer",void 0),(0,E.Z)((0,R.Z)(s),"zoneAdminEmail",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"insert",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("dnsr/insert",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("dnsr/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("dnsr/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve)),Js=Xs,ea={mixins:[Fe,Me.Z],props:{viewKey:String,recordObject:Object,currentZone:String,updateFlag:Boolean,zoneHasSOA:{type:Boolean,default:!0}},data:function(){return{loading:!1,error:!1,submitted:!1,drawerState:!0,errorMsg:"",ttlVal:900,ttlPresets:[60,300,900,3600,86400,604800],selectedType:1,recordTypes:[{name:"A",value:1,supported:!0},{name:"NS",value:2,supported:!0},{name:"CNAME",value:5,supported:!0},{name:"DNAME",value:39,supported:!0},{name:"SOA",value:6,supported:!0},{name:"HINFO",value:13,supported:!0},{name:"MX",value:15,supported:!0},{name:"TXT",value:16,supported:!0},{name:"SIG",value:18,supported:!1},{name:"KEY",value:19,supported:!1},{name:"ISDN",value:20,supported:!0},{name:"AAAA",value:28,supported:!1},{name:"LOC",value:29,supported:!0},{name:"SRV",value:33,supported:!0},{name:"PTR",value:35,supported:!0},{name:"WINS",value:65281,supported:!1}],recordCopy:{},originalRecord:{},nodeNameRecordTypes:[35,2,5,39],stringRecordTypes:[13,20,16,19,29]}},computed:{useSidebar:function(){return this.$vuetify.breakpoint.mdAndUp},getValidationForRecordTypeName:function(){var e="dns_root";if(void 0==this.recordCopy.type)return e;switch(this.recordCopy.type){default:return e}},getRecordTypes:function(){var e=this.recordTypes.filter((function(e){return 1==e.supported}));return 1==this.zoneHasSOA&&(e=e.filter((function(e){return 6!=e.value}))),e}},created:function(){this.syncRecord()},methods:{isNodeNameRecord:function(e){return!!this.nodeNameRecordTypes.includes(e)},isStringRecord:function(e){return!!this.stringRecordTypes.includes(e)},logData:function(){console.log(this.recordCopy),console.log(this.recordObject)},resetRecord:function(){var e=this;this.resetLoadingStatus(),void 0!=this.$refs.RecordForm&&this.$refs.RecordForm.resetValidation(),this.recordCopy={},void 0!=this.recordObject&&null!=this.recordObject&&(void 0==this.recordObject.ttl&&(this.recordCopy.ttl=900),setTimeout((function(){e.recordCopy.type=e.selectedType}),500))},resetValidation:function(){void 0!=this.$refs.RecordForm&&this.$refs.RecordForm.resetValidation()},syncRecord:function(){var e=this;this.resetRecord(),this.$nextTick((function(){void 0!=e.recordObject&&null!=e.recordObject&&(e.recordCopy=JSON.parse(JSON.stringify(e.recordObject)),e.originalRecord=JSON.parse(JSON.stringify(e.recordObject)),void 0==e.recordObject.ttl&&(e.recordCopy.ttl=900),void 0!=e.recordObject.type&&(e.selectedType=e.recordObject.type))}))},setTTL:function(e){this.$refs.TTLField.validate()&&(this.recordCopy.ttl=e)},resetLoadingStatus:function(){this.loading=!1,this.error=!1,this.errorMsg="",this.submitted=!1},createRecord:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.recordCopy.zone=e.currentZone,6==e.recordCopy.type&&(e.recordCopy.name="@"),!e.$refs.RecordForm.validate()){t.next=7;break}return e.resetLoadingStatus(),e.loading=!0,t.next=7,new Js({}).insert(e.recordCopy).then((function(){e.loading=!1,e.error=!1,e.errorMsg="",e.submitted=!0,setTimeout((function(){e.closeDialog(!0),Ti.$emit("createNotification",{message:(e.$t("classes.dns.record.single")+" "+e.$t("words.created.single.m")).toUpperCase(),type:"success"})}),250)})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.submitted=!0,e.errorMsg=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.errorMsg.toUpperCase(),type:"error"})}));case 7:case"end":return t.stop()}}),t)})))()},updateRecord:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r,s;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in e.recordCopy.zone=e.currentZone,r=!1,6==e.recordCopy.type&&(e.recordCopy.serial=parseInt(e.recordCopy.dwSerialNo)),e.recordCopy)s in e.recordCopy&&s in e.originalRecord&&e.recordCopy[s]!=e.originalRecord[s]&&(r=!0);if(1!=r||!e.$refs.RecordForm.validate()){t.next=11;break}return e.resetLoadingStatus(),e.loading=!0,t.next=9,new Js({}).update({record:e.recordCopy,oldRecord:e.originalRecord}).then((function(){e.loading=!1,e.error=!1,e.errorMsg="",e.submitted=!0,setTimeout((function(){e.closeDialog(!0),Ti.$emit("createNotification",{message:(e.$t("classes.dns.record.single")+" "+e.$t("words.updated.single.m")).toUpperCase(),type:"success"})}),250)})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.submitted=!0,e.errorMsg=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.errorMsg.toUpperCase(),type:"error"})}));case 9:t.next=12;break;case 11:e.closeDialog();case 12:case"end":return t.stop()}}),t)})))()},closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("closeDialog",this.viewKey,e)}}},ta=ea,ra=r(5359),sa=(0,l.Z)(ta,Ys,Qs,!1,null,null,null),aa=sa.exports;d()(sa,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VChip:Ke.Z,VCol:Pe.Z,VCombobox:ra.Z,VDivider:Ye.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VProgressCircular:it.Z,VRadio:Br.Z,VRadioGroup:Hr.Z,VRow:Ee.Z,VSelect:or.Z,VSlideXReverseTransition:Re.Zy,VTextField:pt.Z,VTextarea:ir.Z});var oa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("actions.delete")+" "+e.$t("classes.dns."+e.deleteMode+".single"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0 pb-4"},["record"==e.deleteMode?r("v-row",{staticClass:"pa-0 ma-8 mb-2 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.dns.deleteRecord.message"))+" "),r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s(e.recordObject.displayName+" ("+e.recordObject.typeName+")?")+" ")])]):"zone"==e.deleteMode?r("v-row",{staticClass:"pa-0 ma-8 mb-2 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("section.dns.deleteRecord.message"))+" "),r("span",{staticClass:"font-weight-medium",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s(e.currentZone+"?")+" ")])]):e._e(),r("v-divider",{staticClass:"mx-8 mb-3"}),"record"==e.deleteMode?r("span",e._l(e.recordObject,(function(t,s){return r("v-row",{key:s,staticClass:"pa-0 ma-0 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[e.showAttribute(s)?r("span",{staticClass:"ma-0 pa-0",staticStyle:{"padding-left":"0.5ch"}},[e._v(" "+e._s(e.$t("dns.attributes."+s)+": "+t)+" ")]):e._e()])})),1):"zone"==e.deleteMode?r("span",[r("v-form",{ref:"deleteZoneForm",on:{submit:[function(t){e.confirmZone==e.currentZone&&e.closeDialog(!0)},function(e){e.preventDefault()}]}},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{label:e.$t("section.dns.deleteZone.confirmZone"),rules:[e.fieldRules(e.confirmZone,"ldap_website")]},model:{value:e.confirmZone,callback:function(t){e.confirmZone=t},expression:"confirmZone"}})],1)],1)],1)],1):e._e()],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 pl-1 ma-1 bg-white bg-lig-25",attrs:{disabled:e.getAllowConfirmStatus,rounded:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)},click:function(t){return e.closeDialog(!0)}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"green"}}),r("v-progress-circular",{staticClass:"ma-0 mr-1",attrs:{indeterminate:1==e.loading,value:e.submitted?100:0,color:e.error?"red":"green",size:"26"}},[r("v-fab-transition",[e.submitted?e.submitted&&!e.error?r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle ")]):1==e.submitted&&1==e.error?r("v-icon",{attrs:{color:"red"}},[e._v(" mdi-close-circle ")]):e._e():r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle-outline ")])],1)],1),r("span",{staticClass:"pr-1 text-normal"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-normal"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{color:"red"}},[e._v(" mdi-close-circle-outline ")])],1)],1)],1)],1)},ia=[],na={name:"confirmDialog",mixins:[Fe,Me.Z],data:function(){return{confirmZone:"",excludeAttr:["ts","type","id","index","distinguishedName","zone","record_bytes"],loading:!1,error:!1,submitted:!1}},props:{currentZone:String,deleteMode:{type:String,default:"record"},recordObject:Object,viewKey:String},computed:{getAllowConfirmStatus:function(){switch(this.deleteMode){case"zone":if(void 0==this.currentZone||null==this.currentZone)return!0;if(this.currentZone!=this.confirmZone)return!0;break;case"record":if(void 0==this.recordObject)return!0;break;default:break}return!1}},methods:{resetDelete:function(){this.confirmZone="",this.loading=!1,this.error=!1,this.submitted=!1},showAttribute:function(e){return!this.excludeAttr.includes(e)},closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],a=e.length>1&&void 0!==e[1]?e[1]:{},a!={}&&"record"==t.deleteMode&&(a=t.recordObject,a.zone=t.currentZone),1!=s){r.next=16;break}if(t.loading=!0,t.error=!1,t.errorMsg="",t.submitted=!1,"zone"!=t.deleteMode||t.currentZone!=t.confirmZone||!t.$refs.deleteZoneForm.validate()){r.next=13;break}return r.next=11,new Ks({}).delete({dnsZone:t.currentZone}).then((function(){t.loading=!1,t.error=!1,t.errorMsg="",t.submitted=!0,Ti.$emit("createNotification",{message:(t.$t("classes.dns.zone.single")+" "+t.$t("words.deleted.single.f")).toUpperCase(),type:"info"})})).catch((function(e){t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.submitted=!0,Ti.$emit("createNotification",{message:t.errorMsg.toUpperCase(),type:"error"}),console.log(e)}));case 11:r.next=16;break;case 13:if("record"!=t.deleteMode||!a){r.next=16;break}return r.next=16,new Js({}).delete({record:a}).then((function(){t.loading=!1,t.error=!1,t.errorMsg="",t.submitted=!0,Ti.$emit("createNotification",{message:(t.$t("classes.dns.record.single")+" "+t.$t("words.deleted.single.m")).toUpperCase(),type:"info"})})).catch((function(e){t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.submitted=!0,Ti.$emit("createNotification",{message:t.errorMsg.toUpperCase(),type:"error"}),console.log(e)}));case 16:1==s&&1==t.submitted&&1!=t.error?setTimeout((function(){t.$emit("closeDialog",t.viewKey,s)}),150):t.$emit("closeDialog",t.viewKey);case 17:case"end":return r.stop()}}),r)})))()}}},la=na,ca=(0,l.Z)(la,oa,ia,!1,null,null,null),da=ca.exports;d()(ca,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCol:Pe.Z,VDivider:Ye.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VProgressCircular:it.Z,VRow:Ee.Z,VTextField:pt.Z});var ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("actions.delete")+" "+e.$t("classes.dns.record.plural"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0 pb-4"},[r("v-row",{staticClass:"pa-0 ma-4 mb-2 text-subtitle-1 text-inverted",attrs:{justify:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("section.dns.massAction.delete"))+" ")]),r("v-divider",{staticClass:"mx-12 my-1"}),e._l(e.selectedRecords,(function(t,s){return r("v-col",{key:s,staticClass:"font-weight-medium pa-0 ma-0",staticStyle:{"padding-left":"0.5ch"},attrs:{cols:"12"}},[e._v(" "+e._s(t.displayName+" ("+t.typeName+")")+" "),r("v-divider",{staticClass:"mx-12 my-1"})],1)}))],2)],1),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 pl-1 ma-1 bg-white bg-lig-25",attrs:{disabled:void 0==e.selectedRecords||e.selectedRecords.length<1,rounded:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeDialog(!0)},click:function(t){return e.closeDialog(!0)}}},[r("v-icon",{staticClass:"mr-1",attrs:{color:"green"}}),r("v-progress-circular",{staticClass:"ma-0 mr-1",attrs:{indeterminate:1==e.loading,value:e.submitted?100:0,color:e.error?"red":"green",size:"26"}},[r("v-fab-transition",[e.submitted?e.submitted&&!e.error?r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle ")]):1==e.submitted&&1==e.error?r("v-icon",{attrs:{color:"red"}},[e._v(" mdi-close-circle ")]):e._e():r("v-icon",{attrs:{color:"green"}},[e._v(" mdi-checkbox-marked-circle-outline ")])],1)],1),r("span",{staticClass:"pr-1 text-normal"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-normal"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-1",attrs:{color:"red"}},[e._v(" mdi-close-circle-outline ")])],1)],1)],1)],1)},pa=[],ma={mixins:[Fe,Me.Z],data:function(){return{excludeAttr:["ts","type","id","index","distinguishedName","zone","record_bytes"],loading:!1,error:!1,submitted:!1}},props:{actionType:{type:String,default:"delete"},selectedRecords:Array,currentZone:String,viewKey:String},methods:{reset:function(){this.loading=!1,this.error=!1,this.submitted=!1},closeDialog:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],1!=s){r.next=11;break}return t.loading=!0,t.error=!1,t.errorMsg="",t.submitted=!1,a=[],t.selectedRecords.forEach((function(e){var r=e;r["zone"]=t.currentZone,a.push(r)})),console.log(a),r.next=11,new Js({}).delete({records:a}).then((function(e){t.loading=!1,t.error=!1,t.errorMsg="",t.submitted=!0,e.data.length==t.selectedRecords.length&&console.log("Records Deleted Successfully")})).catch((function(e){t.loading=!1,t.error=!0,t.errorMsg=t.getMessageForCode(e),t.submitted=!0,console.log(e)}));case 11:1==s&&1==t.submitted&&1!=t.error?setTimeout((function(){t.$emit("closeDialog",t.viewKey,s)}),150):t.$emit("closeDialog",t.viewKey);case 12:case"end":return r.stop()}}),r)})))()}}},va=ma,ga=(0,l.Z)(va,ua,pa,!1,null,null,null),ha=ga.exports;d()(ga,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VCol:Pe.Z,VDivider:Ye.Z,VFabTransition:Re.b0,VIcon:$e.Z,VProgressCircular:it.Z,VRow:Ee.Z});var fa={mixins:[Fe,Me.Z],components:{RecordDialog:aa,RecordDelete:da,RecordMassAction:ha},data:function(){return{selectedRecords:[],currentRecord:{name:"",type:1},zoneToCreate:"",showZoneAdd:!1,updateFlag:!1,singleExpand:!1,expanded:[],filteredData:[],enabledRecordTypes:{A:!0,AAAA:!0,NS:!0,TXT:!0,MX:!0,SOA:!0,CNAME:!0,PTR:!0,SRV:!0,Unsupported:!1},filterListOpen:!1,searchString:"",loading:!1,error:!1,errorMsg:"",readonly:!1,deleteMode:"record",lastOperation:"",ldap:{},dialogs:{recordDialog:!1,recordDelete:!1,recordMassAction:!1},dns:{headers:[],zones:[],records:[]},zoneFilter:{dnsZone:""}}},created:function(){this.ldap=be(),this.getDNSData(this.defaultZone)},watch:{enabledRecordTypes:{handler:function(e){this.filterData(e)},deep:!0},dialogs:{handler:function(e){e["recordDialog"]&&0!=e["recordDialog"]||this.$refs.RecordDialog.resetRecord(),this.$refs.RecordDialog.resetValidation()},deep:!0}},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},createZone:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.zoneCreateForm.validate()){t.next=3;break}return t.next=3,new Ks({}).insert({dnsZone:e.zoneToCreate}).then((function(){e.showZoneAdd=!1,e.zoneFilter["dnsZone"]=e.zoneToCreate,e.lastOperation="createZone",e.getDNSData(void 0,!1),e.zoneToCreate="",Ti.$emit("createNotification",{message:(e.$t("classes.dns.zone.single")+" "+e.$t("words.created.single.f")).toUpperCase(),type:"success"})})).catch((function(t){console.log(t),e.errorMsg=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.errorMsg.toUpperCase(),type:"error"})}));case 3:case"end":return t.stop()}}),t)})))()},zoneHasSOA:function(){return this.dns.records.filter((function(e){return 6==e.type})).length>0},resetCurrentRecord:function(){this.currentRecord={},this.currentRecord.name="",this.currentRecord.type=1},getExtrasFromRecord:function(e,t){var r={};t=t.map((function(e){return e.value}));var s=["id","record_bytes","zone"];for(var a in e)Object.hasOwnProperty.call(e,a)&&(t.includes(a)||s.includes(a)||(r[a]=e[a]));return r},filterAll:function(){for(var e in this.enabledRecordTypes)this.enabledRecordTypes[e]=!0},filterNone:function(){for(var e in this.enabledRecordTypes)this.enabledRecordTypes[e]=!1},filterData:function(e){var t;for(var r in this.filteredData=[],e)if(t=e[r],!0===t){var s,a=this.dns.records.filter((function(e){return e.typeName.toUpperCase()==r}));(s=this.filteredData).push.apply(s,(0,Ie.Z)(a))}},resetData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.enabledRecordTypes={A:!0,AAAA:!0,NS:!0,TXT:!0,MX:!0,SOA:!0,CNAME:!0,PTR:!0,SRV:!0,Unsupported:!1},this.ldap=be(),this.loading=!0,this.error=!1,this.errorMsg="",this.dns.headers=[],this.dns.zones=[],this.dns.records=[],!0===e&&(this.filterEnabledRecordTypes={})},loadFinished:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.filterData(this.enabledRecordTypes),this.loading=!1,void 0!=t){if(this.error=!0,void 0!=r&&r.length>0?this.errorMsg=r:this.errorMsg=this.getMessageForCode(t),!this.lastOperation||this.lastOperation.length<1){var s=this.errorMsg.length>0?this.errorMsg:this.$t("error.unableToLoad");this.createSnackbar({message:s,type:"error"}),"response"in t&&"data"in t.response&&"code"in t.response.data&&"dns_list_response_empty"==t.response.data.code&&setTimeout((function(){var t={message:e.$t("section.dns.legacyMode_hint").toUpperCase(),type:"warning"};Ti.$emit("createNotification",t)}),4e3)}}else(!this.lastOperation||this.lastOperation.length<1)&&this.createSnackbar({message:(this.$t("classes.dns.zone.single")+" "+this.$t("words.loaded.single.f")).toUpperCase(),type:"success"}),this.error=!1,this.errorMsg=""},openDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(!0===t?this.updateFlag=!0:"recordDialog"==e&&(this.updateFlag=!1,this.resetCurrentRecord()),this.dialogs[e]=!0,e){case"recordDialog":this.$refs.RecordDialog.resetValidation(),this.$refs.RecordDialog.syncRecord();break;case"recordDelete":this.$refs.RecordDelete.resetDelete();break;case"recordMassAction":this.$refs.RecordMassAction.reset();break;default:break}},editRecord:function(e){this.currentRecord=e,this.openDialog("recordDialog",!0)},openDeleteDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"record";this.deleteMode=t,this.currentRecord=e,this.openDialog("recordDelete")},closeDialog:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.length>1&&void 0!==t[1]&&t[1],r.dialogs[e]=!1,r.lastOperation=e,1==a&&"zone"==r.deleteMode?(r.zoneToCreate="",r.zoneFilter["dnsZone"]=r.ldap.domain,r.getDNSData(r.ldap.domain)):!0===a&&r.getDNSData(r.zoneFilter["dnsZone"]);case 4:case"end":return s.stop()}}),s)})))()},getDNSData:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s,a,o;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:void 0,a=e.length>1&&void 0!==e[1]&&e[1],1==a&&(t.lastOperation=""),void 0!=s&&null!=s&&s.length>0&&""!=s?t.zoneFilter["dnsZone"]=s:""==t.zoneFilter["dnsZone"]&&(t.zoneFilter["dnsZone"]=t.ldap.domain),o=t.zoneFilter,t.selectedRecords=[],t.resetData(),r.next=9,new Ks({}).zones({filter:o}).then((function(e){var r,s=e.data.headers;t.dns.zones=e.data.dnsZones,t.dns.records=e.data.records,s.forEach((function(e){r={},r.text=t.$t("dns.attributes."+e),r.width=r.text.length+1+"ch",r.value=e,"ts"==e&&(r.align="center",r.sortable=!1),"address"!=e&&"nameTarget"!=e||(r.width="35ch"),"displayName"!=e&&"typeName"!=e||(r.groupable=!0),t.dns.headers.push(r)})),r={},r.text=t.$t("actions.label"),r.value="actions",r.groupable=!1,r.width="6rem",r.align="center",r.sortable=!1,t.dns.headers.push(r),t.loadFinished(),1==e.data.legacy&&setTimeout((function(){var e={message:t.$t("section.dns.legacyMode"),type:"info"};Ti.$emit("createNotification",e)}),4e3)})).catch((function(e){console.log(e),t.reloadDataTableHeaders(),t.loadFinished(e,"")}));case 9:case"end":return r.stop()}}),r)})))()},reloadDataTableHeaders:function(){var e=this;this.dns.headers.forEach((function(t){"actions"==t.value?(t.text=e.$t("actions.label"),t.width=t.text.length+1+"ch"):(t.text=e.$t("dns.attributes."+t.value),t.width=t.text.length+1+"ch")}))},resetDataTable:function(){this.dns.headers=[],this.dns.zones=[],this.dns.records=[]}}},ba=fa,_a=(0,l.Z)(ba,qs,zs,!1,null,null,null),ya=_a.exports;d()(_a,{VBtn:He.Z,VCard:qe.Z,VCheckbox:We.Z,VDataTable:Pt.Z,VDialog:rr.Z,VDivider:Ye.Z,VExpandTransition:Re.Fx,VForm:tt.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemTitle:ot.V9,VMenu:ar.Z,VRow:Ee.Z,VSelect:or.Z,VTextField:pt.Z,VTooltip:nr.Z});var Ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"ma-0 pa-0",attrs:{outlined:"",flat:""}},[r("v-progress-linear",{attrs:{indeterminate:1==e.testing,value:e.testFinished?100:0,color:e.testFinished?e.testError?"red":"valid":"primary"}}),r("v-row",{staticClass:"ma-0 ma-1 px-4 py-0 sticky-top",staticStyle:{top:"3.5rem !important","z-index":"10 !important"},attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 mx-1 text-normal",attrs:{disabled:e.readonly||e.loading,elevation:"0",color:"red"},on:{click:function(t){e.resetDialog=!0}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-backup-restore ")]),e._v(" "+e._s(e.$t("actions.restoreDefaultValues"))+" ")],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 mx-1 bg-white bg-lig-15",attrs:{disabled:e.readonly||e.loading,elevation:"0"},on:{click:e.testSettings}},[r("span",{staticClass:"text-normal"},[e._v(" "+e._s(e.$t("actions.testSettings"))+" ")]),r("v-progress-circular",{staticClass:"ml-3",attrs:{indeterminate:1==e.testing,value:e.testFinished?100:0,color:e.testFinished?e.testError?"red":"green":"primary",size:"26"}},[r("v-fab-transition",[e.testing||e.testFinished?e.testFinished&&!e.testError?r("v-icon",[e._v(" mdi-checkbox-marked-circle ")]):1==e.testFinished&&1==e.testError?r("v-icon",[e._v(" mdi-close-circle ")]):e._e():r("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-blur-radial ")])],1)],1)],1)],1),r("v-row",{staticClass:"ma-0 ma-1 px-4 py-0 mb-4 sticky-top",staticStyle:{top:"6.3rem !important","z-index":"10 !important"},attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 mr-0 bg-white bg-lig-15 text-normal",staticStyle:{"border-radius":"0","border-bottom-left-radius":"0.3rem","border-top-left-radius":"0.3rem"},attrs:{disabled:e.readonly||e.loading,elevation:"0"},on:{click:e.saveSettings}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-content-save ")]),e._v(" "+e._s(e.$t("actions.save"))+" ")],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 ml-0 text-normal",staticStyle:{"border-radius":"0","border-bottom-right-radius":"0.3rem","border-top-right-radius":"0.3rem"},attrs:{elevation:"0",color:"primary"},on:{click:e.refreshSettings}},[r("v-icon",{class:(1==e.loading?"custom-loader":"")+" mr-1"},[e._v(" mdi-cached ")]),e._v(" "+e._s(e.$t("actions.refresh"))+" ")],1)],1),r("v-row",{staticClass:"mx-1",attrs:{justify:"center"}},[r("v-checkbox",{attrs:{"off-icon":"mdi-close-box",label:e.$t("section.settings.defaultAdminIs")+" "+(e.defaultAdminEnabled?e.$t("words.enabled"):e.$t("words.disabled"))},model:{value:e.defaultAdminEnabled,callback:function(t){e.defaultAdminEnabled=t},expression:"defaultAdminEnabled"}})],1),r("v-row",{staticClass:"mx-1",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8",md:"4",xl:"3"}},[r("v-text-field",{ref:"defaultAdminPwd",attrs:{type:"password",rules:[this.fieldRules(e.defaultAdminPwd,"ge_password",e.defaultAdminPwdConfirm.length>0)],label:"Change Default Admin Password"},model:{value:e.defaultAdminPwd,callback:function(t){e.defaultAdminPwd=t},expression:"defaultAdminPwd"}})],1),r("v-col",{attrs:{cols:"8",md:"4",xl:"3"}},[r("v-text-field",{ref:"defaultAdminPwdConfirm",attrs:{type:"password",rules:[this.fieldRules(e.defaultAdminPwdConfirm,"ge_password",e.defaultAdminPwd.length>0)],label:"Confirm Default Admin Password"},model:{value:e.defaultAdminPwdConfirm,callback:function(t){e.defaultAdminPwdConfirm=t},expression:"defaultAdminPwdConfirm"}})],1)],1),r("v-slide-y-transition",[1==e.invalid?r("v-row",{attrs:{justify:"center"}},[r("v-alert",{attrs:{type:"warning",dense:""}},[e._v(" "+e._s(e.$t("section.settings.settingFailedValidation"))+" ")])],1):e._e()],1),r("v-slide-y-transition",[1==e.showSettings?r("div",[r("v-form",{ref:"settingsForm",on:{submit:function(e){e.preventDefault()}}},[r("v-row",e._l(e.config,(function(t,s){return r("v-col",{key:s,attrs:{cols:"12"}},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("h4",[e._v(" "+e._s(e.$t("section.settings.headers."+s))+" ")])]),e._l(t,(function(t,s){return r("v-row",{key:s,staticClass:"ma-1 pa-1",attrs:{align:"center",justify:"center"}},e._l(t,(function(t,s){return r("v-col",{key:s,class:"ma-0 pa-0 py-0 px-4",attrs:{cols:"10",md:e.getColSize(s,"md"),lg:e.getColSize(s,"lg")}},["checkbox"==t.type||"boolean"==t.type||"bool"==t.type?r("v-checkbox",{class:"pa-0 ma-0 "+("LDAP_AUTH_USE_TLS"==s?"mt-4":"")+" "+t.extraClasses,attrs:{disabled:t.disabled,readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),"persistent-hint":t.persistentHint,label:e.$t("section.settings.fields."+s)},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):"list"==t.type||"array"==t.type?r("v-card",{staticClass:"ma-0 px-6 py-2",attrs:{flat:"",outlined:""}},[r("v-row",{staticClass:"ma-0 pa-0"},[r("v-text-field",{ref:"LIST_KEY_"+s,refInFor:!0,attrs:{label:e.$t("section.settings.fields."+s),readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),"persistent-hint":t.persistentHint,required:!(!t.required||0!=t.value.length),rules:t.validator?[e.fieldRules(t.add,t.validator,!(!t.required||0!=t.value.length))]:void 0,id:"LIST_KEY_"+s},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addToArray(t.add,t,"LIST_KEY_"+s)}},model:{value:t.add,callback:function(r){e.$set(t,"add",r)},expression:"item.add"}}),r("v-btn",{staticClass:"bg-primary text-white mt-3 ml-5",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",icon:""},on:{click:function(r){return e.addToArray(t.add,t,"LIST_KEY_"+s)}}},[r("v-icon",[e._v(" mdi-plus ")])],1)],1),e._l(t.value,(function(s,a){return r("v-list-item",{key:a},[r("v-list-item-content",[e._v(" "+e._s(s)+" ")]),r("v-list-item-action",[r("v-btn",{staticClass:"bg-primary text-white ml-5",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",small:"",icon:""},on:{click:function(r){return e.removeFromArray(s,t)}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-minus ")])],1)],1)],1)}))],2):"ldap_uri"==t.type?r("v-card",{staticClass:"ma-0 px-6 py-2",attrs:{flat:"",outlined:""}},[r("v-row",{staticClass:"ma-0 pa-0"},[r("v-col",{attrs:{cols:"3"}},[r("v-select",{ref:"ldapUriPrefix",refInFor:!0,attrs:{label:e.$t("section.settings.fields.LDAP_URI_PREFIX"),id:"ldapUriPrefix",readonly:t.readonly||1==e.readonly,items:["ldap://","ldaps://"]},model:{value:t.addPREFIX,callback:function(r){e.$set(t,"addPREFIX",r)},expression:"item.addPREFIX"}})],1),r("v-col",[r("v-text-field",{ref:"ldapUriIP",refInFor:!0,attrs:{label:e.$t("section.settings.fields.LDAP_URI_IP"),readonly:t.readonly||1==e.readonly,required:!(!t.required||0!=t.value.length),rules:[e.fieldRules(t.addIP,"net_ip",!!(t.required&&0==t.value.length||t.addPORT.length>0))],id:"ldapUriIP"},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addServer(t)}},model:{value:t.addIP,callback:function(r){e.$set(t,"addIP",r)},expression:"item.addIP"}})],1),r("v-col",[r("v-text-field",{ref:"ldapUriPort",refInFor:!0,attrs:{label:e.$t("section.settings.fields.LDAP_URI_PORT"),readonly:t.readonly||1==e.readonly,hint:e.$t("section.settings.fields.LDAP_URI_PORT_HINT"),"persistent-hint":"",required:!(!t.required||0!=t.value.length),rules:[e.fieldRules(t.addPORT,"net_port",!!(t.required&&0==t.value.length||t.addIP.length>0))],id:"ldapUriPort"},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addServer(t)}},model:{value:t.addPORT,callback:function(r){e.$set(t,"addPORT",r)},expression:"item.addPORT"}})],1),r("v-btn",{staticClass:"bg-primary text-white mt-3 ml-5",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",icon:""},on:{click:function(r){return e.addServer(t)}}},[r("v-icon",[e._v(" mdi-plus ")])],1)],1),e._l(t.value,(function(s,a){return r("v-list-item",{key:a},[r("v-list-item-content",[e._v(" "+e._s(s)+" ")]),r("v-list-item-action",[r("v-btn",{staticClass:"bg-primary text-white ml-5",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",small:"",icon:""},on:{click:function(r){return e.removeFromArray(s,t)}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-minus ")])],1)],1)],1)}))],2):"object"==t.type?r("v-card",{staticClass:"ma-0 px-6 py-2 pt-4",attrs:{flat:"",outlined:""}},[r("span",{staticClass:"font-weight-normal"},[e._v(" "+e._s(e.$t("section.settings.fields."+s))+" ")]),r("v-row",{staticClass:"ma-0 pa-0"},[r("v-text-field",{ref:"OBJ_KEY_"+s,refInFor:!0,staticClass:"px-2",attrs:{label:e.$t("words.key"),readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),"persistent-hint":t.persistentHint,required:!(!t.required||0!=t.value.length),rules:t.validator?[e.fieldRules(t.keyToAdd,t.validator,e.getRequired(t.required,!0))]:void 0,id:"OBJ_KEY_"+s},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addToObject(t,t.keyToAdd,t.valueToAdd)}},model:{value:t.keyToAdd,callback:function(r){e.$set(t,"keyToAdd",r)},expression:"item.keyToAdd"}}),r("v-text-field",{ref:"OBJ_VAL_"+s,refInFor:!0,staticClass:"px-2",attrs:{label:e.$t("words.value"),readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),"persistent-hint":t.persistentHint,required:!(!t.required||0!=t.value.length),rules:t.validator?[e.fieldRules(t.valueToAdd,t.validator,e.getRequired(t.required,!0,!0))]:void 0,id:"OBJ_VAL_"+s},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addToObject(t,t.keyToAdd,t.valueToAdd)}},model:{value:t.valueToAdd,callback:function(r){e.$set(t,"valueToAdd",r)},expression:"item.valueToAdd"}}),r("v-btn",{staticClass:"bg-primary text-white mt-3 ml-5",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",icon:""},on:{click:function(r){return e.addToObject(t,t.keyToAdd,t.valueToAdd)}}},[r("v-icon",[e._v(" mdi-plus ")])],1)],1),e._l(t.value,(function(s,a){return r("v-list-item",e._b({key:a},"v-list-item",t.value,!1),[r("v-list-item-content",{staticClass:"ma-0 pa-0"},[r("v-col",{staticClass:"ma-0 pa-0 px-2 py-1",attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",label:e.$t("words.key"),value:a,readonly:""}})],1),r("v-col",{staticClass:"ma-0 pa-0 px-2 py-1",attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",label:e.$t("words.value"),value:s,readonly:""}})],1)],1),r("v-list-item-action",{staticClass:"ma-0 pa-0"},[r("v-btn",{staticClass:"bg-primary text-white ml-2 mb-7",attrs:{disabled:t.readonly||1==e.readonly,rounded:"",small:"",icon:""},on:{click:function(r){return e.removeFromObject(t,a)}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-minus ")])],1)],1)],1)}))],2):"select"==t.type?r("v-select",{attrs:{label:e.$t("section.settings.fields."+s),readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),"persistent-hint":t.persistentHint,id:s,items:t.choices},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):"password"==t.type?r("v-text-field",{attrs:{type:t.hidden?"password":"text",readonly:t.readonly||1==e.readonly,required:"","append-icon":1==e.readonly?void 0:t.hidden?"mdi-eye":"mdi-eye-off",dense:"",label:e.$t("ldap.attributes.password"),rules:[e.fieldRules(t.value,"ge_password",e.getRequired(t.required))]},on:{"click:append":function(){return t.hidden=!t.hidden}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}):r("v-text-field",{class:t.extraClasses,attrs:{label:e.$t("section.settings.fields."+s),readonly:t.readonly||1==e.readonly,hint:e.$t(t.hint),rules:t.validator?[e.fieldRules(t.value,t.validator,t.required)]:void 0,"persistent-hint":t.persistentHint,id:s},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})],1)})),1)}))],2)})),1)],1)],1):e._e()]),r("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.resetDialog,callback:function(t){e.resetDialog=t},expression:"resetDialog"}},[r("SettingsResetDialog",{on:{resetConfirm:e.restoreDefaultValues,closeDialog:function(t){e.resetDialog=!1}}})],1)],1)},wa=[],ka=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"key",void 0),(0,E.Z)((0,R.Z)(s),"value",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("settings/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("settings/reset");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"test",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("settings/test",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("settings/save",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),xa=ka,Da=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.settings.resetDialog.header"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0 my-8"},[r("span",{staticClass:"font-weight-medium text-inverted",domProps:{innerHTML:e._s(e.$t("section.settings.resetDialog.message"))}})]),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25 text-normal",attrs:{rounded:""},on:{click:e.resetConfirm}},[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-checkbox-marked-circle ")]),r("span",{staticClass:"pr-1"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-white"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(" mdi-close-circle ")])],1)],1)],1)],1)},Ta=[],Sa={name:"settingsResetDialog",methods:{resetConfirm:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("resetConfirm");case 1:case"end":return t.stop()}}),t)})))()},closeDialog:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("closeDialog");case 1:case"end":return t.stop()}}),t)})))()}}},Aa=Sa,Za=(0,l.Z)(Aa,Da,Ta,!1,null,null,null),Pa=Za.exports;d()(Za,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z});var Ra={mixins:[Fe,Me.Z],components:{SettingsResetDialog:Pa},data:function(){return{testing:!1,testError:!1,testFinished:!1,readonly:!0,invalid:!1,loading:!0,resetDialog:!1,showSettings:!1,defaultAdminEnabled:!0,defaultAdminPwd:"",defaultAdminPwdConfirm:"",config:{log:{row1:{LDAP_LOG_MAX:{value:0,validator:"set_log_max",type:"integer",extraClasses:"mb-4"},LDAP_LOG_CREATE:{value:!1,type:"boolean"},LDAP_LOG_READ:{value:!1,type:"boolean"},LDAP_LOG_UPDATE:{value:!1,type:"boolean"},LDAP_LOG_DELETE:{value:!1,type:"boolean"},LDAP_LOG_OPEN_CONNECTION:{value:!1,type:"boolean"},LDAP_LOG_CLOSE_CONNECTION:{value:!1,type:"boolean"},LDAP_LOG_LOGIN:{value:!1,type:"boolean"},LDAP_LOG_LOGOUT:{value:!1,type:"boolean"}}},domain:{row1:{LDAP_AUTH_URL:{value:[],addPREFIX:"ldap://",addIP:"",addPORT:"",type:"ldap_uri",required:!0,validator:"ldap_uri"}},row2:{LDAP_DOMAIN:{value:"",hint:"section.settings.fields.LDAP_DOMAIN_HINT",validator:"ldap_website"},LDAP_AUTH_SEARCH_BASE:{value:"",hint:"section.settings.fields.LDAP_AUTH_SEARCH_BASE_HINT",validator:"ldap_dn"},LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN:{value:"",hint:"section.settings.fields.LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN_HINT",validator:"ldap_realm"},LDAP_DNS_LEGACY:{value:!1,type:"boolean",hint:"section.settings.fields.LDAP_DNS_LEGACY_HINT",persistentHint:!0}}},bindUser:{row1:{LDAP_AUTH_CONNECTION_USER_DN:{value:"",validator:"ldap_dn"},LDAP_AUTH_CONNECTION_PASSWORD:{value:"",type:"password",hidden:!0,required:"config.bindUser.row1.LDAP_AUTH_CONNECTION_USER_DN"}}},connection:{row1:{LDAP_AUTH_CONNECT_TIMEOUT:{value:5,type:"integer",validator:"ge_numbers"},LDAP_AUTH_RECEIVE_TIMEOUT:{value:5,type:"integer",validator:"ge_numbers"},LDAP_AUTH_USE_SSL:{value:!1,type:"boolean",extraClasses:"mb-2",hint:"section.settings.fields.LDAP_USE_SSL_HINT",persistentHint:!0}},row2:{LDAP_AUTH_USE_TLS:{value:!1,type:"boolean",hint:"section.settings.fields.LDAP_USE_SSL_HINT",persistentHint:!0},LDAP_AUTH_TLS_VERSION:{value:"PROTOCOL_TLSv1_2",choices:["PROTOCOL_TLSv1","PROTOCOL_TLSv1_1","PROTOCOL_TLSv1_2","PROTOCOL_TLS","PROTOCOL_TLS_CLIENT"],hint:"section.settings.fields.LDAP_AUTH_TLS_VERSION_HINT",persistentHint:!0,type:"select"}}},filters:{row1:{ADMIN_GROUP_TO_SEARCH:{value:""},LDAP_AUTH_OBJECT_CLASS:{value:""}},row2:{EXCLUDE_COMPUTER_ACCOUNTS:{value:!1,type:"boolean"}},row3:{LDAP_AUTH_USER_FIELDS:{value:{},keyToAdd:"",valueToAdd:"",type:"object"}}}}}},props:{viewTitle:String},mounted:function(){this.refreshSettings()},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},getRequired:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!0===e||!1===e)return e;e=e.split(".");var s=this[e[0]];return e.forEach((function(e,t){0!=t&&(s=s[e])})),1==t&&1==r?s["keyToAdd"]:1==t?s["valueToAdd"]:s["value"]},getColSize:function(e,t){switch(!0){case/LDAP_LOG_[A-Z]{0,}/.test(e):return this.$vuetify.breakpoint.mdAndUp?8:10;default:break}switch(e){case"LDAP_AUTH_URL":return"md"==t?10:8;case"LDAP_AUTH_USE_TLS":return 3;case"LDAP_AUTH_TLS_VERSION":return 5;default:return 8}},testSettings:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.settingsForm.validate("settingsForm")&&e.$refs.defaultAdminPwd.validate()&&e.$refs.defaultAdminPwdConfirm.validate()?(e.invalid=!1,e.testing=!0,e.testFinished=!1,e.testError=!1):(e.invalid=!0,e.testing=!1,e.testFinished=!0,e.testError=!0),e.invalid){t.next=6;break}return r={},r=e.getConfigValues(),t.next=6,new xa({}).test(r).then((function(){setTimeout((function(){e.testing=!1,e.testFinished=!0,e.testError=!1,e.createSnackbar({message:e.$t("section.settings.testSuccess").toUpperCase(),type:"success"})}),500)})).catch((function(t){console.log(t),e.createSnackbar({message:e.getMessageForCode(t),type:"error"}),setTimeout((function(){e.testing=!1,e.testFinished=!0,e.testError=!0}),500)}));case 6:case"end":return t.stop()}}),t)})))()},saveSettings:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.settingsForm.validate("settingsForm")&&e.$refs.defaultAdminPwd.validate()&&e.$refs.defaultAdminPwdConfirm.validate()?e.invalid=!1:e.invalid=!0,e.invalid){t.next=9;break}return r={},r=e.getConfigValues(),r["DEFAULT_ADMIN_ENABLED"]=e.defaultAdminEnabled,r["DEFAULT_ADMIN_PWD"]=e.defaultAdminPwd,t.next=8,new xa({}).save(r).then((function(){e.createSnackbar({message:(e.$t("classes.setting.plural")+" "+e.$t("words.saved.plural.m")).toUpperCase(),type:"success"})})).catch((function(t){console.log(t),e.createSnackbar({message:e.getMessageForCode(t),type:"error"})}));case 8:e.refreshSettings;case 9:case"end":return t.stop()}}),t)})))()},clearLogs:function(){return(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},pruneLogs:function(){return(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},validateSettings:function(){void 0!=this.$refs.settingsForm&&(this.$refs.settingsForm.validate("settingsForm")?this.invalid=!1:this.invalid=!0),this.readonly=!0,this.testFinished&&(this.testing=!1,this.testFinished=!1,this.testError=!1)},refreshSettings:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.invalid=!1,e.testing=!1,e.testError=!1,e.testFinished=!1,t.next=6,new xa({}).list().then((function(t){var r=t.data.settings;for(var s in e.defaultAdminEnabled=r["DEFAULT_ADMIN_ENABLED"],e.defaultAdminPwd="",e.defaultAdminPwdConfirm="",r)if(Object.hasOwnProperty.call(r,s)){var a=r[s]["value"],o=r[s]["type"];for(var i in e.config)for(var n in e.config[i]){var l=e.config[i][n];for(var c in l)c==s&&(l[c]["value"]=a,l[c]["type"]=o)}}e.loading=!1,e.createSnackbar({message:(e.$t("classes.setting.plural")+" "+e.$t("words.loaded.plural.m")).toUpperCase(),type:"success"}),setTimeout((function(){e.showSettings=!0,e.readonly=!1}),300),e.error=!1})).catch((function(t){console.log(t),e.loading=!1,e.createSnackbar({message:e.getMessageForCode(t),type:"error"}),setTimeout((function(){e.showSettings=!1}),250),e.error=!0,e.readonly=!1}));case 6:case"end":return t.stop()}}),t)})))()},restoreDefaultValues:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.resetDialog=!1,e.loading=!0,t.next=4,new xa({}).reset().then((function(){setTimeout((function(){e.refreshSettings(),e.loading=!1}),550)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},getConfigValues:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};for(var r in this.config)for(var s in this.config[r]){var a=this.config[r][s];for(var o in a)t[o]={},t[o]["value"]=a[o]["value"],a[o]["type"]?t[o]["type"]=a[o]["type"]:t[o]["type"]="string"}return 1==e&&console.log(t),t},addToObject:function(e,t,r){e["value"][t]=r,e.valueToAdd="",e.keyToAdd=""},removeFromObject:function(e,t){delete e["value"][t],this.$forceUpdate()},addServer:function(e){var t=this,r=["ldapUriPrefix","ldapUriIP","ldapUriPort"],s=!0;if(r.forEach((function(e){t.$refs[e][0].validate()||(s=!1)})),e.addIP.length<=0||e.addPORT.length<=0)return!1;if(1==s){var a=e.addPREFIX+e.addIP+":"+e.addPORT;this.addToArray(a,e),this.config.domain.row1.LDAP_AUTH_URL.addIP="",this.config.domain.row1.LDAP_AUTH_URL.addPORT=""}},addToArray:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=t.value;return r?this.$refs[r][0].validate()&&!s.includes(e)&&s&&e&&(s=s.push(e)):!s.includes(e)&&s&&e&&(s=s.push(e)),s},removeFromArray:function(e,t){return t.value.includes(e)&&Array.isArray(t.value)&&(t.value=t.value.filter((function(t){return t!==e}))),t.value}}},$a=Ra,Oa=(0,l.Z)($a,Ca,wa,!1,null,null,null),Ea=Oa.exports;d()(Oa,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCheckbox:We.Z,VCol:Pe.Z,VDialog:rr.Z,VFabTransition:Re.b0,VForm:tt.Z,VIcon:$e.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemContent:ot.km,VProgressCircular:it.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VSelect:or.Z,VSlideYTransition:Re.cu,VTextField:pt.Z});var Ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-data-table",{staticClass:"py-3 px-2 mt-2 mb-2",attrs:{headers:this.tableData.headers,items:this.tableData.items,"custom-sort":e.sortNullLast,loading:e.loading,search:e.searchString,"footer-props":{"items-per-page-options":[10,25,50,100,-1]},"sort-by":"date","sort-desc":!0},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-row",{staticClass:"px-2 mx-1 py-0 my-0",attrs:{align:"center"}},[r("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",label:e.$t("actions.search")},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),r("v-row",{staticClass:"pa-0 px-4",staticStyle:{"max-width":"fit-content"},attrs:{justify:"end"}},[r("v-btn",{staticClass:"mx-2 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:e.listLogs},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1),r("v-btn",{staticClass:"pa-2 mx-2",attrs:{disabled:e.loading,color:"primary"},on:{click:function(t){return e.openResetLogsDialog()}}},[r("v-icon",{staticClass:"ma-0 pa-0 mr-1"},[e._v("mdi-fire")]),e._v(" "+e._s(e.$t("actions.delete")+" "+e.$t("classes.log.plural"))+" ")],1)],1)],1),r("v-row",{staticClass:"ma-0 pa-0 px-4 mt-4",attrs:{justify:"center",align:"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",lg:"6"}},[r("v-range-slider",{staticClass:"mx-4",attrs:{label:e.$t("section.logs.viewAction.truncate.slider"),min:e.getLogTruncateMin,max:e.getLogTruncateMax},model:{value:e.logTruncateRange,callback:function(t){e.logTruncateRange=t},expression:"logTruncateRange"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"10",lg:"3"}},[r("v-row",{staticClass:"ma-0 pa-0"},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"6"}},[r("v-text-field",{staticClass:"mx-4",attrs:{label:e.$t("section.logs.viewAction.truncate.min")},model:{value:e.logTruncateRange[0],callback:function(t){e.$set(e.logTruncateRange,0,t)},expression:"logTruncateRange[0]"}})],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"6"}},[r("v-text-field",{staticClass:"mx-4",attrs:{label:e.$t("section.logs.viewAction.truncate.max")},model:{value:e.logTruncateRange[1],callback:function(t){e.$set(e.logTruncateRange,1,t)},expression:"logTruncateRange[1]"}})],1)],1)],1),r("v-col",{staticClass:"ma-0 my-4 pa-0",attrs:{cols:"12",lg:"3",xl:"2"}},[r("v-btn",{staticClass:"mx-4 pa-0 px-2",attrs:{outlined:"",color:"primary"},on:{click:e.openTruncateLogsDialog}},[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-content-cut ")]),e._v(" "+e._s(e.$t("section.logs.viewAction.truncate.button"))+" ")],1)],1)],1)]},proxy:!0},{key:"item.actionType",fn:function(t){var s=t.item;return[r("v-chip",{class:"text-"+(e.getColorForActionType(s.actionType)[1]||"inverted"),attrs:{color:e.getColorForActionType(s.actionType)[0],"text-color":e.getColorForActionType(s.actionType)[1]||void 0}},[e._v(" "+e._s(e.$t("section.logs.actionType."+s.actionType))+" ")])]}},{key:"item.objectClass",fn:function(t){var s=t.item;return[r("v-row",{staticClass:"px-6 my-2",attrs:{justify:"center",align:"center"}},[r("v-icon",{staticClass:"mr-2",attrs:{small:e.$vuetify.breakpoint.mdAndDown,color:e.getIconForObjectClass(s.objectClass)[1]||void 0}},[e._v(" "+e._s(e.getIconForObjectClass(s.objectClass)[0])+" ")]),r("span",[e._v(" "+e._s(e.$t("classes."+e.getObjectClassTranslationKey(s.objectClass)+".single"))+" ")])],1)]}},{key:"item.affectedObject",fn:function(t){var s=t.item;return[r("div",{staticClass:"py-2"},[s.affectedObject&&Array.isArray(s.affectedObject)&&s.affectedObject.length>0?r("v-menu",{attrs:{"close-on-content-click":!1,top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"pa-0 px-2 pr-3",staticStyle:{"min-width":"32px"},attrs:{elevation:"0",text:"",color:"primary"}},"v-btn",a,!1),s),[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-information ")]),e._v(" "+e._s(e.$t("section.logs.seeDetails"))+" ")],1)]}}],null,!0)},[r("v-list",{staticClass:"pa-2"},e._l(s.affectedObject,(function(t,s){return r("span",{key:s},[r("v-list-item-title",[e._v(" "+e._s("object"===typeof t?t.name:t)+" ")]),"object"===typeof t&&t.old_value?r("v-list-item-subtitle",{staticClass:"my-2"},[r("v-chip",{staticClass:"ml-4",attrs:{outlined:""}},[e._v(" "+e._s(e.$t("section.logs.prevValue")+": "+t.old_value)+" ")])],1):e._e(),"object"===typeof t&&t.new_value?r("v-list-item-subtitle",{staticClass:"my-2"},[r("v-chip",{staticClass:"ml-4",attrs:{outlined:""}},[e._v(" "+e._s(e.$t("section.logs.newValue")+": "+t.new_value)+" ")])],1):e._e()],1)})),0)],1):s.affectedObject&&s.affectedObject.length>0?r("v-chip",{staticClass:"mx-1",attrs:{outlined:""}},[e._v(" "+e._s(s.affectedObject)+" ")]):e._e()],1)]}},{key:"item.extraMessage",fn:function(t){var s=t.item;return[s.extraMessage?r("v-chip",{staticClass:"ma-0 pa-0 hide-chip",attrs:{color:"transparent"}},[e._v(" "+e._s(e.$t("section.logs.extras."+s.extraMessage.toLowerCase()))+" ")]):e._e()]}}],null,!0)}),r("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.resetDialog,callback:function(t){e.resetDialog=t},expression:"resetDialog"}},[r("LogResetDialog",{attrs:{logAction:e.logAction},on:{resetConfirm:e.resetLogs,truncateConfirm:e.truncateLogs,closeDialog:function(t){e.resetDialog=!1}}})],1)],1)},La=[],Na=(r(2707),function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"id",void 0),(0,E.Z)((0,R.Z)(s),"user",void 0),(0,E.Z)((0,R.Z)(s),"actionType",void 0),(0,E.Z)((0,R.Z)(s),"objectClass",void 0),(0,E.Z)((0,R.Z)(s),"affectedObject",void 0),(0,E.Z)((0,R.Z)(s),"extraMessage",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("log/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("log/reset");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"truncate",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("log/truncate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve)),Ia=Na,Va=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("section.logs."+this.logAction+"Dialog.header"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"pa-0 ma-0 my-8"},[r("span",{staticClass:"font-weight-medium text-inverted",domProps:{innerHTML:e._s(e.$t("section.logs."+this.logAction+"Dialog.message"))}})]),r("v-card-actions",{staticClass:"card-actions"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1 bg-white bg-lig-25 text-normal",attrs:{rounded:""},on:{click:e.resetConfirm}},[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-checkbox-marked-circle ")]),r("span",{staticClass:"pr-1"},[e._v(" "+e._s(e.$t("actions.yes"))+" ")])],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-2 ma-1",attrs:{color:"primary",rounded:""},on:{click:e.closeDialog}},[r("span",{staticClass:"pl-1 text-white"},[e._v(" "+e._s(e.$t("actions.no"))+" ")]),r("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(" mdi-close-circle ")])],1)],1)],1)],1)},ja=[],Fa={name:"settingsResetDialog",props:{logAction:String},methods:{resetConfirm:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.logAction,t.next="truncate"===t.t0?3:"reset"===t.t0?5:7;break;case 3:return e.$emit("truncateConfirm"),t.abrupt("break",9);case 5:return e.$emit("resetConfirm"),t.abrupt("break",9);case 7:return console.log("No action defined for Log Reset Dialog emit"),t.abrupt("break",9);case 9:case"end":return t.stop()}}),t)})))()},closeDialog:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("closeDialog");case 1:case"end":return t.stop()}}),t)})))()}}},Ma=Fa,Ga=(0,l.Z)(Ma,Va,ja,!1,null,null,null),Ba=Ga.exports;d()(Ga,{VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardText:ze.ZB,VCardTitle:ze.EB,VDivider:Ye.Z,VIcon:$e.Z,VRow:Ee.Z});var Ha={mixins:[Fe,Me.Z],components:{LogResetDialog:Ba},data:function(){return{logTruncateRange:[0,0],logAction:"",readonly:!1,fetchingData:!1,resetDialog:!1,tableData:{headers:[],items:[]},searchString:"",loading:!1,error:!1,dialogs:{logDelete:!1}}},computed:{getLogTruncateMin:function(){var e=this.tableData.items.map((function(e){return e.id}));return e.sort((function(e,t){return e>t}))[0]},getLogTruncateMax:function(){var e=this.tableData.items.map((function(e){return e.id}));return e=e.sort((function(e,t){return e>t})),e[e.length-1]}},mounted:function(){this.listLogs()},props:{viewTitle:String},methods:{createSnackbar:function(e){Ti.$emit("createNotification",e)},resetSearch:function(){this.searchString=""},getObjectClassTranslationKey:function(e){switch(e){case"USER":return"user";case"GROUP":return"group";case"OU":return"organizational-unit";case"DOM":return"domain-entry";case"GPO":return"group-policy-object";case"CONN":return"connection";case"SET":return"setting";case"DNSZ":return"dns.zone";case"DNSR":return"dns.record";default:return"ldap"}},getColorForActionType:function(e){switch(e){case"CREATE":return["green","white"];case"READ":return["primary","white"];case"UPDATE":return["orange","white"];case"DELETE":return["secondary","white"];default:return["secondary","white"]}},getIconForObjectClass:function(e){switch(e){case"USER":return["mdi-account","primary"];case"GROUP":return["mdi-account-multiple","blue"];case"OU":return["mdi-folder"];case"DOM":return["mdi-dns"];case"GPO":return["mdi-google-circles-extended"];case"CONN":return["mdi-web","orange"];case"SET":return["mdi-cog","orange"];case"DNSZ":return["mdi-google-circles","orange"];case"DNSR":return["mdi-google-circles-group","orange"];default:return["mdi-group"]}},openDialog:function(e){switch(this.dialogs[e]=!0,e){default:break}},closeDialog:function(e){var t=arguments,r=this;return(0,x.Z)((0,k.Z)().mark((function s(){var a;return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.length>1&&void 0!==t[1]&&t[1],r.dialogs[e]=!1,a&&r.listLogs();case 3:case"end":return s.stop()}}),s)})))()},reloadDataTableHeaders:function(){var e=this;this.tableData.headers.forEach((function(t){void 0!=t.value&&(t.text=e.$t("section.logs.headers."+t.value))}))},resetDataTable:function(){this.tableData.headers=[],this.tableData.items=[]},listLogs:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.error=!1,e.tableData.headers=[],e.tableData.items=[],t.next=6,new Ia({}).list().then((function(t){var r=t.headers,s=t.logs;e.resetDataTable();var a={};r.forEach((function(t){a={},a.text=e.$t("section.logs.headers."+t),a.value=t,"actionType"!=t&&"objectClass"!=t||(a.align="center"),e.tableData.headers.push(a)})),a={},e.tableData.headers.push(a),e.tableData.items=s,e.loading=!1,e.error=!1,e.createSnackbar({message:(e.$t("classes.log.plural")+" "+e.$t("words.loaded.plural.m")).toUpperCase(),type:"success"}),e.logTruncateRange=[e.getLogTruncateMin,e.getLogTruncateMax]})).catch((function(t){console.log(t),e.loading=!1,e.error=!0,e.createSnackbar({message:e.getMessageForCode(t),type:"error"})}));case 6:case"end":return t.stop()}}),t)})))()},openResetLogsDialog:function(){this.resetDialog=!0,this.logAction="reset"},openTruncateLogsDialog:function(){this.resetDialog=!0,this.logAction="truncate"},resetLogs:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Ia({}).reset().then((function(){e.resetDialog=!1,e.logAction="",e.listLogs()})).catch((function(t){console.log(t),e.resetDialog=!1,e.logAction=""}));case 2:case"end":return t.stop()}}),t)})))()},truncateLogs:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={},r["min"]=e.logTruncateRange[0],r["max"]=e.logTruncateRange[1],t.next=5,new Ia({}).truncate(r).then((function(){e.resetDialog=!1,e.logAction="",e.listLogs()})).catch((function(t){console.log(t),e.resetDialog=!1,e.logAction=""}));case 5:case"end":return t.stop()}}),t)})))()}}},qa=Ha,za=r(1436),Wa=(0,l.Z)(qa,Ua,La,!1,null,null,null),Ka=Wa.exports;d()(Wa,{VBtn:He.Z,VChip:Ke.Z,VCol:Pe.Z,VDataTable:Pt.Z,VDialog:rr.Z,VIcon:$e.Z,VList:rt.Z,VListItemSubtitle:ot.oZ,VListItemTitle:ot.V9,VMenu:ar.Z,VRangeSlider:za.Z,VRow:Ee.Z,VTextField:pt.Z});var Ya={name:"ModularViewContainer",mixins:[Fe],components:{UserView:Ur,GroupView:gs,DirtreeView:Hs,dnsView:ya,SettingsCard:Ea,LogView:Ka},props:{viewTitle:String,viewIndex:Number,langChanged:Boolean,requestRefresh:String,initLoad:Boolean},data:function(){return{refreshUserDataTable:!1,refreshGroupDataTable:!1,refreshDNSData:!1,refreshOnClose:!1,userRefreshLoading:!1,error:!1,snackbarMessage:"",snackbarIcon:"",snackbarColor:"",snackbarClasses:"",snackbar:!1,snackbarTimeout:2500}},watch:{langChanged:{handler:function(){switch(this.viewTitle){case"users":this.$refs.UserView.reloadDataTableHeaders();break;case"groups":this.$refs.GroupView.reloadDataTableHeaders();break;case"logs":this.$refs.LogView.reloadDataTableHeaders();break;case"dns":this.$refs.dnsView.reloadDataTableHeaders();break;default:break}}},requestRefresh:{handler:function(e){switch(e){case"home":void 0!=this.$refs.DirtreeView&&(console.log("Requested refresh for view component "+e),this.$refs.DirtreeView.resetSearch(),this.$refs.DirtreeView.resetDirtree(!0));break;case"users":void 0!=this.$refs.UserView&&(console.log("Requested refresh for component "+e),this.$refs.UserView.resetSearch(),this.$refs.UserView.listUserItems());break;case"groups":void 0!=this.$refs.GroupView&&(console.log("Requested refresh for component "+e),this.$refs.GroupView.resetSearch(),this.$refs.GroupView.listGroupItems());break;case"settings":void 0!=this.$refs.SettingsView&&(console.log("Requested refresh for component "+e),this.$refs.SettingsView.refreshSettings());break;case"logs":void 0!=this.$refs.LogView&&(console.log("Requested refresh for component "+e),this.$refs.LogView.resetSearch(),this.$refs.LogView.listLogs());break;case"dns":void 0!=this.$refs.dnsView&&(console.log("Requested refresh for component "+e),this.$refs.dnsView.getDNSData());break;default:e&&console.log("Requested refresh for component "+e);break}}}},computed:{},methods:{goToUser:function(e){this.$emit("goToUser",e)},goToGroup:function(e){this.$emit("goToGroup",e)},saveData:function(e,t){var r=this;return(0,x.Z)((0,k.Z)().mark((function s(){return(0,k.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:s.t0=e,s.next="userDialog"===s.t0?3:5;break;case 3:return r.refreshOnClose=!0,s.abrupt("break",8);case 5:return console.log(e),console.log(t),s.abrupt("break",8);case 8:case"end":return s.stop()}}),s)})))()},refreshAction:function(){var e=this;"home"==this.viewTitle&&Object.keys(this.itemTypes).forEach((function(t){e.itemTypes[t]["filtered"]=!1})),this.$emit("refresh"),this.userRefreshLoading=!1,this.refreshOnClose=!1}}},Qa=Ya,Xa=r(247),Ja=(0,l.Z)(Qa,D,T,!1,null,null,null),eo=Ja.exports;d()(Ja,{VContainer:Xa.Z,VDivider:Ye.Z,VRow:Ee.Z});var to=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-select",{style:this.$vuetify.breakpoint.smAndDown?"":"max-width: 25ch;",attrs:{"append-icon":"mdi-earth",dark:e.dark,light:e.light,items:e.languages,"hide-details":!0,outlined:"",dense:""},on:{input:function(t){return e.changeLanguage()}},scopedSlots:e._u([{key:"selection",fn:function(t){return[r("span",[e._v(" "+e._s(t.item.text+" ("+t.item.value.toUpperCase()+")")+" ")])]}},{key:"item",fn:function(t){return[r("span",[e._v(" "+e._s(t.item.text+" ("+t.item.value.toUpperCase()+")")+" ")])]}}]),model:{value:e.language,callback:function(t){e.language=t},expression:"language"}})},ro=[],so={props:{dark:Boolean,light:Boolean},data:function(){return{languages:[{text:"English",value:"en"},{text:"Español",value:"es"}],language:this.$i18n.locale}},created:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.verifyLocale();case 1:case"end":return t.stop()}}),t)})))()},computed:{breakpointXS:function(){return!!this.$vuetify.breakpoint.xs},breakpointSM:function(){return!!this.$vuetify.breakpoint.sm}},methods:{verifyLocale:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r,s;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=localStorage.getItem("locale"),void 0==r||null==r?(s=navigator.language.toLowerCase(),s.includes("es")?e.$i18n.locale="es":e.$i18n.locale="en",e.language=e.$i18n.locale,console.log("Using locale: "+e.language),localStorage.setItem("locale",e.$i18n.locale)):(e.language=r,e.$i18n.locale=r);case 2:case"end":return t.stop()}}),t)})))()},changeLanguage:function(){this.$i18n.locale=this.language,localStorage.setItem("locale",this.language),this.$emit("updateTabSliders");var e=document.documentElement;e.setAttribute("lang",this.$i18n.locale)}}},ao=so,oo=(0,l.Z)(ao,to,ro,!1,null,null,null),io=oo.exports;d()(oo,{VSelect:or.Z});var no=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{staticClass:"ma-0 pa-0",attrs:{"open-on-focus":"","open-on-hover":"","offset-y":"",dense:e.denseMenu},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({class:"ma-0 pa-0 "+e.extraClasses,attrs:{color:e.color,dark:"",outlined:"","min-width":e.minWidth,small:e.denseActivator}},"v-btn",a,!1),s),[e.icon.length>0?r("v-icon",{staticClass:"mr-2"},[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.$t("userAccountDropdown.title"))+" "),r("v-icon")],1)]}}]),model:{value:e.menu_expanded,callback:function(t){e.menu_expanded=t},expression:"menu_expanded"}},[r("v-list",{staticClass:"px-2",attrs:{flat:"",dense:e.denseMenu}},[r("v-list-item-group",[r("v-list-item",[e._v(" "+e._s(e.username)+" ")])],1),r("v-divider",{staticClass:"my-1 mx-4"}),r("v-list-item-group",e._l(e.entries,(function(t,s){return r("v-list-item",{key:s,attrs:{link:""},on:{click:function(r){return e.doFn(t.action)}}},[r("v-list-item-action",{staticClass:"ma-0 pa-0"},[r("v-row",[t.prepend_icon.length>0?r("v-icon",{staticClass:"mr-2"},[e._v(" "+e._s(t.prepend_icon)+" ")]):e._e(),e._v(" "+e._s(e.$t(t.i18n_string))+" "),t.append_icon.length>0?r("v-icon",{staticClass:"ml-2"},[e._v(" "+e._s(t.append_icon)+" ")]):e._e()],1)],1)],1)})),1)],1)],1)},lo=[],co=r(5618),uo=co.Z,po=(0,l.Z)(uo,no,lo,!1,null,null,null),mo=po.exports;d()(po,{VBtn:He.Z,VDivider:Ye.Z,VIcon:$e.Z,VList:rt.Z,VListItem:st.Z,VListItemAction:at.Z,VListItemGroup:sr.Z,VMenu:ar.Z,VRow:Ee.Z});var vo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0",attrs:{loading:e.loading}},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2"},[e._v(" "+e._s(e.$t("userAccountDropdown.title_long"))+" ")]),e.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"mx-4"}):e._e(),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),e.showQR?r("div",[r("v-row",{staticClass:"ma-0 pa-0 mt-2",attrs:{cols:"12",justify:"center"}},[r("v-alert",{staticClass:"ma-0 pa-0 px-6 py-4",attrs:{type:"info"}},[e._v(" "+e._s(e.$t("userAccountDropdown.qrInfo"))+" "),r("ul",e._l(e.auth_apps,(function(t,s){return r("li",{key:s,staticStyle:{"text-align":"start"}},[r("a",{staticClass:"text-secondary",attrs:{href:t.link,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(t.name)+" "),r("v-icon",{staticClass:"ml-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1)])})),0)])],1)],1):r("div",[r("v-row",{staticClass:"ma-0 pa-0 mt-2",attrs:{cols:"12",justify:"center"}},[r("h3",[e._v(" "+e._s(e.$t("ldap.attributes.username"))+" ")])]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[e._v(" "+e._s(e.username)+" ")]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6",sm:"10",md:"8"}},[r("v-divider")],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[r("h4",[e._v(" "+e._s(e.$t("ldap.attributes.name"))+" ")])]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[e._v(" "+e._s(e.first_name+" "+e.last_name)+" ")]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6",sm:"10",md:"8"}},[r("v-divider")],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[r("h4",[e._v(" "+e._s(e.$t("ldap.attributes.domain"))+" ")])]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[e._v(" "+e._s(e.domain)+" ")]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6",sm:"10",md:"8"}},[r("v-divider")],1)],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[r("h4",[e._v(" "+e._s(e.$t("ldap.attributes.realm"))+" ")])]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{cols:"12",justify:"center"}},[e._v(" "+e._s(e.realm)+" ")])],1),r("v-divider",{staticClass:"mx-8 my-5"}),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("h3",[e._v(" "+e._s(e.$t("userAccountDropdown.two_factor_title"))+" ")])]),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"auto"}},[r("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{"hide-details":"",label:e.$t("userAccountDropdown.enable_two_factor")},on:{change:e.toggleTwoFactor},model:{value:e.two_factor_auth,callback:function(t){e.two_factor_auth=t},expression:"two_factor_auth"}})],1),r("v-col",{staticClass:"ma-0 pa-0 my-2",attrs:{cols:"12"}},[e.noTotp?e._e():r("v-btn",{attrs:{small:"",color:"primary",outlined:"",disabled:!e.totp_uri||e.totp_uri.length<1},on:{click:function(t){e.showQR=!e.showQR}}},[e._v(" "+e._s(e.showQR?e.$t("userAccountDropdown.hideQR"):e.$t("userAccountDropdown.showQR"))+" ")])],1),e.hasTotp&&!this.totp_confirmed?r("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12",justify:"center"}},[r("v-alert",{staticClass:"mt-1 mx-10",attrs:{type:"warning",dense:"",border:"top",icon:"mdi-alert-box"}},[e._v(" "+e._s(e.$t("userAccountDropdown.TOTPnotConfirmed"))+" ")])],1):e._e(),e.showValidator&&e.showQR?r("v-form",{ref:"TOTPForm",staticClass:"ma-0 pa-0",staticStyle:{width:"100%"},on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center",align:"center"}},[r("v-col",{staticClass:"ma-0 pa-0 mb-2",attrs:{cols:"auto"}},[r("v-text-field",{attrs:{label:e.$t("userAccountDropdown.totpCodeFieldLabel"),disabled:e.noTotp,rules:[this.fieldRules(e.totp_code,"auth_totp",!0)],outlined:"",dense:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.totp_code,callback:function(t){e.totp_code=t},expression:"totp_code"}})],1),r("v-col",{staticClass:"ma-0 pa-0 mb-2 mx-2",attrs:{cols:"auto"}},[r("v-btn",{staticClass:"mb-6",attrs:{color:"primary",outlined:"",disabled:e.noTotp||e.loading},on:{click:e.validateTwoFactor}},[e._v(" "+e._s(e.$t("userAccountDropdown.validateTOTP"))+" ")])],1)],1)],1):e._e(),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[e.totp_uri.length>0&&e.two_factor_auth&&e.showQR?r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"auto"}},[r("v-card",{staticClass:"ma-0 pa-0 pa-2 pb-0",attrs:{elevation:"0",light:"",width:"fit-content",outlined:!e.isThemeDark(e.$vuetify)}},[r("QrcodeVue",{staticClass:"ma-0 pa-0",attrs:{value:e.totp_uri,size:225,level:"H"}})],1)],1):e._e()],1),e.recovery_codes.length>0&&!e.showQR?r("v-card",{staticClass:"ma-0 pa-0 mx-10",attrs:{outlined:""}},[r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-col",[e._v(" "+e._s(e.$t("userAccountDropdown.recoveryCodes").toUpperCase())+" ")]),e._l(e.recovery_codes,(function(t){return r("v-col",{key:t,attrs:{cols:"12"}},[e._v(" "+e._s(t)+" ")])}))],2)],1):e._e()],1),r("v-card-actions",{staticClass:"card-actions mt-4"},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{align:"center","align-content":"center",justify:this.$vuetify.breakpoint.mdAndDown?"center":"end"}},[r("v-btn",{class:"ma-0 pa-0 pa-4 ma-1 text-normal bg-white bg-lig-25",attrs:{rounded:""},on:{click:e.closeDialog}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-close ")]),e._v(" "+e._s(e.$t("actions.close"))+" ")],1)],1)],1)],1)},go=[],ho=r(9574),fo=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"device_name",void 0),(0,E.Z)((0,R.Z)(s),"config_url",void 0),(0,E.Z)((0,R.Z)(s),"label",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"create",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("totp/create");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validate",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("totp/validate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("totp/delete");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("totp/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(ve),bo=fo,_o={components:{QrcodeVue:ho.Z},mixins:[Me.Z,Fe],data:function(){return{loading:!1,error:!1,message:"",showValidator:!1,preferDarkMode:!1,two_factor_auth:!1,totp_uri:"",totp_code:"",recovery_codes:[],totp_confirmed:!1,showQR:!1,auth_apps:{freeotp:{link:"https://play.google.com/store/apps/details?id=org.liberty.android.freeotpplus",name:"FreeOTP+"},google:{link:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2",name:"Google Authenticator"},authy:{link:"https://authy.com/download/",name:"Authy"}}}},props:{username:String,first_name:String,last_name:String,domain:String,realm:String},mounted:function(){this.loadSettings()},computed:{noTotp:function(){return!this.totp_uri||this.totp_uri.length<1},hasTotp:function(){return!!this.totp_uri&&this.totp_uri.length>0}},methods:{closeDialog:function(){this.$emit("close")},loadSettings:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.recovery_codes=[],e.setTotp(),e.preferDarkMode=e.isThemeDark(e.$vuetify),t.next=6,new bo({}).list().then((function(t){e.setTotp(t),t.recovery_codes&&(e.recovery_codes=t.recovery_codes),e.loading=!1,e.error=!1})).catch((function(t){console.error(t),e.loading=!1,e.error=!0}));case 6:case"end":return t.stop()}}),t)})))()},setTotp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e&&e.totp_uri)return this.totp_uri=e.totp_uri,"totp_confirmed"in e&&(this.totp_confirmed=e.totp_confirmed[0]),this.totp_code="",this.two_factor_auth=!0,this.hasTotp&&1!=this.totp_confirmed&&(this.showValidator=!0),void this.$forceUpdate();this.totp_uri="",this.totp_confirmed=!1,this.totp_code="",this.two_factor_auth=!1,this.showValidator=!1,this.showQR=!1,this.loading=!1,this.error=!1,this.message="",this.$refs.TOTPForm&&this.$refs.TOTPForm.resetValidation(),this.$forceUpdate()},toggleTwoFactor:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,1!=e.two_factor_auth){t.next=6;break}return t.next=4,new bo({}).create().then((function(t){e.setTotp(t),e.loadSettings(),e.showValidator=!0,e.showQR=!0,e.loading=!1,e.error=!1,e.message=e.$t("userAccountDropdown.totpCreated"),Ti.$emit("createNotification",{message:e.message,type:"success"})})).catch((function(t){console.error(t),e.loading=!1,e.error=!0,e.message=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.message,type:"error"})}));case 4:t.next=8;break;case 6:return t.next=8,new bo({}).delete().then((function(){e.setTotp(),e.loadSettings(),e.showValidator=!1,e.showQR=!1,e.loading=!1,e.error=!1,e.message=e.$t("userAccountDropdown.totpDeleted"),Ti.$emit("createNotification",{message:e.message,type:"info"})})).catch((function(t){console.error(t),e.setTotp(),e.loading=!1,e.error=!0,e.message=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.message,type:"error"})}));case 8:case"end":return t.stop()}}),t)})))()},validateTwoFactor:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.TOTPForm.validate()){t.next=2;break}return t.abrupt("return");case 2:return r={totp_code:e.totp_code},t.next=5,new bo({}).validate(r).then((function(){e.loading=!1,e.error=!1,e.showQR=!1,e.showValidator=!1,e.totp_confirmed=!0,e.message=e.$t("userAccountDropdown.totpValidated"),Ti.$emit("createNotification",{message:e.message,type:"success"})})).catch((function(t){console.error(t),e.loading=!1,e.error=!0,e.message=e.getMessageForCode(t),Ti.$emit("createNotification",{message:e.message,type:"error"})}));case 5:case"end":return t.stop()}}),t)})))()}}},yo=_o,Co=(0,l.Z)(yo,vo,go,!1,null,null,null),wo=Co.exports;d()(Co,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VCheckbox:We.Z,VCol:Pe.Z,VDivider:Ye.Z,VForm:tt.Z,VIcon:$e.Z,VRow:Ee.Z,VTextField:pt.Z});var ko=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.buttonIsSwitch?r("v-switch",{staticClass:"ma-0 pa-0",attrs:{dark:e.dark,light:e.light,"hide-details":"",label:e.$t("misc.darkMode")},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}}):r("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:"",dark:e.dark,light:e.light,small:e.buttonIsSmall},on:{click:function(t){e.darkMode=!e.darkMode}},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}},[r("v-icon",{attrs:{id:"toggler-input"}},[e._v("mdi-contrast-circle")])],1)},xo=[],Do={props:{dark:Boolean,light:Boolean,buttonIsSmall:Boolean,buttonIsSwitch:Boolean},data:function(){return{darkMode:!1}},mounted:function(){var e=document.documentElement,t=localStorage.getItem("theme");"dark"===t?(e.setAttribute("theme","dark"),this.darkMode=!0):(e.setAttribute("theme","light"),this.darkMode=!1)},watch:{darkMode:function(){var e=document.documentElement;this.darkMode?(localStorage.setItem("theme","dark"),e.setAttribute("theme","dark"),this.$emit("darkMode",!0),this.$vuetify.theme.dark=!0):(localStorage.setItem("theme","light"),e.setAttribute("theme","light"),this.$emit("darkMode",!1),this.$vuetify.theme.dark=!1)}}},To=Do,So=r(1328),Ao=(0,l.Z)(To,ko,xo,!1,null,null,null),Zo=Ao.exports;d()(Ao,{VBtn:He.Z,VIcon:$e.Z,VSwitch:So.Z});var Po=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-3"},[r("v-row",{staticClass:"ma-0 pa-0"},[r("v-col",[r("v-alert",{staticClass:"ma-0 pa-6",attrs:{dense:"",type:"warning",icon:"mdi-lock-remove"}},[r("span",{staticClass:"mr-7"},[e._v(" "+e._s(e.$t("misc.logoutForbiddenMsg").toUpperCase())+" ")])])],1)],1),r("v-card-actions",{},[r("v-row",{staticClass:"ma-1 pa-0 mb-0",attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-0 clr-valid",attrs:{dark:"",rounded:""},on:{click:e.emitLogoutAction}},[e._v(e._s(e.$t("actions.backToLogin")))])],1)],1)],1)},Ro=[],$o={methods:{emitLogoutAction:function(){this.$emit("logoutAction")}}},Oo=$o,Eo=(0,l.Z)(Oo,Po,Ro,!1,null,null,null),Uo=Eo.exports;d()(Eo,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCol:Pe.Z,VRow:Ee.Z});var Lo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-3"},[r("v-row",{staticClass:"ma-0 pa-0"},[r("v-col",[r("v-alert",{staticClass:"ma-0 pa-6",attrs:{dense:"",type:e.alertType,icon:e.alertIcon}},[r("span",{staticClass:"mr-7"},[e._v(" "+e._s(e.$t("misc.actionRequired").toUpperCase())+" ")])])],1)],1),r("v-row",{staticClass:"ma-0 pa-0"},[r("v-col",[r("span",[e._v(" "+e._s(e.$t("misc.refreshTokenTimer")+" "+e.timer)+" ")])])],1),r("v-card-actions",{},[r("v-row",{staticClass:"ma-1 pa-0",attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-2 clr-valid",attrs:{dark:"",rounded:""},on:{click:e.emitLogoutAction}},[e._v(e._s(e.$t("actions.backToLogin")))]),r("v-btn",{staticClass:"ma-2 text-normal bg-primary",attrs:{disabled:!e.allowRefresh,rounded:""},on:{click:e.refreshAccessToken}},[e._v(e._s(e.$t("actions.refreshToken")))])],1)],1)],1)},No=[],Io=(r(3112),{data:function(){return{timeRemaining:0,timer:"00:00",intervalId:0,allowRefresh:!0,alertType:"info",alertIcon:"mdi-information"}},props:{countdown:Boolean},computed:{threshold:function(){var e=localStorage.getItem("refresh_token_lifetime");return e-e/3}},methods:{getTimeInMinutes:function(){var e=Math.floor(this.timeRemaining/60),t=this.timeRemaining-60*e;this.timer=String(String(e).padStart(2,"0")+":"+String(t).padStart(2,"0"))},clearCountdown:function(){clearInterval(this.intervalId),this.allowRefresh=!0,this.alertType="info",this.alertIcon="mdi-information",this.timeRemaining=localStorage.getItem("refresh_token_lifetime")-localStorage.getItem("access_token_lifetime")},startCountdown:function(){var e=this;this.clearCountdown(),this.getTimeInMinutes(),this.intervalId=setInterval((function(){e.thresholdPassed=e.timeRemaining<e.threshold,e.alertType=e.thresholdPassed?"warning":"info",e.alertIcon=e.thresholdPassed?"mdi-alert-box":"mdi-information",e.timeRemaining>0&&(e.timeRemaining-=1),e.timeRemaining<2&&(e.allowRefresh=!1),e.timeRemaining<1&&e.clearCountdown(),e.getTimeInMinutes()}),1e3)},emitLogoutAction:function(){this.$emit("logoutAction")},refreshAccessToken:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new ye({}).getCurrentUserData().then((function(){Ti.$emit("createNotification",{message:e.$t("misc.tokenRefreshed").toUpperCase(),type:"success"}),e.$emit("closeDialog"),e.clearCountdown()})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))()}}}),Vo=Io,jo=(0,l.Z)(Vo,Lo,No,!1,null,null,null),Fo=jo.exports;d()(jo,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCol:Pe.Z,VRow:Ee.Z});var Mo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-0 ma-0"},[r("v-card-title",{staticClass:"ma-0 pa-0 card-title"},[r("v-row",{staticClass:"ma-0 pa-0 ma-1",attrs:{align:"center",justify:"space-between"}},[r("h3",{staticClass:"pa-0 ma-0 ma-2 ml-3"},[e._v(" "+e._s(e.$t("contrib.title"))+" ")]),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",color:"red",rounded:""},on:{click:e.closeDialog}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1),r("v-card-text",{staticClass:"mt-4 pa-2 pt-0 font-weight-medium"},[r("v-row",{staticClass:"my-2 mx-1"},[r("span",{domProps:{innerHTML:e._s(e.$t("contrib.mainMsg"))}})]),r("h3",{staticClass:"mt-3 mb-1"},[e._v(" "+e._s(e.$t("contrib.subTitle"))+" ")]),r("v-row",{staticClass:"my-2 mx-1",attrs:{justify:"start"}},[r("ul",{staticClass:"contrib-list"},[r("li",[e._v(" Javier Blanqué - "),r("a",{attrs:{href:"https://javier.blanque.com.ar",target:"_blank"}},[e._v("(https://javier.blanque.com.ar)")]),r("ul",[r("li",{domProps:{innerHTML:e._s(e.$t("contrib.jblanque"))}})])]),r("li",[e._v(" Martín Vilche - "),r("a",{attrs:{href:"https://martinvsolutions.com",target:"_blank"}},[e._v("(https://martinvsolutions.com)")]),r("ul",e._l(e.$t("contrib.mvilche"),(function(t,s){return r("li",{key:s},[r("span",{domProps:{innerHTML:e._s(e.$t("contrib.mvilche."+s))}})])})),0)]),r("li",[e._v(" Etianen - "),r("a",{attrs:{href:"https://github.com/etianen/django-python3-ldap",target:"_blank"}},[e._v("(https://github.com/etianen/django-python3-ldap)")]),r("ul",[r("li",{domProps:{innerHTML:e._s(e.$t("contrib.etianen"))}})])]),r("li",[e._v(" Dirk Jan M. - "),r("a",{attrs:{href:"https://github.com/dirkjanm/krbrelayx",target:"_blank"}},[e._v("(https://github.com/dirkjanm/krbrelayx)")]),r("ul",[r("li",{domProps:{innerHTML:e._s(e.$t("contrib.dirkjanm"))}})])])])]),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[e._v(" "+e._s(e.$t("misc.version")+": "+e.version)+" ")])],1)],1)},Go=[],Bo="0.77.11",Ho=Bo,qo={data:function(){return{version:Ho}},methods:{closeDialog:function(){this.$emit("close")}}},zo=qo,Wo=(0,l.Z)(zo,Mo,Go,!1,null,null,null),Ko=Wo.exports;d()(Wo,{VBtn:He.Z,VCard:qe.Z,VCardText:ze.ZB,VCardTitle:ze.EB,VIcon:$e.Z,VRow:Ee.Z});var Yo=function(e){(0,$.Z)(r,e);var t=(0,O.Z)(r);function r(e){var s;return(0,Z.Z)(this,r),s=t.call(this,e),(0,E.Z)((0,R.Z)(s),"key",void 0),(0,E.Z)((0,R.Z)(s),"value",void 0),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}return(0,P.Z)(r,[{key:"get",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("test/get");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("test/post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("test/put",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("test/delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"options",value:function(){var e=(0,x.Z)((0,k.Z)().mark((function e(t){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.call("test/options",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(ve),Qo=Yo,Xo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-snackbar",{class:"transition-snack-color mb-12 "+e.snackbarTextColor,attrs:{transition:"slide-y-reverse-transition",timeout:-1,color:e.snackbarColor},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[r("v-btn",e._b({attrs:{icon:"",text:""},on:{click:function(t){e.showSnackbar=!1}}},"v-btn",s,!1),[r("v-icon",[e._v(" mdi-close ")])],1)]}}]),model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e.snackbarIcon.length>0?r("v-icon",{staticClass:"mr-1",attrs:{color:e.snackbarTextColor}},[e._v(" "+e._s(e.snackbarIcon)+" ")]):e._e(),e._v(" "+e._s(e.snackbarMessage.toUpperCase())+" ")],1)],1)},Jo=[],ei={mixins:[Fe],data:function(){return{showSnackbar:!1,snackbarMessage:"",notificationType:"",snackbarColor:"primary",snackbarTextColor:"",snackbarIcon:"",snackbarTimeout:1e4,snackBarTimer:0}},watch:{showSnackbar:function(e){1!=e&&this.resetSnackbar()}},created:function(){var e=this;Ti.$on("createNotification",(function(t){switch(clearTimeout(e.snackBarTimer),e.showSnackbar=!0,e.snackbarMessage=t.message,e.notificationType=t.type,e.notificationType){case"alert":e.snackbarColor="yellow",e.snackbarIcon="mdi-comment-alert-outline",e.snackbarTextColor="text-black";break;case"warning":e.snackbarColor="orange",e.snackbarIcon="mdi-alert-box";break;case"error":e.snackbarColor="red",e.snackbarIcon="mdi-close-circle-outline";break;case"success":e.snackbarColor="green",e.snackbarIcon="mdi-checkbox-marked-circle-outline";break;case"info":default:e.snackbarColor="primary",e.snackbarIcon="mdi-information";break}t.icon&&(e.snackbarIcon=t.icon),e.snackBarTimer=setTimeout((function(){e.showSnackbar=!1}),e.snackbarTimeout)}))},methods:{resetSnackbar:function(){var e=this;setTimeout((function(){1!=e.showSnackbar&&(e.snackbarColor="primary",e.snackbarTextColor="",e.snackbarMessage="")}),300)}}},ti=ei,ri=(0,l.Z)(ti,Xo,Jo,!1,null,null,null),si=ri.exports;d()(ri,{VBtn:He.Z,VIcon:$e.Z,VRow:Ee.Z,VSnackbar:nt.Z});var ai={name:"HomeView",mixins:[Fe,Me.Z],components:{ModularViewContainer:eo,LanguageSelector:io,UserAccountDropdown:mo,UserSettings:wo,LogoutDialog:Uo,RefreshTokenDialog:Fo,ThemeChanger:Zo,NotificationBusContainer:si,AboutDialog:Ko},data:function(){return{logoLight:r(6218),logoDark:r(8042),username:"",first_name:"",initLoad:!1,last_name:"",email:"",domain:"",realm:"",basedn:"",error:!1,showAboutDialog:!1,showLogoutDialog:!1,showRefreshTokenDialog:!1,showSettingsDialog:!1,requestRefresh:"",selectedTab:0,selectedTabTitle:"",showNavTabs:!1,langChanged:!1,active_tab:0,tableData:{headers:[],items:[]},timeoutId:0,navTabs:[{index:0,title:"home",enabled:!0,icon:"mdi-home",route:"home"},{index:1,title:"users",enabled:!0,icon:"mdi-account",route:"users"},{index:2,title:"groups",enabled:!0,icon:"mdi-google-circles-communities",route:"groups"},{index:3,title:"dns",enabled:!0,enableShortName:!0,icon:"mdi-dns",route:"dns"},{index:4,title:"gpo",enabled:!1,enableShortName:!0,icon:"mdi-google-circles-extended",route:"gpo"},{index:5,title:"settings",enabled:!0,icon:"mdi-cog",route:"settings"},{index:6,title:"logs",enabled:!0,icon:"mdi-flag-outline",route:"logs"}]}},created:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new ye({}).getCurrentUserData().then((function(t){var r=t.status,s=localStorage.getItem("token"),a="true"===localStorage.getItem("admin_allowed");t=t.data,/^20[0-8]|226/.test(r)?(e.username=localStorage.getItem("username"),e.first_name=localStorage.getItem("first_name"),e.last_name=localStorage.getItem("last_name"),e.email=localStorage.getItem("email"),e.access_token_lifetime=localStorage.getItem("access_token_lifetime"),e.refresh_token_lifetime=localStorage.getItem("refresh_token_lifetime"),new Ks({}).getDetails().then((function(){e.domain=localStorage.getItem("domain"),e.realm=localStorage.getItem("realm"),e.basedn=localStorage.getItem("basedn")}))):(s=localStorage.getItem("token"),s&&null!=s&&"null"!=s||(e.logoutAction(),e.showLogoutDialog=!0)),a&&0!=a||(e.logoutAction(),e.showLogoutDialog=!0)}));case 2:e.setupTimers();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.path,r&&r.length>0&&e.navTabs.forEach((function(t){"/"+t.route==e.$route.path&&(e.selectedTab=t.index,e.active_tab=t.index)})),setTimeout((function(){e.showNavTabs=!0}),250),t.next=5,e.loadDomainData().then((function(){"example.com"==e.domain&&e.updateSelectedTab(5)}));case 5:e.active_tab=e.selectedTab,0==e.selectedTab&&(e.initLoad=!0),e.selectedTabTitle=e.navTabs[e.selectedTab].title;case 8:case"end":return t.stop()}}),t)})))()},computed:{breakpointName:function(){return this.$vuetify.breakpoint.name},activeUserName:function(){return this.last_name&&this.last_name.length>0&&this.first_name&&this.first_name.length>0?this.last_name+", "+this.first_name+" | "+this.username:this.realm.toUpperCase()+"@"+this.username}},watch:{breakpointName:function(){var e=this;this.showNavTabs=!1,setTimeout((function(){e.showNavTabs=!0}),250)}},methods:{openSettings:function(){this.showSettingsDialog=!0,this.$refs.UserSettings&&this.$refs.UserSettings.loadSettings()},closeAbout:function(){this.showAboutDialog=!1},closeRefreshDialog:function(){this.showRefreshTokenDialog=!1,this.resetTimer()},goToPrevTab:function(){var e=this,t=this.selectedTab-1;this.navTabs.forEach((function(){if(e.navTabs[t].enabled)return e.updateSelectedTab(t);t-=1}))},goToNextTab:function(){var e=this,t=this.selectedTab+1;this.navTabs.forEach((function(){if(e.navTabs[t].enabled)return e.updateSelectedTab(t);t+=1}))},goToUser:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.updateSelectedTab(1);case 2:t.$refs.ModularViewContainerRef.forEach((function(t){Object.hasOwnProperty.call(t.$refs,"UserView")&&t.$refs.UserView.fetchUser(e)}));case 3:case"end":return r.stop()}}),r)})))()},goToGroup:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.updateSelectedTab(2);case 2:t.$refs.ModularViewContainerRef.forEach((function(t){Object.hasOwnProperty.call(t.$refs,"GroupView")&&t.$refs.GroupView.fetchGroup(e)}));case 3:case"end":return r.stop()}}),r)})))()},loadDomainData:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Ks({}).getDetails().then((function(){e.domain=localStorage.getItem("domain"),e.realm=localStorage.getItem("realm"),e.basedn=localStorage.getItem("basedn")}));case 2:case"end":return t.stop()}}),t)})))()},logoutAction:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.length>0&&void 0!==e[0]&&e[0],r.next=3,new ye({}).logout(s).then((function(){localStorage.setItem("logoutMessage",!0),t.$router.push("/login")}));case 3:case"end":return r.stop()}}),r)})))()},refreshOnLanguageChange:function(){var e=this;this.showNavTabs=!1,this.langChanged=!0,setTimeout((function(){e.showNavTabs=!0,e.langChanged=!1}),250)},updateSelectedTab:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.selectedTab!=e&&(t.selectedTab=e),0==t.selectedTab&&(t.initLoad=!0),t.active_tab=e,t.selectedTabTitle=t.navTabs[t.selectedTab].title,t.requestRefresh=t.selectedTabTitle,r.next=7,t.loadDomainData();case 7:s="",t.navTabs.forEach((function(t){t.index==e&&(s=t.route.length>0?t.route:"")})),t.$route.path!="/"+s&&t.$router.push("/"+s),t.requestRefresh="";case 11:case"end":return r.stop()}}),r)})))()},handleInactive:function(){var e=Date.parse(localStorage.getItem("refreshClock")),t=e+1e3*this.access_token_lifetime,r=e+1e3*this.refresh_token_lifetime,s=this.refresh_token_lifetime-this.access_token_lifetime;Date.now()>=t&&Date.now()<r?(this.showRefreshTokenDialog=!0,void 0!=this.$refs.RefreshTokenDialog&&this.$refs.RefreshTokenDialog.startCountdown(),this.timeoutId=setTimeout(this.handleInactive,1e3*s)):Date.now()>=r?(this.showLogoutDialog=!0,this.showRefreshTokenDialog=!1):this.resetTimer()},startTimer:function(){this.timeoutId=setTimeout(this.handleInactive,1e3*this.access_token_lifetime)},resetTimer:function(){clearTimeout(this.timeoutId),this.startTimer()},setupTimers:function(){this.startTimer()},debugAction:function(){return(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("This button should be removed and/or disabled in production"),e.next=3,new Qo({}).delete().then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))()}}},oi=ai,ii=r(1966),ni=r(7047),li=r(6656),ci=(0,l.Z)(oi,C,w,!1,null,null,null),di=ci.exports;d()(ci,{VBtn:He.Z,VCol:Pe.Z,VDialog:rr.Z,VDivider:Ye.Z,VFadeTransition:Re.Z5,VFooter:ii.Z,VIcon:$e.Z,VImg:ni.Z,VRow:Ee.Z,VTab:$t.Z,VTabItem:Ot.Z,VTabs:Et.Z,VTabsItems:Ut.Z,VToolbar:li.Z,VTooltip:nr.Z});var ui=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"login ma-0 pa-0",attrs:{fluid:"","fill-height":""}},[r("v-card",{staticClass:"py-4 px-6",staticStyle:{"min-width":"100%","border-radius":"0","border-left":"0","border-right":"0"},attrs:{outlined:"",dark:e.isThemeDark(e.$vuetify),light:!e.isThemeDark(e.$vuetify)}},[r("v-row",{staticClass:"mt-2",attrs:{justify:"center"}},[r("v-img",{attrs:{contain:"","max-width":"450px","aspect-ratio":14/3,src:e.isThemeDark(e.$vuetify)?e.logoLight:e.logoDark}})],1),r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-form",{ref:"loginform",attrs:{id:"login-form-container",color:"transparent",ripple:""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-col",{attrs:{align:"center"}},[r("v-row",{staticClass:"ma-0 pa-0 my-4",attrs:{justify:"center",align:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 px-2",attrs:{small:"",outlined:"",color:"primary"},on:{click:function(t){e.modeUser=!e.modeUser,e.username="",e.$refs.loginform.resetValidation()}}},[e.modeUser?r("span",[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-email ")]),e._v(" "+e._s(e.$t("section.login.useEmail"))+" ")],1):r("span",[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-account ")]),e._v(" "+e._s(e.$t("section.login.useLDAPUser"))+" ")],1)])],1),e.modeUser?r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-text-field",{staticClass:"font-weight-bold",attrs:{outlined:"",dense:"",label:e.$t("section.login.account"),"prepend-inner-icon":"mdi-account",disabled:e.submitted,"validate-on-blur":"",rules:[this.fieldRules(e.username,"ge_name",!0)],required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1):r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-text-field",{staticClass:"font-weight-bold",attrs:{autofocus:"",outlined:"",dense:"",label:e.$t("attribute.email"),"prepend-inner-icon":"mdi-email",disabled:e.submitted,"validate-on-blur":"",rules:[this.fieldRules(e.username,"ge_email",!0)],required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-text-field",{staticClass:"login-pwd-field login-field font-weight-bold mb-2",attrs:{outlined:"",dense:"",label:e.$t("attribute.users.password"),type:e.value?"password":"text","prepend-inner-icon":"mdi-lock",disabled:e.submitted,required:"","append-icon":e.value?"mdi-eye":"mdi-eye-off"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()},"click:append":function(){return e.value=!e.value}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[e.recovery_mode?e._e():r("v-text-field",{staticClass:"login-pwd-field login-field font-weight-bold mb-2",attrs:{outlined:"",dense:"",rules:[this.fieldRules(e.totp_code,"auth_totp")],label:e.$t("attribute.users.totp_code"),type:"text","prepend-inner-icon":"mdi-qrcode",disabled:e.submitted,required:""},on:{keypress:function(t){return e.isNumber(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.totp_code,callback:function(t){e.totp_code=t},expression:"totp_code"}})],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[e.recovery_mode?r("v-text-field",{staticClass:"login-pwd-field login-field font-weight-bold mb-2",attrs:{outlined:"",dense:"",rules:[this.fieldRules(e.recovery_code,"auth_recovery")],label:e.$t("attribute.users.recovery_code"),type:"text","prepend-inner-icon":"mdi-code-array",disabled:e.submitted,required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.recovery_code,callback:function(t){e.recovery_code=t},expression:"recovery_code"}}):e._e()],1),r("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center"}},[r("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:e.$t("section.login.useRecoveryCode")},model:{value:e.recovery_mode,callback:function(t){e.recovery_mode=t},expression:"recovery_mode"}})],1),r("v-row",{attrs:{justify:"center"}},[r("LanguageSelector",{staticClass:"font-weight-medium"})],1),r("v-row",{attrs:{justify:"center"}},[r("ThemeChanger",{staticClass:"font-weight-medium ma-6",attrs:{buttonIsSwitch:!0}})],1),r("v-row",{attrs:{justify:"center"}},[r("v-expand-transition",[1==e.error&&""!=e.errorMsg?r("v-alert",{attrs:{type:e.loginForbiddenCount>2&&e.error?e.loginForbiddenCount>4?"error":"warning":"info"}},[e._v(" "+e._s(this.errorMsg)+" ")]):e._e()],1)],1),r("div",[r("v-row",{staticClass:"pa-2 mt-4",attrs:{justify:"space-around"}},[r("v-btn",{staticClass:"primary white--text elevation-0 pa-0 ma-0 px-3 py-2 ma-3",attrs:{loading:e.submitted,disabled:e.submitted||0==this.username.length||0==this.password.length||!e.valid},on:{click:e.submit}},[e._v(" "+e._s(e.$t("section.login.loginBtn"))+" ")])],1)],1)],1)],1)],1)],1),r("v-snackbar",{staticClass:"mb-12",attrs:{timeout:"1500",dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[r("v-btn",e._b({attrs:{icon:"",text:""},on:{click:function(t){e.logoutSnackbar=!1}}},"v-btn",s,!1),[r("v-icon",[e._v(" mdi-close ")])],1)]}}]),model:{value:e.logoutSnackbar,callback:function(t){e.logoutSnackbar=t},expression:"logoutSnackbar"}},[e._v(" "+e._s(e.snackbarMessage)+" ")])],1)},pi=[],mi=(r(3161),{name:"LoginView",mixins:[Fe,Me.Z],components:{LanguageSelector:io,ThemeChanger:Zo},created:function(){return(0,x.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},data:function(){return{recovery_mode:!1,recovery_code:"",logoLight:r(6218),logoDark:r(8042),modeUser:!0,loginForbiddenCount:0,timeoutCounter:30,timedOut:!1,timeoutInterval:!1,valid:!1,error:!1,errorMsg:"",username:"",password:"",totp_code:"",submitted:!1,logoutSnackbar:!1,snackbarMessage:"",value:String}},mounted:function(){var e=parseInt(localStorage.getItem("loginForbiddenCount")),t=Boolean(localStorage.getItem("loginTimedOut")),r=parseInt(localStorage.getItem("loginTimeOutCounter"));Number.isInteger(e)&&(this.loginForbiddenCount=e),Number.isInteger(r)&&(this.timeoutCounter=r),1==t&&this.timeoutCounter>0&&(this.timedOut=t),1==this.timedOut&&this.setLoginTimeout(),this.loginForbiddenCount>0&&(this.error=!0);var s=localStorage.getItem("logoutMessage");s&&(this.snackbarMessage=this.$t("misc.loggedOut").toUpperCase(),this.logoutSnackbar=!0,localStorage.removeItem("logoutMessage"));var a=localStorage.getItem("token"),o=localStorage.getItem("admin_allowed");a&&null!=a&&"null"!=a&&(1==o?this.$router.push("/home"):this.$router.push("/enduser"))},watch:{validateForm:function(){this.$refs.loginform.validate()?this.valid=!0:this.valid=!1}},methods:{setLoginTimeout:function(){var e=this;this.timedOut=!0,this.timeoutCounter||(this.timeoutCounter=30),localStorage.setItem("loginTimedOut",!0),localStorage.setItem("loginTimeOutCounter",this.timeoutCounter),this.submitted=!1,this.valid=!1,this.error=!0,this.errorMsg=this.$t("section.login.tooManyLogins")+" ("+this.timeoutCounter+" "+this.$t("words.seconds")+")",this.timeoutInterval=setInterval((function(){0==e.timeoutCounter?(e.clearLoginTimeout(),e.valid=!0,e.errorMsg=e.$t("section.login.tryAgain"),clearInterval(e.timeoutInterval),setTimeout((function(){e.error=!1}),2500)):(e.timeoutCounter-=1,e.valid=!1,localStorage.setItem("loginTimeOutCounter",e.timeoutCounter),1==e.timeoutCounter&&(e.errorMsg=e.$t("section.login.tooManyLogins")+" ("+e.timeoutCounter+" "+e.$t("words.seconds")+")"),e.errorMsg=e.$t("section.login.tooManyLogins")+" ("+e.timeoutCounter+" "+e.$t("words.seconds")+")")}),1e3)},clearLoginTimeout:function(){localStorage.removeItem("loginForbiddenCount"),localStorage.removeItem("loginTimedOut"),localStorage.removeItem("loginTimeOutCounter"),this.timedOut=!1,this.timeoutCounter=30,this.loginForbiddenCount=0},submit:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){var r,s;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.loginform.validate()){t.next=2;break}return t.abrupt("return");case 2:if(""!=e.username&&""!=e.password){t.next=7;break}e.error=!0,e.errorMsg="",t.next=14;break;case 7:return e.submitted=!0,setTimeout((function(){e.submitted&&!e.error&&(e.submitted=!1,e.error=!0,e.errorMsg=e.getMessageForCode("ERR_LDAP_GW"))}),1e4),r=new ye({}),s={username:e.username,password:e.password},e.totp_code.length>0&&!e.recovery_mode?s.totp_code=e.totp_code:e.recovery_code.length>0&&(s.recovery_code=e.recovery_code),t.next=14,r.login(s).then((function(t){void 0!=t.data.access&&(e.error=!1,e.errorMsg="",localStorage.removeItem("loginForbiddenCount"),e.clearLoginTimeout(),1==t.data.admin_allowed?e.$router.push("/home"):e.$router.push("/enduser"))})).catch((function(t){console.log(t),e.submitted=!1,e.error=!0;var r=5-e.loginForbiddenCount,s=e.$t("section.login.retriesLeft");1==r&&(s=e.$t("section.login.oneRetryLeft")),401==t.status?(e.loginForbiddenCount+=1,localStorage.setItem("loginForbiddenCount",e.loginForbiddenCount),r>0?e.errorMsg=e.$t("error.codes.auth.invalid_credentials")+" ("+r+" "+s+")":e.setLoginTimeout()):e.errorMsg=e.getMessageForCode(t)}));case 14:case"end":return t.stop()}}),t)})))()},gotoPasswRecovery:function(){}}}),vi=mi,gi=(0,l.Z)(vi,ui,pi,!1,null,null,null),hi=gi.exports;d()(gi,{VAlert:Zt.Z,VBtn:He.Z,VCard:qe.Z,VCheckbox:We.Z,VCol:Pe.Z,VContainer:Xa.Z,VExpandTransition:Re.Fx,VForm:tt.Z,VIcon:$e.Z,VImg:ni.Z,VRow:Ee.Z,VSnackbar:nt.Z,VTextField:pt.Z});var fi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"enduser"},[r("v-row",{class:"ma-0 pa-0 px-4 text-normal transition-speed-fix "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),attrs:{align:"center",justify:"space-between"}},[r("v-img",{staticClass:"my-3",attrs:{"max-width":"30ch","max-height":"5em",contain:"","aspect-ratio":32/9,src:e.isThemeDark(e.$vuetify)?e.logoDark:e.logoLight}}),r("h2",{staticClass:"ma-2 my-4 font-weight-medium"},[e._v(e._s(e.domain.toUpperCase()))])],1),r("v-row",{class:"ma-0 pa-2 "+(e.isThemeDark(e.$vuetify)?"bg-secondary bg-lig-10":"bg-secondary bg-lig-20"),staticStyle:{height:"fit-content"},attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify),align:"center"}},[r("v-col",{attrs:{cols:"12",md:"auto"}},[r("LanguageSelector",{attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify)}})],1),this.$vuetify.breakpoint.mdAndUp?r("v-divider",{staticClass:"ma-6",staticStyle:{"border-color":"var(--clr-primary)"}}):e._e(),!this.$vuetify.breakpoint.mdAndUp&&e.realm&&""!=e.realm?r("v-col",{staticClass:"ma-0 pa-0 my-3"},[e.last_name&&""!=e.last_name&&e.first_name&&""!=e.first_name?r("span",{staticClass:"text-normal"},[e._v(" "+e._s(e.last_name+", "+e.first_name+" | "+e.realm.toUpperCase()+"@"+e.username)+" ")]):r("span",{staticClass:"text-normal"},[e._v(" "+e._s(e.realm.toUpperCase()+"@"+e.username)+" ")])]):e._e(),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"auto"}},[r("div",{staticClass:"mt-2 mr-4"},[r("UserAccountDropdown",{attrs:{extraClasses:"mr-3 px-2",icon:"mdi-account-cog",color:"primary",username:e.activeUserName},on:{logout:e.logoutAction,openSettings:e.openSettings}}),r("ThemeChanger",{attrs:{dark:!e.isThemeDark(e.$vuetify),light:e.isThemeDark(e.$vuetify),buttonIsSmall:!0}})],1)])],1),r("v-container",[r("v-card",[r("v-progress-linear",{attrs:{color:e.error?"red":"primary",indeterminate:e.loading}}),r("v-card-title",[r("v-row",{staticClass:"pa-0 ma-0 text-uppercase",attrs:{justify:"center"}},[e._v(" "+e._s(e.first_name.length>0&&e.last_name.length>0?e.$t("section.enduser.title")+" "+e.first_name+" "+e.last_name:e.$t("section.enduser.title")+" "+e.username)+" ")])],1),r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-alert",{attrs:{type:"info",dismissible:"","close-icon":"mdi-close"}},[e._v(" "+e._s(e.$t("section.enduser.helpMessage"))+" ")])],1),r("v-form",{on:{submit:function(e){e.preventDefault()}}},[r("v-row",{staticClass:"ma-2 mt-0",attrs:{"align-content":"center"}},[r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-3 mb-5",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"center":"start"}},[e._v(" "+e._s(e.$t("section.users.basicDetails"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"givenName",label:e.$t("ldap.attributes.givenName"),rules:[this.fieldRules(e.user.givenName,"ge_name")]},model:{value:e.user.givenName,callback:function(t){e.$set(e.user,"givenName",t)},expression:"user.givenName"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"sn",label:e.$t("ldap.attributes.sn"),rules:[this.fieldRules(e.user.sn,"ge_name")]},model:{value:e.user.sn,callback:function(t){e.$set(e.user,"sn",t)},expression:"user.sn"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"username",label:e.$t("ldap.attributes.username"),hint:e.$t("words.readOnly"),readonly:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"mail",label:e.$t("ldap.attributes.mail"),rules:[this.fieldRules(e.user.mail,"ge_mail")]},model:{value:e.user.mail,callback:function(t){e.$set(e.user,"mail",t)},expression:"user.mail"}})],1),void 0!=e.user.last_login&&""!=e.user.last_login?r("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("ldap.attributes.last_login")+": "+e.user.last_login)+" ")]):e._e(),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"telephoneNumber",label:e.$t("ldap.attributes.telephoneNumber"),rules:[this.fieldRules(e.user.telephoneNumber,"ge_phone")]},model:{value:e.user.telephoneNumber,callback:function(t){e.$set(e.user,"telephoneNumber",t)},expression:"user.telephoneNumber"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"wWWHomePage",label:e.$t("ldap.attributes.wWWHomePage"),rules:[this.fieldRules(e.user.wWWHomePage,"ge_website")]},model:{value:e.user.wWWHomePage,callback:function(t){e.$set(e.user,"wWWHomePage",t)},expression:"user.wWWHomePage"}})],1)],1)],1)],1),r("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"ma-1 pa-4",attrs:{outlined:"",height:"100%"}},[r("v-row",{staticClass:"pa-0 ma-0 text-h6 mx-4 mb-5",attrs:{justify:this.$vuetify.breakpoint.smAndDown?"center":"end"}},[e._v(" "+e._s(e.$t("section.users.location"))+" ")]),r("v-row",{staticClass:"pa-0 ma-0 font-weight-medium"},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"streetAddress",label:e.$t("ldap.attributes.streetAddress"),rules:[this.fieldRules(e.user.streetAddress,"ge_address_street")]},model:{value:e.user.streetAddress,callback:function(t){e.$set(e.user,"streetAddress",t)},expression:"user.streetAddress"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"postalCode",label:e.$t("ldap.attributes.postalCode"),rules:[this.fieldRules(e.user.postalCode,"ge_address_postal_code")]},model:{value:e.user.postalCode,callback:function(t){e.$set(e.user,"postalCode",t)},expression:"user.postalCode"}})],1),r("v-col",{class:this.$vuetify.breakpoint.smAndUp?"mt-3":"",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"l",label:e.$t("ldap.attributes.l"),rules:[this.fieldRules(e.user.l,"ge_address_city")]},model:{value:e.user.l,callback:function(t){e.$set(e.user,"l",t)},expression:"user.l"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-1 py-2",attrs:{outlined:""}},[void 0!=e.user.countryCode&&""!=e.user.countryCode&&0!=e.user.countryCode?r("div",[e._v(" "+e._s(e.$t("ldap.attributes.countryCodeCombined"))+" "),r("div",{attrs:{elevation:"0"}},[e._v(" "+e._s(e.user.countryCode)+" "+e._s("("+e.user.c+")")+" ")])]):r("div",[e._v(" "+e._s(e.$t("ldap.attributes.countryCodeCombined"))+" "),r("div",[e._v(" "+e._s(e.$t("error.data.noCountryCode"))+" ")])])])],1),void 0!=e.user.last_login&&""!=e.user.last_login?r("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("ldap.attributes.last_login")+": "+e.user.last_login)+" ")]):e._e(),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"st",label:e.$t("ldap.attributes.st"),rules:[this.fieldRules(e.user.st,"ge_state")]},model:{value:e.user.st,callback:function(t){e.$set(e.user,"st",t)},expression:"user.st"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-autocomplete",{attrs:{dense:"",id:"co",label:e.$t("ldap.attributes.co"),items:e.getCountryList(),rules:[this.fieldRules(e.user.co,"ge_country")]},model:{value:e.user.co,callback:function(t){e.$set(e.user,"co",t)},expression:"user.co"}})],1)],1)],1)],1)],1),r("v-row",{staticClass:"ma-2"},[r("v-expansion-panels",{staticClass:"ma-1",attrs:{flat:""}},[r("v-expansion-panel",{staticClass:"outlined"},[r("v-expansion-panel-header",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.$t("section.users.advancedDetails")+" ("+e.$t("words.readOnly")+")")+" ")]),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("v-text-field",{attrs:{dense:"",id:"distinguishedName",label:e.$t("ldap.attributes.distinguishedName"),readonly:"",rules:[this.fieldRules(e.user.distinguishedName,"ldap_dn")]},model:{value:e.user.distinguishedName,callback:function(t){e.$set(e.user,"distinguishedName",t)},expression:"user.distinguishedName"}})],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-text-field",{attrs:{dense:"",id:"userPrincipalName",label:e.$t("ldap.attributes.userPrincipalName"),readonly:"",rules:[this.fieldRules(e.user.userPrincipalName,"ldap_usn")]},model:{value:e.getUSN,callback:function(t){e.getUSN=t},expression:"getUSN"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"whenCreated",label:e.$t("ldap.attributes.whenCreated"),readonly:""},model:{value:e.user.whenCreated,callback:function(t){e.$set(e.user,"whenCreated",t)},expression:"user.whenCreated"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"whenChanged",label:e.$t("ldap.attributes.whenChanged"),readonly:""},model:{value:e.user.whenChanged,callback:function(t){e.$set(e.user,"whenChanged",t)},expression:"user.whenChanged"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"lastLogon",label:e.$t("ldap.attributes.lastLogon"),readonly:""},model:{value:e.user.lastLogon,callback:function(t){e.$set(e.user,"lastLogon",t)},expression:"user.lastLogon"}})],1),r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{dense:"",id:"pwdLastSet",label:e.$t("ldap.attributes.pwdLastSet"),readonly:""},model:{value:e.user.pwdLastSet,callback:function(t){e.$set(e.user,"pwdLastSet",t)},expression:"user.pwdLastSet"}})],1)],1)],1)],1)],1)],1)],1),r("v-card-actions",[r("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center"}},[r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1",attrs:{color:"primary",disabled:!e.user.can_change_pwd,rounded:""},on:{click:function(t){return e.openDialog("userResetPassword")}}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-key-variant ")]),e._v(" "+e._s(e.$t("actions.changeEnduserPassword"))+" ")],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 bg-secondary text-normal",attrs:{rounded:""},on:{click:e.saveUser}},[r("v-icon",{staticClass:"mr-1"},[e._v(" mdi-content-save ")]),e._v(" "+e._s(e.$t("actions.save"))+" ")],1),r("v-btn",{staticClass:"ma-0 pa-0 pa-4 ma-1 bg-primary",attrs:{color:"white",icon:"",elevation:"0",loading:e.loading},on:{click:e.refreshUser},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",[e._v("mdi-cached")])],1)]},proxy:!0}])},[r("v-icon",[e._v(" mdi-refresh ")])],1)],1)],1)],1)],1),r("NotificationBusContainer"),r("v-dialog",{attrs:{eager:"","max-width":"800px"},model:{value:e.dialogs["userResetPassword"],callback:function(t){e.$set(e.dialogs,"userResetPassword",t)},expression:"dialogs['userResetPassword']"}},[r("UserResetPassword",{ref:"UserResetPassword",attrs:{userObject:this.user,viewKey:"userResetPassword",isEndUser:!0},on:{closeDialog:e.closeDialog}})],1),r("v-dialog",{attrs:{persistent:"","content-class":"","max-width":"40rem"},model:{value:e.showLogoutDialog,callback:function(t){e.showLogoutDialog=t},expression:"showLogoutDialog"}},[r("LogoutDialog",{on:{logoutAction:function(t){return e.logoutAction(!0)}}})],1),r("v-dialog",{attrs:{persistent:"",eager:"","content-class":"","max-width":"40rem"},model:{value:e.showRefreshTokenDialog,callback:function(t){e.showRefreshTokenDialog=t},expression:"showRefreshTokenDialog"}},[r("RefreshTokenDialog",{ref:"RefreshTokenDialog",attrs:{countdown:e.showRefreshTokenDialog},on:{closeDialog:e.closeRefreshDialog,logoutAction:function(t){return e.logoutAction()}}})],1)],1)},bi=[],_i={name:"EnduserView",mixins:[Fe,Me.Z],components:{LanguageSelector:io,UserResetPassword:br,UserAccountDropdown:mo,NotificationBusContainer:si,RefreshTokenDialog:Fo,LogoutDialog:Uo,ThemeChanger:Zo},data:function(){return{logoLight:r(6218),logoDark:r(8042),dialogs:{userResetPassword:!1},loading:!1,error:!1,username:"",first_name:"",last_name:"",email:"",user:{},domain:"",realm:"",basedn:"",showLogoutDialog:!1,showRefreshTokenDialog:!1,timeoutId:0}},created:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.user=new ye({}),e.user.getCurrentUserData().then((function(t){var r=t.status,s=localStorage.getItem("token"),a="true"===localStorage.getItem("admin_allowed");t=t.data,/^20[0-8]|226/.test(r)?(e.username=localStorage.getItem("username"),e.first_name=localStorage.getItem("first_name"),e.last_name=localStorage.getItem("last_name"),e.email=localStorage.getItem("email"),e.access_token_lifetime=localStorage.getItem("access_token_lifetime"),e.refresh_token_lifetime=localStorage.getItem("refresh_token_lifetime"),new Ks({}).getDetails().then((function(){e.domain=localStorage.getItem("domain"),e.realm=localStorage.getItem("realm"),e.basedn=localStorage.getItem("basedn")}))):(s=localStorage.getItem("token"),s&&null!=s&&"null"!=s||e.logoutAction(),e.showLogoutDialog=!0),1==a&&e.$router.push("/home")})),e.setupTimers();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.user.fetchme().then((function(){e.loading=!1})).catch((function(t){console.log(t),e.loading=!1,e.error=!0})),e.loadDomainData();case 3:case"end":return t.stop()}}),t)})))()},computed:{getUSN:function(){return void 0!=this.user.username?this.user.username+"@"+this.domain:"@"+this.domain},activeUserName:function(){return this.last_name&&this.last_name.length>0&&this.first_name&&this.first_name.length>0?this.last_name+", "+this.first_name+" | "+this.username:this.realm.toUpperCase()+"@"+this.username}},methods:{openSettings:function(){this.showSettingsDialog=!0,this.$refs.UserSettings&&this.$refs.UserSettings.loadSettings()},saveUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.$emit("save",e.viewKey,e.user),t.next=4,new ye({}).updateSelf(e.user).then((function(){e.refreshUser(),e.loading=!1,e.loadingColor="primary"})).catch((function(t){console.log(t),e.userRefreshLoading=!1,e.loading=!1,e.loadingColor="error",e.error=!0}));case 4:case"end":return t.stop()}}),t)})))()},openDialog:function(e){switch(this.dialogs[e]=!0,e){default:break}},closeDialog:function(e){var t=this;return(0,x.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.dialogs[e]=!1,"userResetPassword"==e&&(t.showLogoutDialog=!0);case 2:case"end":return r.stop()}}),r)})))()},closeRefreshDialog:function(){this.showRefreshTokenDialog=!1,this.resetTimer()},refreshUser:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.error=!1,t.next=4,e.user.fetchme().then((function(){setTimeout((function(){e.loading=!1}),50)})).catch((function(t){console.log(t),e.loading=!1,e.error=!0}));case 4:case"end":return t.stop()}}),t)})))()},loadDomainData:function(){var e=this;return(0,x.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.domain&&e.realm){t.next=3;break}return t.next=3,new Ks({}).getDetails().then((function(){e.domain=localStorage.getItem("domain"),e.realm=localStorage.getItem("realm"),e.basedn=localStorage.getItem("basedn")}));case 3:case"end":return t.stop()}}),t)})))()},logoutAction:function(){var e=arguments,t=this;return(0,x.Z)((0,k.Z)().mark((function r(){var s;return(0,k.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.length>0&&void 0!==e[0]&&e[0],r.next=3,new ye({}).logout(s).then((function(){localStorage.setItem("logoutMessage",!0),t.$router.push("/login")}));case 3:case"end":return r.stop()}}),r)})))()},handleInactive:function(){var e=Date.parse(localStorage.getItem("refreshClock")),t=e+1e3*this.access_token_lifetime,r=e+1e3*this.refresh_token_lifetime,s=this.refresh_token_lifetime-this.access_token_lifetime;Date.now()>=t&&Date.now()<r?(this.showRefreshTokenDialog=!0,void 0!=this.$refs.RefreshTokenDialog&&this.$refs.RefreshTokenDialog.startCountdown(),this.timeoutId=setTimeout(this.handleInactive,1e3*s)):Date.now()>=r?(this.showLogoutDialog=!0,this.showRefreshTokenDialog=!1):this.resetTimer()},startTimer:function(){this.timeoutId=setTimeout(this.handleInactive,1e3*this.access_token_lifetime)},resetTimer:function(){clearTimeout(this.timeoutId),this.startTimer()},setupTimers:function(){this.startTimer()}}},yi=_i,Ci=(0,l.Z)(yi,fi,bi,!1,null,null,null),wi=Ci.exports;d()(Ci,{VAlert:Zt.Z,VAutocomplete:tr.Z,VBtn:He.Z,VCard:qe.Z,VCardActions:ze.h7,VCardTitle:ze.EB,VCol:Pe.Z,VContainer:Xa.Z,VDialog:rr.Z,VDivider:Ye.Z,VExpansionPanel:Qe.Z,VExpansionPanelContent:Xe.Z,VExpansionPanelHeader:Je.Z,VExpansionPanels:et.Z,VForm:tt.Z,VIcon:$e.Z,VImg:ni.Z,VProgressLinear:Oe.Z,VRow:Ee.Z,VTextField:pt.Z}),cr()(Ci,{Ripple:dr.Z}),s.Z.use(y.Z);var ki=[{path:"/",name:"root",component:hi},{path:"/home",name:"home",component:di},{path:"/users",name:"users",component:di},{path:"/groups",name:"groups",component:di},{path:"/dns",name:"dns",component:di},{path:"/gpo",name:"gpo",component:di},{path:"/settings",name:"settings",component:di},{path:"/logs",name:"logs",component:di},{path:"/login",name:"login",component:hi},{path:"/enduser",name:"enduser",component:wi}],xi=new y.Z({mode:"history",base:"/",routes:ki}),Di=xi;s.Z.config.productionTip=!1;var Ti=new s.Z;new s.Z({vuetify:g,i18n:_,router:Di,render:function(e){return e(m)}}).$mount("#app")},434:function(e,t,r){"use strict";r(2526),r(1817),r(2707);var s={methods:{isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},getResponseErrorCode:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0==t?(console.log("Error Data is undefined"),this.$t("error.unknown_short")):"string"==typeof t?t:(void 0!=t.response.data&&null!=t.response.data?"ldap_response"in t.response.data?e=t.response.data.ldap_response.description:"code"in t.response.data&&(e=t.response.data.code):e="code"in t?t.code:t.status_code,e)},getMessageForCode:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=this.getResponseErrorCode(t);switch(void 0!=r&&null!=r&&(e=r.length<40?" ("+r+")":" ("+r.substring(0,40)+"...)"),r){case"ERR_LDAP_GW":return this.$t("error.codes.ldapGwError");case 405:case"ERR_BAD_RESPONSE":return this.$t("error.codes.badRequest");case"ERR_INVALID_CSV":return this.$t("error.codes.invalidCSV");case"ERR_INVALID_CSV_HEADERS":return this.$t("error.codes.invalidCSVHeaders");case"ERR_FILEREADER":return this.$t("error.codes.fileReader");case 409:return this.$t("error.codes.conflict");case"ERR_NETWORK":return this.$t("error.codes.networkError");case"entryAlreadyExists":case"ldap_obj_exists":return this.$t("error.codes.ldapObjectExists");case"namingViolation":return this.$t("error.codes.namingViolation");case"noUsersInImport":return this.$t("error.codes.users.noUsersInImport");case"otp_invalid_code":case"otp_invalid_data":case"otp_required":case"otp_no_device_registered":case"otp_invalid_recovery_code":return this.$t("error.codes.otp."+r);case"dns_zone_missing":case"dns_zone_in_record":case"dns_zone_not_deletable":case"dns_zone_exists":case"dns_zone_does_not_exist":case"dns_record_not_in_request":case"dns_record_dn_missing":case"dns_record_type_conflict":case"dns_record_exists_conflict":case"dns_record_type_unsupported":case"dns_record_attr_missing":case"dns_record_type_missing":case"dns_record_data_does_not_match":case"dns_record_entry_does_not_exist":case"dns_soa_increment":case"dns_soa_record_root_only":case"dns_root_servers_only_cli":case"dns_list_response_empty":case"dns_field_validator_failed":return this.$t("error.codes.dns."+r);case null:case void 0:case"":default:if(r in this.$t("error.codes"))return this.$t("error.codes."+r);var s=this.$t("error.unknown_short");return void 0!=e&&null!=e&&(s+=e),s}},isThemeDark:function(e){return!0===e.theme.dark},sortNullLast:function(e,t,r){return e.sort((function(e,s){return e[t]===s[t]?0:null===e[t]||""===e[t]?1:null===s[t]||""===s[t]?-1:r[0]?e[t]<s[t]?1:-1:e[t]<s[t]?-1:1})),e}}};t.Z=s},3631:function(e,t,r){var s={"./en.json":790,"./es.json":8563};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=o,e.exports=a,a.id=3631},6218:function(e,t,r){"use strict";e.exports=r.p+"img/interlock-logo-wt-dark.e698724e.svg"},8042:function(e,t,r){"use strict";e.exports=r.p+"img/interlock-logo-wt-light.b176371a.svg"},790:function(e){"use strict";e.exports=JSON.parse('{"indexTitle":"Interlock - LDAP Manager","category":{"home":"Home","users":"Users","groups":"Security Groups","dns":"DNS","gpo":"GPO","dns_short":"DNS","gpo_short":"GPO","server":"Server","settings":"Settings","logs":"Event Logs","header":{"home":"Full Directory Tree","users":"Users","groups":"Security Groups","dns":"Domain Name Server","gpo":"Group Policy Objects","server":"Server Management","settings":"Settings","logs":"Event Logs"}},"actions":{"expirePwd":"Expire Password","extra":"Extra","moreActions":"More Actions","refreshToken":"Refresh Access Token","import":"Import","export":"Export","groupBy":"Group by","filter":"Filter","rename":"Rename","openAll":"Open all","closeAll":"Close all","unlock":"Unlock","resetFilters":"Reset Filters","backToLogin":"Go back to Log-in","testSettings":"Test Settings","restoreDefaultValues":"Restore Default Values","areYouSure":"Are you sure you wish to","label":"Actions","revert":"Revert","done":"Done","enable":"Enable","disable":"Disable","clickTo":"Click to","move":"Move","changePassword":"Change Password","changeEnduserPassword":"Change your Password","goToLink":"Go to Link","goTo":"Go to","search":"Search","yes":"Yes","no":"No","apply":"Apply","addF":"New","addM":"New","addN":"Add","previous":"Previous","back":"Go Back","back_short":"Back","confirm":"Confirm","edit":"Edit","view":"View","delete":"Delete","remove":"Remove","reset":"Reset","isRequired":"is required","isNotValid":"must be valid","Select":"Select","submit":"Submit","create":"Create","save":"Save","saveClose":"Save & Close","close":"Close","next":"Next","cancel":"Cancel","click":"Click","block":"Block","unblock":"Unblock","verify":"Verify","unverify":"Unverify","language":"Language","expires":"Expires","approve":"Approve","reject":"Reject","refresh":"Refresh","loading":"Loading","loading_long":"Loading, please wait","download":"Download","downloadLatest":"Download Latest","changeUserPerms":"View Permissions","massChangeUserPerms":"Change Permissions","changeUserGroups":"View Groups","addObjectClass":"Add Object Class","passwordChanged":"Password Changed"},"words":{"created":{"single":{"m":"Created","f":"Created","n":"Created"},"plural":{"m":"Created","f":"Created","n":"Created"}},"updated":{"single":{"m":"Updated","f":"Updated","n":"Updated"},"plural":{"m":"Updated","f":"Updated","n":"Updated"}},"deleted":{"single":{"m":"Deleted","f":"Deleted","n":"Deleted"},"plural":{"m":"Deleted","f":"Deleted","n":"Deleted"}},"saved":{"single":{"m":"Saved","f":"Saved","n":"Saved"},"plural":{"m":"Saved","f":"Saved","n":"Saved"}},"all":{"single":{"m":"All","f":"All","n":"All"},"plural":{"m":"All","f":"All","n":"All"}},"none":{"single":{"m":"None","f":"None","n":"None"}},"success":"Success","skipped":"Skipped","status":"Status","selected":"Selected","readOnly":"Read Only","member":"Member","enabled":"Enabled","disabled":"Disabled","seconds":"Seconds","minutes":"Minutes","hours":"Hours","key":"Key","value":"Value","error":"Error","today":"Today","filter":"Filter","legend":"Legend","export":"Export","maximum":"Maximum","minimum":"Minimum","expiration":"Expiration","expiration_ab":"Exp.","at":"At","of":"Of","details":"Details","list":"List","to":"To","currently":"Currently","notes":"Notes","secondaryM":"Secondary","secondaryF":"Secondary","others":"Others","processing":"Processing","date":"Date","loaded":{"single":{"m":"Loaded","f":"Loaded","n":"Loaded"},"plural":{"m":"Loaded","f":"Loaded","n":"Loaded"}},"unlocked":{"single":{"m":"Unlocked","f":"Unlocked","n":"Unlocked"},"plural":{"m":"Unlocked","f":"Unlocked","n":"Unlocked"}}},"classes":{"log":{"single":"Log","plural":"Logs"},"connection":{"single":"Connection","plural":"Connections"},"user":{"single":"User","plural":"Users"},"contact":{"single":"Contact","plural":"Contacts"},"builtin-domain":{"single":"Built-in","plural":"Built-ins"},"container":{"single":"Container","plural":"Containers"},"person":{"single":"Person","plural":"Persons"},"group":{"single":"Group","plural":"Groups"},"computer":{"single":"Computer","plural":"Computers"},"printer":{"single":"Printer","plural":"Printers"},"organizational-unit":{"single":"Organizational Unit","plural":"Organizational Units"},"ou":{"single":"Organizational Unit","plural":"Organizational Units"},"setting":{"single":"Setting","plural":"Settings"},"ldap":{"single":"LDAP Object","plural":"LDAP Objects"},"dns":{"zone":{"single":"DNS Zone","plural":"DNS Zones"},"record":{"single":"DNS Record","plural":"DNS Records"}}},"error":{"codes":{"conflict":"HTTP 409: Conflict","badRequest":"HTTP 405: Bad Request","ldapGwError":"LDAP Server is Unreachable","invalidCSV":"Invalid CSV File","invalidCSVHeaders":"Invalid CSV Headers","fileReader":"File Reader Exception","networkError":"AXIOS: Network Error","auth":{"invalid_credentials":"Incorrect Email or Password","verification_code":"Incorrect Code, Please try again","verified_successfully":"Verified Successfully","verification_expired":"Verification codes have been exhausted, contact an admin"},"otp":{"otp_invalid_code":"OTP Code is invalid","otp_invalid_recovery_code":"Recovery Code is invalid","otp_invalid_data":"OTP Data is invalid","otp_required":"OTP Code is Required","otp_no_device_registered":"No OTP Device Registered"},"dns":{"dns_zone_missing":"Zone Value is invalid","dns_zone_in_record":"Zone must not be included in Record Name","dns_zone_not_deletable":"Zone cannot be deleted","dns_zone_exists":"Zone already exists","dns_zone_does_not_exist":"Zone does not exist","dns_record_not_in_request":"Record is not present in request","dns_record_dn_missing":"Record does not contain the requested Distinguished Name","dns_record_type_conflict":"Record Type Insertion or Update has a conflict","dns_record_exists_conflict":"Record already exists","dns_record_type_unsupported":"Record Type not supported","dns_record_attr_missing":"Record does not contain a required attribute","dns_record_type_missing":"Record Type not in Request","dns_record_data_does_not_match":"Record Data does not match server-side entry","dns_record_entry_does_not_exist":"Record LDAP Entry does not exist","dns_soa_increment":"Unable to increment SOA Serial","dns_soa_record_root_only":"A Start Of Authority Record can only be set for the root of your zone","dns_root_servers_only_cli":"Root DNS Servers may only be modified by command-line","dns_field_validator_failed":"A Field in the Record has failed validation","dns_list_response_empty":"LDAP Response does not contain the DNS List"},"users":{"userExists":"User already exists","couldNotSave":"User could not be saved","countryMalformed":"User Country field is malformed","couldNotFetchGroups":"Error fetching User Groups","permissionMalformed":"Malformed Permissions Dictionary","noUsersInImport":"No Users detected in File"},"groups":{"groupExists":"Group already exists","couldNotSave":"Group could not be saved"},"ldapObjectExists":"An LDAP Object with that Identifier Exists","namingViolation":"Naming Violation Exception","unwillingToPerform":"LDAP Server is Unwilling to Perform Action","unwillingToPerformPwd":"Active Directory requires LDAPS to modify passwords"},"settings":{"testInvalid":"LDAP Bind Connection Failed","serverUnreachable":"LDAP Server Unreachable"},"data":{"noCountryCode":"No country code set"},"validation":{"below10000":"Numeric value must be below 10000","aboveZero":"Numeric value must be above 0","doubleQuotes":"Double quotes are not allowed","singleQuotes":"Single quotes are not allowed","domainRoot":"Must be a valid Domain Name (Exclude the DNS Zone, @ allowed for root)","ascii":"String Data must contain only ASCII Characters","fieldinvalid":"One or more fields are invalid","fieldRequired":"This field is required","passwordNotSame":"Passwords must match","alphabetic":"Must contain only letters (2 character minimum)","numeric":"Must contain only numbers","max4":"4 Characters Maximum","max6":"6 Characters Maximum","max8":"8 Characters Maximum","max255":"255 Characters Maximum","alphaNumeric":"Must be Alphanumeric","alphaNumericSpecialUsername":"Must contain only letters (hyphen allowed)","alphaNumericPassword":"8 char. minimum, special characters allowed: !@#$%&*()","alphaNumericSpaces":"a-z A-Z 0-9 and Spaces, 2 char. min","alphaNumericSpecial":"a-z A-Z 0-9 -_ and Spaces, 2 char. min","domain":"Must be a valid Top-Level Domain ( example.tld | domain.com )","email":"Must be a valid E-Mail (E.g.: john@domain.com)","phone":"Must be a valid Phone","date":"Date is invalid","dayDate":"Day Date is invalid","ipAddress":"Invalid IP Address","distinguishedName":"Distinguished Name is invalid","realm":"NT Realm is invalid","domainCanonical":"Must be a valid Domain in Canonical format (with a dot at the end)","totpLength":"TOTP Code must be 6 digits long"},"unableToLoad":"Unable to load","notDisplayedCorrectly":"Could not get error message to display","notFound":"not found","unknown_short":"An Unknown error has occurred","unknown":"An Unknown error has occurred, please try again or contact us"},"dns":{"hints":{"name":"Use the character @ to identify your root zone","stringData":"Insert the record without double quotation marks","quotesNotRequired":"Double quotes are not required, they are automatically set by the system"},"attributes":{"index":"Record Index","infiniteTtl":"Infinite TTL","ttl":"Time To Live","value":"Record Value","displayName":"Display Name","name":"Record Name","nameNode":"Node Name","nameTarget":"Target Name","ipAddress":"IP Address","address":"Address","type":"Record Type (Internal)","typeName":"Record Type","serial":"Serial","ts":"Tombstoned","tstime":"Tombstone Time","wPriority":"Priority","wWeight":"Weight","wPort":"Port","dwSerialNo":"Serial No.","dwRefresh":"Refresh","dwRetry":"Retry","dwExpire":"Expire","dwMinimumTtl":"Minimum TTL","namePrimaryServer":"Name Primary Server","zoneAdminEmail":"Zone Admin E-mail","nameExchange":"Name Exchange","stringData":"String Data","wPreference":"Priority"}},"ldap":{"attributes":{"realm":"NT Realm","domain":"Domain","name":"Name","objectRid":"Object Relative Identifier (RID)","objectSid":"Object Security Identifier (SID)","hasMembers":"Populated","sAMAccountName":"Account Name","username":"Username","givenName":"First Name","sn":"Last Name","cn":"Common Name","groupType":"Group Type","password":"Password","passwordConfirm":"Confirm Password","initials":"Initials","mail":"Email","displayName":"Full Display Name","is_enabled":"Account is Enabled","is_disabled":"Account is Disabled","last_login":"Last Login","role":"Role","is_staff":"Is Staff","telephoneNumber":"Phone Number","streetAddress":"Street Address","postalCode":"Postal Code","l":"City","st":"State / Province","countryCode":"Country INT Code","countryCodeCombined":"Country INT / ISO","c":"Country ISO Code","co":"Country","wWWHomePage":"Web Page","distinguishedName":"Distinguished Name","userPrincipalName":"User Principal Name","userPrincipalName_pre2000":"User Logon Name (pre-Windows 2000)","userAccountControl":"User Permissions (Raw INT)","whenCreated":"Account created at","whenChanged":"Account modified at","lastLogon":"Last Logon","badPwdCount":"Bad Password Count","pwdLastSet":"Password Last Set at","primaryGroupID":"Primary Group ID","objectClass":"Object Class","objectCategory":"Object Category","sAMAccountType":"Account Type"}},"components":{"objectEditor":"Object Editor"},"section":{"dns":{"zoneToAddName":"Name of the new DNS Zone","confirmZoneCreation":"Confirm Zone Creation","legacyMode":"Using Legacy DNS Mode","legacyMode_hint":"Have you tried Legacy DNS Mode?","createSuccess":"Record Created","updateSuccess":"Record Updated","deleteSuccess":"Record Deleted","deleteRecord":{"message":"Are you sure you wish to delete the DNS Record"},"massAction":{"delete":"The following DNS Records will be deleted"},"deleteZone":{"message":"Are you sure you wish to delete the DNS Zone","confirmZone":"Please confirm by writing the Zone name again"}},"login":{"title":"Log in to your LDAP Server","account":"LDAP Account / Username","useEmail":"Use E-Mail","useLDAPUser":"Use LDAP Account","loginBtn":"Log-in","useRecoveryCode":"Use Recovery Code","forgotMyPassword":"I forgot my password","tooManyLogins":"You\'ve been timed out","tryAgain":"You may now try again","oneRetryLeft":"retry left","retriesLeft":"retries left"},"logs":{"resetDialog":{"header":"Delete Event Logs","message":"Are you sure you wish to delete <b>all</b> the stored event logs?"},"truncateDialog":{"header":"Truncate Event Logs","message":"Are you sure you wish to truncate the stored event logs?"},"extras":{"move":"LDAP Object was moved","rename":"LDAP Object was renamed","end_user_updated":"User changed his details","changed_password":"User password changed","disable":"User was disabled","enable":"User was enabled","unlock":"User was unlocked"},"headers":{"date":"Log Date","user":"Responsible User","affectedObject":"Affected Object(s)","actionType":"Action Type","objectClass":"Object Class","extraMessage":"Extra Details","id":"Log ID"},"prevValue":"Previous Value","newValue":"New Value","seeDetails":"See Details","viewAction":{"truncate":{"slider":"Range to Truncate","button":"Truncate Logs","max":"Max","min":"Min"}},"actionType":{"CREATE":"Create","READ":"Read","UPDATE":"Update","DELETE":"Delete","LOGIN":"Login","LOGOUT":"Logout","OPEN":"Opened LDAP Connection","CLOSE":"Closed LDAP Connection"}},"enduser":{"title":"Welcome","helpMessage":"Below you can modify your Active Directory / LDAP user details and password"},"dirtree":{"deleteObject":{"title":"Delete LDAP Object","message":"Are you sure you wish to delete"},"ouCreate":{"header":"Create Organizational Unit","step1":"Organizational Unit Details","step2":"Organizational Unit Created","step2_success":"Organizational Unit Created Successfully","ouCreatedIn":"Organizational Unit will be created in"},"computerCreate":{"step1":"Computer Details","step2":"Computer Created","step2_success":"Computer Created Successfully","computerCreatedIn":"Computer will be created in"},"printerCreate":{"step1":"Printer Details","step2":"Printer Created","step2_success":"Printer Created Successfully","printerCreatedIn":"Printer will be created in"},"filterHint":"Click the blue chips to filter them","rename":{"title":"Rename LDAP Object","originalDistinguishedName":"Original Distinguished Name","success":"LDAP Object renamed successfully"},"move":{"setToRoot":"Select Domain Root","title":"Move LDAP Object","willBeMovedTo":"Will be moved to","originalRelativePath":"Original Relative Path","success":"LDAP Object moved successfully"}},"users":{"userCreate":{"header":"Create User","optionalsHeader":"Optional Details","domainRealmError":"Domain Settings Error, please re-open this component","userCreatedIn":"User will be created in","step1":"User Details","step2":"Password and Permissions","step3":"User Created","step3_success":"User Created Successfully"},"resetPasswordDialog":{"title":"Reset Password","changePasswordForUser":"Changing password for user","complexity":{"title":"Password Complexity Recommendations","letters":"Upper or lowercase letters (A-Z / a-z)","numbers":"Numeric characters (0–9)","symbols":"Non-alphanumeric characters like $, # or %","dontMatchUser":"No more than two symbols from the user\'s account name or display name"}},"userDialog":{"noLastLogon":"User has not logged in yet","userDetails":"User Details","addToGroup":"Add to Group","removeFromGroup":"Remove from Group","primaryGroupRemoveDisabled":"The primary group cannot be removed","containsGroups":"Contains Groups","doesNotContainGroups":"Does not contain Groups","hint":{"addObjectClass":"You better know what you\'re doing","primaryGroupID":"Only change this if you have Macintosh Clients or POSIX Compliant Applications"}},"import":{"title":"User Bulk Import","fileToUpload":"Attach User List File","supportedExtensions":"<b>.csv</b>, <b>.tsv</b>, or <b>.txt</b> file separated by <b>commas</b> or <b>tabs</b><br> do not delete the headers","fileReady":"File ready to import","fileCleared":"File Cleared","importOptions":"Import Options","usePlaceholderPassword":"Use Placeholder Password","dataMapping":"User Field Mapping","editUserMappings":"Edit Field Mappings","uploadFile":"Upload File","previewData":"Preview Data","previewMode":"User Bulk Import Preview","readyToImport":"File Ready to Import","downloadTemplate":"Download Template CSV","bulkImportSuccess":"Users Imported Successfully","bulkImportPartial":"Users Imported with Errors","error":{"validation":"Field Validation Error","permission":"Permission Parsing Error","country":"Country Parsing Error, see ISO-3166","create":"Could not create User Object","password":"Could not modify LDAP Password"}},"export":{"title":"User Bulk Export"},"youAreHere":"You are here","userUnlocked":"User unlocked Successfully","errorUserUnlock":"Error unlocking User","tryingToDisable":"You\'re trying to disable","disablingOwnUser":"You cannot disable your own user","antiLockoutWarning":"Anti-lockout Warning","basicDetails":"Basic Details","location":"Location","editFlagWarning":"You are now editing this user","viewFlagWarning":"You are viewing this user","perms":"User Permissions","groups":"User Groups","permsRaw":"Raw Output","permsRawHint":"Click here to open Microsoft Documentation on LDAP Permissions","permsCalc":"Calculated Permissions Int. Number","permsOutputArray":"Array/List to send","advancedDetails":"Advanced Details","deleteUser":{"title":"Delete User","message":"Are you sure you wish to delete the user","mass":"Are you sure you wish to mass delete the selected users","success":"Delete Operation Complete"},"permissions":{"LDAP_UF_SCRIPT":"Script Account","LDAP_UF_ACCOUNT_DISABLE":"Disable User Account","LDAP_UF_HOMEDIR_REQUIRED":"Home Directory Required","LDAP_UF_LOCKOUT":"Account Locked Out","LDAP_UF_PASSWD_NOTREQD":"User does not require Password","LDAP_UF_PASSWD_CANT_CHANGE":"User cannot change Password","LDAP_UF_ENCRYPTED_TEXT_PASSWORD_ALLOWED":"Encrypted text in password allowed","LDAP_UF_NORMAL_ACCOUNT":"Normal Account","LDAP_UF_INTERDOMAIN_TRUST_ACCOUNT":"Trust Inter-domain Account","LDAP_UF_WORKSTATION_TRUST_ACCOUNT":"Trust Work-station Account","LDAP_UF_SERVER_TRUST_ACCOUNT":"Trust Server Account","LDAP_UF_DONT_EXPIRE_PASSWD":"Password does not expire","LDAP_UF_MNS_LOGON_ACCOUNT":"MNS Logon Account","LDAP_UF_SMARTCARD_REQUIRED":"Requires Smart-Card","LDAP_UF_TRUSTED_FOR_DELEGATION":"Trusted for Delegation","LDAP_UF_NOT_DELEGATED":"Account is not Delegated","LDAP_UF_USE_DES_KEY_ONLY":"Use DES Key Only","LDAP_UF_DONT_REQUIRE_PREAUTH":"Do not require Pre-Authentication","LDAP_UF_PASSWORD_EXPIRED":"Password is Expired","LDAP_UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION":"Trusted to Authenticate for Delegation","LDAP_UF_NO_AUTH_DATA_REQUIRED":"No Authentication Data Required","LDAP_UF_PARTIAL_SECRETS_ACCOUNT":"Partial Secrets Account"}},"groups":{"groupBuiltinCannotDelete":"This group is built-in or protected","editFlagWarning":"You are now editing this group","isPopulated":"This group is populated","isNotPopulated":"This group is not Populated","types":{"GROUP_DISTRIBUTION":"Distribution Group","GROUP_SYSTEM":"System Created","GROUP_GLOBAL":"Global Scope","GROUP_DOMAIN_LOCAL":"Domain Local Scope","GROUP_UNIVERSAL":"Universal Scope","GROUP_SECURITY":"Security Group"},"groupCreate":{"header":"Create Group","step1":"Group Details","step2":"Group Members","step3":"Group Created","step3_success":"Group Created Successfully","optionalsHeader":"Optional Details","groupCreatedIn":"Group will be created in","memberAddError":"Error adding member, please try again"},"groupDialog":{"groupType":"Group Type","groupScope":"Group Scope","members":"Group Members","copyDistinguishedName":"Copy Distinguished Name"},"deleteGroup":{"title":"Delete Group","message":"Are you sure you wish to delete the group"}},"settings":{"defaultAdminIs":"Default Admin is","resetDialog":{"header":"Reset Settings","message":"Are you sure you wish to reset <b>all</b> the settings?"},"testSuccess":"LDAP Connection Successful","settingFailedValidation":"A parameter has failed validation","headers":{"log":"Logging","domain":"Domain","bindUser":"Bind User","connection":"Connection","filters":"Filters"},"fields":{"LDAP_LOG_MAX":"Maximum Logs in Rotation","LDAP_LOG_READ":"Log READ Events","LDAP_LOG_CREATE":"Log CREATE Events","LDAP_LOG_UPDATE":"Log UPDATE Events","LDAP_LOG_DELETE":"Log DELETE Events","LDAP_LOG_OPEN_CONNECTION":"Log OPEN LDAP CONNECTION Events (Not recommended)","LDAP_LOG_CLOSE_CONNECTION":"Log CLOSE LDAP CONNECTION Events (Not recommended)","LDAP_LOG_LOGIN":"Log Interlock LOGIN Events","LDAP_LOG_LOGOUT":"Log Interlock LOGOUT Events","LDAP_URI_PREFIX":"LDAP Prefix","LDAP_URI_IP":"Server IP","LDAP_URI_PORT":"Server Port","LDAP_URI_PORT_HINT":"Valid range: 1-65535","LDAP_AUTH_URL":"LDAP Servers","LDAP_AUTH_URL_HINT":"Add a server to the list","LDAP_DOMAIN":"LDAP Domain","LDAP_DOMAIN_HINT":"Example: domain.com","LDAP_PORT":"LDAP Server Port","LDAP_PORT_HINT":"Defaults: 389 (Non-TLS), 636 (TLS)","LDAP_DNS_LEGACY":"Legacy DNS","LDAP_DNS_LEGACY_HINT":"Test this if your DNS Section is not working","LDAP_AUTH_SEARCH_BASE":"LDAP/AD Search Base","LDAP_AUTH_SEARCH_BASE_HINT":"Example: dc=domain,dc=com","LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN":"Active Directory Domain / Realm","LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN_HINT":"Example: DOMAIN","LDAP_AUTH_CONNECTION_USER_DN":"Bind User DN","LDAP_AUTH_CONNECTION_PASSWORD":"Bind User Password","LDAP_AUTH_CONNECT_TIMEOUT":"LDAP Auth Connect Timeout","LDAP_AUTH_RECEIVE_TIMEOUT":"LDAP Auth Receive Timeout","LDAP_AUTH_USE_SSL":"Use SSL","LDAP_USE_SSL_HINT":"Requires the ldaps:// prefix","LDAP_AUTH_USE_SASL":"Use SASL (GSSAPI)","LDAP_AUTH_USE_TLS":"Use TLS","LDAP_AUTH_TLS_VERSION":"TLS Version","LDAP_AUTH_TLS_VERSION_HINT":"Default is PROTOCOL_TLSv1_2","ADMIN_GROUP_TO_SEARCH":"Admin Group DN Filter","LDAP_AUTH_OBJECT_CLASS":"Authentication Object Class","EXCLUDE_COMPUTER_ACCOUNTS":"Exclude Computer Accounts","LDAP_AUTH_USER_FIELDS":"LDAP Field Mapping","LDAP_AUTH_USER_LOOKUP_FIELDS":"Authentication User Lookup Fields"}}},"attribute":{"fname":"First Name","lname":"Last Name","name":"Name","fullName":"Full Name","email":"E-Mail","country":"Country","type":"Type","optional":"Optional","sexes":{"female":"Female","male":"Male","other":"Other","unspecified":"Unspecified"},"users":{"password":"Password","passwordConfirm":"Confirm Password","role":"Role","totp_code":"TOTP Code","recovery_code":"Recovery Code"},"phone":"Phone","phoneNumber":"Phone Number","secondaryPhone":"Secondary Phone","address":"Address","addressStreet":"Street","addressNumber":"Street Number","betweenStreets":"Between Streets","addressVerified":"Verified Address","addressCity":"City","addressPostalCode":"Postal Code","addressFloor":"Floor","addressApartment":"Apartment","addressState":"State","role":"Role","featureWIP":"This feature being worked on","notEnoughPerms":"Insufficient permissions","featureNotAvailable":"This feature is not available"},"footer":{"copyright":"Copyright (C) 2022 | BR Consulting S.R.L.","about":"About","donate":"Donate"},"userAccountDropdown":{"title":"Account","title_long":"Account Preferences","logout":"Logout","changePreferences":"Change Preferences","two_factor_title":"Two-Factor Authentication","enable_two_factor":"Enable TOTP 2FA","showQR":"Show TOTP QR Code","hideQR":"Hide QR Code","validateTOTP":"Validate TOTP QR Code","TOTPnotConfirmed":"Please Confirm your TOTP 2FA","recoveryCodes":"Consumable Recovery Codes","totpCodeFieldLabel":"6-digit TOTP Code","totpCreated":"TOTP Code Created","totpDeleted":"TOTP Code Deleted","totpValidated":"TOTP Code Validated","qrIsEnabled":"TOTP 2FA is enabled","qrInfo":"Scan this QR Code with a TOTP Authenticator App"},"misc":{"version":"Version","autocomputedField":"Autocomputed Field","darkMode":"Enable Dark Mode","logoutMsg":"Are you sure you wish to Logout?","loggedOut":"Logout Successful","logoutForbiddenMsg":"Please Log in Again","changePreferences":"Change Preferences","themerTooltip":"Change Theme","tokenRefreshed":"Access Token Refreshed","actionRequired":"Action Required","refreshTokenTimer":"Refresh Token will expire in"},"contrib":{"title":"About Interlock","subTitle":"Other Contributors","mainMsg":"Interlock was originally developed by <a target=\\"_blank\\" href=\\"https://dylan.blanque.com.ar\\">Dylan Blanqué</a> as an internal tool for <b>BR Consulting S.R.L.</b> and later made open source, with the intent of sharing a responsive and dynamic LDAP Management tool with the community.","jblanque":"Credited for assistance with Samba Binary Permission Parsing","mvilche":{"1":"Credited for Calls Module and Constructors in Interlock Front-end","2":"Credited for Notification Bus: Assistance with Implementation","3":"Other Minor Fixes and Assistance"},"etianen":"Credited for creating the original Django-python3-ldap module","dirkjanm":"Credited for his <b>amazing</b> krbrelayx repo and scripts"}}')},8563:function(e){"use strict";e.exports=JSON.parse('{"indexTitle":"Interlock - Administrador de LDAP","category":{"home":"Inicio","users":"Usuarios","groups":"Grupos de Seguridad","dns":"DNS","gpo":"GPO","dns_short":"DNS","gpo_short":"GPO","server":"Servidor","settings":"Configuración","logs":"Registro de Eventos","header":{"home":"Árbol de Directorio","users":"Usuarios","groups":"Grupos de Seguridad","dns":"Servidor de Nombre de Dominio","gpo":"Objetos de Política de Grupo","server":"Administración de Servidor","settings":"Configuración","logs":"Registro de Eventos"}},"actions":{"expirePwd":"Expirar Contraseña","extra":"Extra","moreActions":"Más Acciones","refreshToken":"Refrescar Token de Acceso","import":"Importar","export":"Exportar","groupBy":"Agrupar por","filter":"Filtrar","rename":"Renombrar","openAll":"Abrir todos","closeAll":"Cerrar todos","unlock":"Desbloquear","resetFilters":"Borrar Filtros","backToLogin":"Volver a iniciar sesión","testSettings":"Probar Configuración","restoreDefaultValues":"Restaurar Valores Originales","areYouSure":"¿Esta seguro de querer","label":"Acciones","revert":"Revertir","done":"Listo","enable":"Habilitar","disable":"Des-habilitar","clickTo":"Clickee para","move":"Mover","changePassword":"Cambiar Contraseña","changeEnduserPassword":"Cambiar su Contraseña","goToLink":"Ir a Enlace","goTo":"Ir a","search":"Buscar","yes":"Si","no":"No","apply":"Aplicar","addF":"Nueva","addM":"Nuevo","addN":"Añadir","previous":"Anterior","back":"Volver","back_short":"Volver","confirm":"Confirmar","edit":"Editar","view":"Ver","delete":"Borrar","remove":"Remover","reset":"Reiniciar","isRequired":"es requerido","isNotValid":"debe ser válido","submit":"Enviar","Select":"Seleccionar","create":"Crear","save":"Guardar","saveClose":"Guardar y Cerrar","close":"Cerrar","next":"Siguiente","cancel":"Cancelar","click":"Clickear","block":"Bloquear","unblock":"Desbloquear","verify":"Verificar","unverify":"Des-verificar","language":"Lenguaje","expires":"Vence","approve":"Aprobar","reject":"Rechazar","refresh":"Refrescar","loading":"Cargando","loading_long":"Cargando, por favor aguarde","download":"Descargar","downloadLatest":"Descargar Último","changeUserPerms":"Ver Permisos","massChangeUserPerms":"Cambiar Permisos","changeUserGroups":"Ver Grupos","addObjectClass":"Añadir Clase de Objeto","passwordChanged":"Contraseña Modificada"},"words":{"created":{"single":{"m":"Creado","f":"Creada","n":"Creado"},"plural":{"m":"Creados","f":"Creadas","n":"Creados"}},"updated":{"single":{"m":"Modificado","f":"Modificada","n":"Modificado"},"plural":{"m":"Modificados","f":"Modificadas","n":"Modificados"}},"deleted":{"single":{"m":"Eliminado","f":"Eliminada","n":"Eliminado"},"plural":{"m":"Eliminados","f":"Eliminadas","n":"Eliminados"}},"saved":{"single":{"m":"Guardado","f":"Guardada","n":"Guardado"},"plural":{"m":"Guardados","f":"Guardadas","n":"Guardados"}},"all":{"single":{"m":"Todo","f":"Toda","n":"Todo"},"plural":{"m":"Todos","f":"Todas","n":"Todos"}},"none":{"single":{"m":"Ninguno","f":"Ninguna","n":"Ninguno"}},"success":"Éxito","skipped":"Omitido","status":"Estado","selected":"Seleccionados","readOnly":"Solo Lectura","member":"Miembro","enabled":"Activado","disabled":"Des-activado","seconds":"Segundos","minutes":"Minutos","hours":"Horas","key":"Clave","value":"Valor","error":"Error","today":"Hoy","filter":"Filtro","legend":"Leyenda","export":"Exportar","maximum":"Máximo","minimum":"Mínimo","amount":"Monto","costs":"Costos","expiration":"Vencimiento","expiration_ab":"Vto.","at":"El","of":"De","details":"Detalles","list":"Listado","to":"Para","currently":"Actualmente","notes":"Notas","secondaryM":"Secundario","secondaryF":"Secundaria","number":"Número","currency":"Divisa","other":"Otro","others":"Otros","processing":"Procesando","date":"Fecha","total":"Total","loaded":{"single":{"m":"Cargado","f":"Cargada","n":"Cargado"},"plural":{"m":"Cargados","f":"Cargadas","n":"Cargado"}},"unlocked":{"single":{"m":"Desbloqueado","f":"Desbloqueada","n":"Desbloqueado"},"plural":{"m":"Desbloqueados","f":"Desbloqueadas","n":"Desbloqueados"}}},"classes":{"log":{"single":"Evento","plural":"Eventos"},"connection":{"single":"Conexión","plural":"Conexiones"},"user":{"single":"Usuario","plural":"Usuarios"},"contact":{"single":"Contacto","plural":"Contactos"},"builtin-domain":{"single":"Objeto Integrado","plural":"Objetos Integrados"},"container":{"single":"Contenedor","plural":"Contenedores"},"person":{"single":"Persona","plural":"Personas"},"group":{"single":"Grupo","plural":"Grupos"},"computer":{"single":"Computadora","plural":"Computadoras"},"printer":{"single":"Impresora","plural":"Impresoras"},"organizational-unit":{"single":"Unidad Organizacional","plural":"Unidades Organizacionales"},"ou":{"single":"Unidad Organizacional","plural":"Unidades Organizacionales"},"setting":{"single":"Parámetro","plural":"Parámetros"},"ldap":{"single":"Objeto LDAP","plural":"Objetos LDAP"},"dns":{"zone":{"single":"Zona de DNS","plural":"Zonas de DNS"},"record":{"single":"Registro de DNS","plural":"Registros de DNS"}}},"error":{"codes":{"conflict":"HTTP 409: Conflicto","badRequest":"HTTP 405: Request Erróneo","ldapGwError":"Servidor de LDAP Inalcanzable","invalidCSV":"Archivo CSV Inválido","invalidCSVHeaders":"Cabecera de CSV Inválida","fileReader":"Excepción del Lector de Archivos","networkError":"AXIOS: Error de Red","auth":{"invalid_credentials":"Email o Contraseña Incorrectos","verification_code":"Codigo Incorrecto, Intente nuevamente","verified_successfully":"Verificado Exitosamente","verification_expired":"Intentos de Verificación acabados, contacte un administrador"},"otp":{"otp_invalid_code":"Código OTP inválido","otp_invalid_recovery_code":"Código de Respaldo inválido","otp_invalid_data":"Datos OTP inválidos","otp_required":"Se requiere el Código OTP","otp_no_device_registered":"No se registró el Dispositivo OTP"},"dns":{"dns_zone_missing":"Valor de Zona DNS Inválido","dns_zone_in_record":"El Registro no debe incluir la Zona","dns_zone_not_deletable":"Esta Zona DNS no puede ser borrada","dns_zone_exists":"La Zona ya existe","dns_zone_does_not_exist":"La Zona no existe","dns_record_not_in_request":"El Registro DNS no se encuentra en el Request","dns_record_dn_missing":"No existe el Nombre Distinguido en ese Registro","dns_record_type_conflict":"La Inserción o Modificación genera un conflicto","dns_record_exists_conflict":"Este Registro DNS ya existe","dns_record_type_unsupported":"Tipo de Registro DNS no soportado","dns_record_attr_missing":"Falta un atributo requerido en el Request","dns_record_type_missing":"Falta el tipo de Registro DNS en el Request","dns_record_data_does_not_match":"Los datos del Registro no coinciden con los datos del servidor","dns_record_entry_does_not_exist":"La Entrada LDAP del Registro no existe","dns_soa_increment":"No se pudo Incrementar el Serial del SOA","dns_soa_record_root_only":"Solo puede configurar un SOA para la raíz de su zona","dns_root_servers_only_cli":"Los Servidores DNS de Raíz solo pueden ser modificados desde la consola","dns_field_validator_failed":"Un campo no fue validado correctamente","dns_list_response_empty":"La Respuesta del LDAP no contiene Zonas de DNS"},"users":{"userExists":"El usuario ya existe.","couldNotSave":"El usuario no pudo ser guardado","countryMalformed":"Campo de País mal formado","couldNotFetchGroups":"Error obteniendo Grupos del Usuario","permissionMalformed":"Diccionario de Permisos mal formado","noUsersInImport":"No hay usuarios en el archivo"},"groups":{"groupExists":"El grupo ya existe","couldNotSave":"El grupo no pudo ser guardado"},"ldapObjectExists":"Un Objeto LDAP con ese Identificador ya existe","namingViolation":"Excepción de Violación de Nombre (Naming Violation)","unwillingToPerform":"El Servidor LDAP no está dispuesto a realizar la acción","unwillingToPerformPwd":"Active Directory requiere LDAPS para modificar contraseñas"},"settings":{"testInvalid":"Prueba de Conexión LDAP Fallida","serverUnreachable":"Servidor LDAP Inalcanzable"},"data":{"noCountryCode":"Sin código configurado"},"validation":{"below10000":"El valor numérico debe ser menor a 10000","aboveZero":"El valor numérico debe ser mayor a 0","doubleQuotes":"No se permiten las comillas dobles","singleQuotes":"No se permiten las comillas simples","domainRoot":"Debe ser un Nombre de Dominio válido (excluir la zona, se permite @ para la raíz)","ascii":"Los Datos del String deben contener solo Caracteres ASCII","fieldinvalid":"Uno o mas campos son invalidos","fieldRequired":"Este campo es requerido","passwordNotSame":"Las contraseñas no coinciden","alphabetic":"Debe contener solo letras (2 caracteres mínimo)","numeric":"Debe contener solo números","max4":"Máximo de 4 caracteres","max6":"Máximo de 6 caracteres","max8":"Máximo de 8 caracteres","max255":"Máximo de 255 caracteres","alphaNumeric":"Debe ser alfanumérico","alphaNumericSpecialUsername":"Debe contener solo letras (guiones permitidos)","alphaNumericPassword":"8 caracteres mín., caracteres especiales permitidos: !@#$%&*()","alphaNumericSpaces":"a-z A-Z 0-9 y Espacios, 2 car. min","alphaNumericSpecial":"a-z A-Z 0-9 -_ y Espacios, 2 car. min","domain":"Debe ser un Dominio de NSG válido ( ejemplo.tld | dominio.com )","email":"Debe ser un E-Mail válido (Ej.: juan@dominio.com)","phone":"Debe ser un Teléfono válido","date":"Fecha inválida","dayDate":"Fecha de Día inválida","ipAddress":"Dirección de IP inválida","distinguishedName":"Nombre Distinguido inválido","realm":"Reino NT inválido","domainCanonical":"Debe ser un Dominio en formato Canónico (con un punto al final)","totpLength":"El Código TOTP debe tener 6 dígitos"},"unableToLoad":"No se pudo cargar la sección","notDisplayedCorrectly":"No se pudo obtener un código de error","notFound":"no encontrado","unknown_short":"Un error desconocido ha ocurrido","unknown":"Un error desconocido ha ocurrido, por favor inténtelo nuevamente"},"dns":{"hints":{"name":"Utilice el caracter @ para identificar su zona raíz","stringData":"Inserte el registro sin doble comilla","quotesNotRequired":"Las comillas dobles no son requeridas, son puestas en forma automática"},"attributes":{"index":"Indice del Registro","infiniteTtl":"TTL Infinito","ttl":"Tiempo de Vida","value":"Valor del Registro","displayName":"Nombre a Mostrar","name":"Nombre del Registro","nameNode":"Nombre del Nodo","nameTarget":"Nombre del Objetivo","ipAddress":"Dirección IP","address":"Dirección","type":"Tipo de Registro (Interno)","typeName":"Tipo de Registro","serial":"Serial","ts":"Lapidado","tstime":"Fecha de Lapidación","wPriority":"Prioridad","wWeight":"Peso","wPort":"Puerto","dwSerialNo":"Nro. Serial","dwRefresh":"Refresco","dwRetry":"Reintento","dwExpire":"Expiración","dwMinimumTtl":"Tiempo de Vida Mínimo (TTL)","namePrimaryServer":"Servidor Primario del Nombre","zoneAdminEmail":"E-mail del Admin de Zona","nameExchange":"Nombre del MX","stringData":"Datos del String","wPreference":"Prioridad"}},"ldap":{"attributes":{"realm":"Reino NT","domain":"Dominio","name":"Nombre","objectRid":"Identificador Relativo del Objeto (RID)","objectSid":"Identificador de Seguridad del Objeto (SID)","hasMembers":"Tiene Miembros","sAMAccountName":"Nombre de Cuenta","username":"Nombre de Usuario","givenName":"Nombre","sn":"Apellido","cn":"Nombre Común","groupType":"Tipo de Grupo","password":"Contraseña","passwordConfirm":"Confirmar Contraseña","initials":"Iniciales","mail":"Email","displayName":"Nombre Completo","is_enabled":"Usuario Habilitado","is_disabled":"Usuario Des-habilitado","last_login":"Ultima vez activo","role":"Rol","is_staff":"Es Empleado","telephoneNumber":"Teléfono","streetAddress":"Dirección","postalCode":"Código Postal","l":"Ciudad","st":"Estado / Provincia","countryCode":"País (Código INT)","countryCodeCombined":"País (Códigos INT / ISO)","c":"País (Código ISO)","co":"País","wWWHomePage":"Página Web","distinguishedName":"Nombre Distinguido","userPrincipalName":"Nombre Principal del Usuario","userPrincipalName_pre2000":"Nombre del Usuario (pre-Windows 2000)","userAccountControl":"Permisos del Usuario (INT Crudo)","whenCreated":"Cuenta creada el","whenChanged":"Cuenta modificada el","lastLogon":"Último inicio de sesión","badPwdCount":"Contador de Contraseñas Incorrectas","pwdLastSet":"Contraseña cambiada por última vez","primaryGroupID":"ID Primario de Grupo","objectClass":"Clase del Objeto","objectCategory":"Categoría del Objeto","sAMAccountType":"Tipo de Cuenta"}},"components":{"objectEditor":"Editor de Objeto"},"section":{"dns":{"zoneToAddName":"Nombre de la nueva Zona de DNS","confirmZoneCreation":"Confirmar Creación de Zona","legacyMode":"Utilizando DNS en Modo Legado","legacyMode_hint":"¿Intentó el Modo Legado de DNS?","createSuccess":"Registro Creado","updateSuccess":"Registro Modificado","deleteSuccess":"Registro Eliminado","deleteRecord":{"message":"¿Está seguro de borrar el Registro de DNS"},"massAction":{"delete":"Los siguientes registros de DNS serán eliminados"},"deleteZone":{"message":"¿Está seguro de borrar la Zona de DNS","confirmZone":"Por favor confirme re-escribiendo el nombre de la Zona"}},"login":{"title":"Inicie Sesión en su Servidor LDAP","account":"Cuenta LDAP / Usuario","useEmail":"Usar E-Mail","useLDAPUser":"Usar Cuenta LDAP","loginBtn":"Iniciar Sesión","useRecoveryCode":"Usar Código de Respaldo","forgotMyPassword":"Olvidé mi Contraseña","tooManyLogins":"Ha sido deshabilitado","tryAgain":"Inténtelo nuevamente","oneRetryLeft":"intento restante","retriesLeft":"intentos restantes"},"logs":{"resetDialog":{"header":"Borrar Registros de Eventos","message":"¿Está seguro de borrar <b>todos</b> los registros de evento?"},"truncateDialog":{"header":"Truncar Registros de Eventos","message":"¿Está seguro de truncar los registros de evento?"},"extras":{"move":"El objeto fue movido","rename":"El objeto fue renombrado","end_user_updated":"El usuario modificó sus detalles","changed_password":"La contraseña del Usuario cambió","disable":"El usuario fue des-habilitado","enable":"El usuario fue habilitado","unlock":"El usuario fue des-bloqueado"},"headers":{"date":"Fecha de Evento","user":"Usuario Responsable","affectedObject":"Objeto(s) Afectado(s)","actionType":"Tipo de Acción","objectClass":"Clase del Objeto","extraMessage":"Detalles Extra","id":"ID de Evento"},"prevValue":"Valor Anterior","newValue":"Nuevo Valor","seeDetails":"Ver Detalles","viewAction":{"truncate":{"slider":"Rango a Truncar","button":"Truncar Registros","max":"Máx","min":"Mín"}},"actionType":{"CREATE":"Creación","READ":"Lectura","UPDATE":"Modificación","DELETE":"Baja","LOGIN":"Inicio de Sesión","LOGOUT":"Cierre de Sesión","OPEN":"Apertura de Conexión","CLOSE":"Cierre de Conexión"}},"enduser":{"title":"Bienvenido","helpMessage":"Debajo puede modificar su contraseña y detalles de usuario de Active Directory / LDAP"},"dirtree":{"deleteObject":{"title":"Borrar Objeto LDAP","message":"¿Está seguro de borrar el objeto"},"ouCreate":{"step1":"Detalles de la Unidad Organizacional","step2":"Unidad Organizacional Creada","step2_success":"Unidad Organizacional Creada Exitosamente","ouCreatedIn":"La Unidad será creada en"},"computerCreate":{"step1":"Detalles de la Computadora","step2":"Computadora Creada","step2_success":"Computadora Creada Exitosamente","computerCreatedIn":"La Computadora será creada en"},"printerCreate":{"step1":"Detalles de la Impresora","step2":"Impresora Creada","step2_success":"Impresora Creada Exitosamente","printerCreatedIn":"La Impresora será creada en"},"filterHint":"Clickee los chips azules para filtrarlos","rename":{"title":"Renombrar Objeto LDAP","originalDistinguishedName":"Nombre Distinguido Original","success":"Objeto LDAP renombrado exitosamente"},"move":{"setToRoot":"Seleccionar Raíz de Dominio","title":"Mover Objeto de Dominio","willBeMovedTo":"Será movido a","originalRelativePath":"Camino Relativo Original","success":"Objeto LDAP movido exitosamente"}},"users":{"userCreate":{"header":"Crear Usuario","optionalsHeader":"Detalles Opcionales","validationError":"Error de Validación","domainRealmError":"Error de parámetros de dominio, por favor re-abra este componente","userCreatedIn":"El usuario será creado en","step1":"Detalles del Usuario","step2":"Contraseña y Permisos","step3":"Usuario Creado","step3_success":"Usuario Creado Exitosamente"},"resetPasswordDialog":{"title":"Blanqueo de Contraseña","changePasswordForUser":"Cambiará la contraseña del usuario","complexity":{"title":"Recomendaciones de Complejidad de Contraseña","letters":"Letras mayúscula o minúsucla (A-Z / a-z)","numbers":"Caracteres Numéricos (0-9)","symbols":"Caracteres No-Alfanuméricos como $, # o %","dontMatchUser":"No más que dos símbolos del nombre de usuario o nombre visible"}},"userDialog":{"noLastLogon":"El usuario aún no ha iniciado sesión","userDetails":"Detalles de Usuario","addToGroup":"Añadir a Grupo","removeFromGroup":"Remover del Grupo","primaryGroupRemoveDisabled":"El grupo primario no puede ser removido","containsGroups":"Contiene Grupos","doesNotContainGroups":"No contiene Grupos","hint":{"addObjectClass":"Mejor que sepa lo que hace","primaryGroupID":"Solo modifique este valor si tiene Clientes Macintosh o Aplicaciones que utilicen POSIX"}},"import":{"title":"Importación de Usuarios","fileToUpload":"Cargar Listado de Usuarios","supportedExtensions":"<b>.csv</b>, <b>.tsv</b>, o <b>.txt</b> separado por <b>comas</b> o <b>tabs</b><br> no borre la cabecera","fileReady":"Archivo listo para importar","fileCleared":"Archivo Eliminado","importOptions":"Opciones de Importación","usePlaceholderPassword":"Usar Password Temporaria","dataMapping":"Mappeo de Campos de Usuario","editUserMappings":"Editar Mappeo de Campos","uploadFile":"Cargar Archivo","previewData":"Pre-visualizar Datos","previewMode":"Pre-visualizacion de Usuarios a Importar","readyToImport":"Archivo listo para Importar","downloadTemplate":"Descargar Plantilla CSV","bulkImportSuccess":"Usuarios Importados Exitosamente","bulkImportPartial":"Usuarios Importados con Errores","error":{"validation":"Error de Validación de Campo","permission":"Error de Parseo (Permisos)","country":"Error de Parseo (País), ver ISO-3166","create":"No se pudo crear el Usuario LDAP","password":"No se pudo modificar la Contraseña LDAP"}},"export":{"title":"Exportación de Usuarios"},"youAreHere":"Usted está aquí","userUnlocked":"Usuario desbloqueado Exitosamente","errorUserUnlock":"Error al desbloquear el Usuario","tryingToDisable":"Está intentando des-habilitar","disablingOwnUser":"No puede des-habilitar su propio usuario","antiLockoutWarning":"Alerta Anti-bloqueo","basicDetails":"Detalles Básicos","location":"Ubicación","perms":"Permisos del Usuario","groups":"Grupos del Usuario","editFlagWarning":"Está editando el usuario","viewFlagWarning":"Está viendo el usuario","permsRaw":"Salida en Crudo","permsRawHint":"Clickee aquí para abrir documentación de Microsoft sobre Permisos de LDAP","permsCalc":"Número Int. de Permisos Calculado","permsOutputArray":"Lista/Array a enviar","advancedDetails":"Detalles Avanzados","deleteUser":{"title":"Borrar Usuario","message":"¿Está seguro de borrar el usuario","mass":"¿Está seguro de borrar en masa los usuarios seleccionados","success":"Operación de Borrado Completa"},"permissions":{"LDAP_UF_SCRIPT":"Usuario de Script","LDAP_UF_ACCOUNT_DISABLE":"Des-habilitar Cuenta de Usuario","LDAP_UF_HOMEDIR_REQUIRED":"Directorio Base Requerido","LDAP_UF_LOCKOUT":"Cuenta Bloqueada","LDAP_UF_PASSWD_NOTREQD":"El Usuario no requiere Contraseña","LDAP_UF_PASSWD_CANT_CHANGE":"El Usuario no puede cambiar la Contraseña","LDAP_UF_ENCRYPTED_TEXT_PASSWORD_ALLOWED":"Permitir texto encriptado en la Contraseña","LDAP_UF_NORMAL_ACCOUNT":"Cuenta Normal","LDAP_UF_INTERDOMAIN_TRUST_ACCOUNT":"Cuenta Inter-dominio Confiable","LDAP_UF_WORKSTATION_TRUST_ACCOUNT":"Cuenta de Estación de Trabajo Confiable","LDAP_UF_SERVER_TRUST_ACCOUNT":"Cuenta de Servidor Confiable","LDAP_UF_DONT_EXPIRE_PASSWD":"Contraseña sin expiración","LDAP_UF_MNS_LOGON_ACCOUNT":"Cuenta de Inicio con MNS","LDAP_UF_SMARTCARD_REQUIRED":"Requiere Tarjeta Inteligente (Smart-Card)","LDAP_UF_TRUSTED_FOR_DELEGATION":"Confiable para delegar","LDAP_UF_NOT_DELEGATED":"Cuenta no delegada","LDAP_UF_USE_DES_KEY_ONLY":"Usa Clave DES exclusivamente","LDAP_UF_DONT_REQUIRE_PREAUTH":"No requiere Pre-Autenticación","LDAP_UF_PASSWORD_EXPIRED":"Contraseña Expirada","LDAP_UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION":"Confiable para Autenticar Delegados","LDAP_UF_NO_AUTH_DATA_REQUIRED":"No requiere Datos de Autenticación","LDAP_UF_PARTIAL_SECRETS_ACCOUNT":"Cuenta de Secretos Parciales"}},"groups":{"groupBuiltinCannotDelete":"Este grupo es del sistema o está protegido","editFlagWarning":"Está editando el grupo","isPopulated":"El grupo tiene miembros","isNotPopulated":"El grupo no tiene miembros","types":{"GROUP_DISTRIBUTION":"Grupo de Distribución","GROUP_SYSTEM":"Creado por el Sistema","GROUP_GLOBAL":"Alcance Global","GROUP_DOMAIN_LOCAL":"Alcance Local de Dominio","GROUP_UNIVERSAL":"Alcance Universal","GROUP_SECURITY":"Grupo de Seguridad"},"groupCreate":{"header":"Crear Grupo","step1":"Detalles del Grupo","step2":"Miembros del Grupo","step3":"Grupo Creado","step3_success":"Grupo Creado Exitosamente","optionalsHeader":"Detalles Opcionales","groupCreatedIn":"El Grupo será creado en","memberAddError":"Error al añadir el miembro, por favor intente nuevamente"},"groupDialog":{"groupType":"Tipo de Grupo","groupScope":"Alcance del Grupo","members":"Miembros del grupo","copyDistinguishedName":"Copiar Nombre Distinguido"},"deleteGroup":{"title":"Borrar Grupo","message":"¿Está seguro de borrar el grupo"}},"settings":{"defaultAdminIs":"Administrador Pre-determinado","resetDialog":{"header":"Re-establecer Configuración","message":"¿Está seguro de re-establecer <b>todos</b> los parámetros?"},"testSuccess":"Conexión LDAP exitosa","settingFailedValidation":"Un parámetro ha fallado la validación","headers":{"log":"Historial","domain":"Dominio","bindUser":"Usuario de Conexión","connection":"Conexión","filters":"Filtros"},"fields":{"LDAP_LOG_MAX":"Cantidad Máxima de Eventos Registrados","LDAP_LOG_READ":"Registrar Eventos de LECTURA","LDAP_LOG_CREATE":"Registrar Eventos de ALTA","LDAP_LOG_UPDATE":"Registrar Eventos de MODIFICACIÓN","LDAP_LOG_DELETE":"Registrar Eventos de BAJA","LDAP_LOG_OPEN_CONNECTION":"Registrar Eventos al ABRIR CONEXIÓN LDAP (No recomendado)","LDAP_LOG_CLOSE_CONNECTION":"Registrar Evento al CERRAR CONEXIÓN LDAP (No recomendado)","LDAP_LOG_LOGIN":"Registrar Inicios de Sesión en Interlock","LDAP_LOG_LOGOUT":"Registrar Cierres de Sesión en Interlock","LDAP_URI_PREFIX":"Prefijo LDAP","LDAP_URI_IP":"Dirección IP del Servidor","LDAP_URI_PORT":"Puerto del Servidor","LDAP_URI_PORT_HINT":"Rango Válido: 1-65535","LDAP_AUTH_URL":"Servidores LDAP","LDAP_AUTH_URL_HINT":"Añadir un servidor a lista","LDAP_DOMAIN":"Dominio LDAP","LDAP_DOMAIN_HINT":"Ejemplo: dominio.com","LDAP_PORT":"Puerto del Servidor LDAP","LDAP_PORT_HINT":"Pre-determinado: 389 (Non-TLS), 636 (TLS)","LDAP_DNS_LEGACY":"DNS Modo Legacy","LDAP_DNS_LEGACY_HINT":"Pruebe este parámetro si su sección de DNS no funciona correctamente","LDAP_AUTH_SEARCH_BASE":"Base de Búsqueda de LDAP/AD","LDAP_AUTH_SEARCH_BASE_HINT":"Ejemplo: dc=dominio,dc=com","LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN":"Reino / Dominio de Autenticación de AD","LDAP_AUTH_ACTIVE_DIRECTORY_DOMAIN_HINT":"Ejemplo: DOMINIO","LDAP_AUTH_CONNECTION_USER_DN":"DN de Usuario de Conexión","LDAP_AUTH_CONNECTION_PASSWORD":"Contraseña de Usuario de Conexión","LDAP_AUTH_CONNECT_TIMEOUT":"Tiempo de Espera para la Conexión de Autenticación LDAP","LDAP_AUTH_RECEIVE_TIMEOUT":"Tiempo de Espera para recibir la respuesta de Autenticación LDAP","LDAP_AUTH_USE_SSL":"Usar SSL","LDAP_USE_SSL_HINT":"Requiere utilizar el prefijo ldaps://","LDAP_AUTH_USE_SASL":"Usar SASL (GSSAPI)","LDAP_AUTH_USE_TLS":"Usar TLS","LDAP_AUTH_TLS_VERSION":"Versión de TLS","LDAP_AUTH_TLS_VERSION_HINT":"El valor Pre-determinado es PROTOCOL_TLSv1_2","ADMIN_GROUP_TO_SEARCH":"Filtro DN de Grupo Administrador","LDAP_AUTH_OBJECT_CLASS":"Clase de Objeto de Autenticación","EXCLUDE_COMPUTER_ACCOUNTS":"Excluir Objetos de Computadoras","LDAP_AUTH_USER_FIELDS":"Mappeo de Campos de LDAP","LDAP_AUTH_USER_LOOKUP_FIELDS":"Campos de Búsqueda del Usuario"}}},"attribute":{"fname":"Nombre","lname":"Apellido","name":"Nombre","fullName":"Nombre Completo","email":"E-Mail","country":"País","type":"Tipo","optional":"Opcional","sexes":{"female":"Femenino","male":"Masculino","other":"Otro","unspecified":"No especificado"},"users":{"permissionsProfile":"Perfil de Permisos","password":"Contraseña","passwordConfirm":"Confirmar Contraseña","role":"Permisos","totp_code":"Código TOTP","recovery_code":"Código de Respaldo"},"phone":"Teléfono","phoneNumber":"Número Telefónico","secondaryPhone":"Teléfono Secundario","address":"Dirección","addressStreet":"Calle","addressNumber":"Altura","betweenStreets":"Entre Calles","addressVerified":"Dirección Verificada","addressCity":"Ciudad","addressPostalCode":"Código Postal","addressFloor":"Piso","addressApartment":"Apartamento","addressState":"Estado / Provincia","role":"Rol","featureWIP":"Característica en desarrollo","notEnoughPerms":"Permisos insuficientes","featureNotAvailable":"Característica no disponible"},"footer":{"copyright":"Derechos de Autor (C) 2022 | BR Consulting S.R.L.","about":"Más Información","donate":"Donar"},"userAccountDropdown":{"title":"Cuenta","title_long":"Preferencias de la Cuenta","logout":"Cerrar Sesión","changePreferences":"Cambiar Preferencias","two_factor_title":"Autenticación de Doble Factor","enable_two_factor":"Habilitar 2FA TOTP","showQR":"Ver Código QR de TOTP","hideQR":"Esconder Código QR","validateTOTP":"Validar Código QR TOTP","TOTPnotConfirmed":"Por favor confirme su 2FA TOTP","recoveryCodes":"Códigos de Respaldo Consumibles","totpCodeFieldLabel":"Código TOTP de 6 dígitos","totpCreated":"Código TOTP Creado","totpDeleted":"Código TOTP Eliminado","totpValidated":"Código TOTP Validado","qrIsEnabled":"TOTP 2FA está habilitado","qrInfo":"Escanee el Código QR con una App de Autenticación TOTP"},"misc":{"version":"Versión","autocomputedField":"Campo con computado automático","darkMode":"Activar Modo Oscuro","logoutMsg":"¿Está seguro de cerrar su sesión?","loggedOut":"Sesión cerrada exitosamente","logoutForbiddenMsg":"Por favor Inicie Sesión nuevamente","themerTooltip":"Cambiar Tema","tokenRefreshed":"Token de Acceso Refrescado","actionRequired":"Acción Requerida","refreshTokenTimer":"El Token de Refresco expirará en"},"contrib":{"title":"Sobre Interlock","subTitle":"Otros Contribuyentes","mainMsg":"Interlock fue desarrollado originalmente por <a target=\\"_blank\\" href=\\"https://dylan.blanque.com.ar\\">Dylan Blanqué</a> como una herramienta interna para <b>BR Consulting S.R.L.</b> y luego se publicó como producto Open-Source, con la intención de compartir una herramienta dinámica y responsive de administración LDAP con la comunidad.","jblanque":"Acreditado por su asistencia con el Parsing de Permisos Binarios de Samba","mvilche":{"1":"Acreditado por el Módulo de Llamadas y los Constructores del Front-end de Interlock","2":"Acreditado por ayudar con la implementación del Notification Bus","3":"Otros cambios y arreglos menores"},"etianen":"Acreditado por crear el módulo original de Django-python3-ldap","dirkjanm":"Acreditado por su <b>increíble</b> repo krbrelayx y sus scripts"}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,r,s,a){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],a=e[c][2];for(var i=!0,n=0;n<r.length;n++)(!1&a||o>=a)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[n])}))?r.splice(n--,1):(i=!1,a<o&&(o=a));if(i){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p="/"}(),function(){var e={143:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,o=r[0],i=r[1],n=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)__webpack_require__.o(i,s)&&(__webpack_require__.m[s]=i[s]);if(n)var c=n(__webpack_require__)}for(t&&t(r);l<o.length;l++)a=o[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(c)},r=self["webpackChunkvue_ldap_manager"]=self["webpackChunkvue_ldap_manager"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(8386)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app-legacy.706f2a51.js.map